import{g as Mr}from"./index-DrWh1H7H.js";var Ue={exports:{}};/*! For license information please see inplayer.min.js.LICENSE.txt */(function(Fe,Dr){(function(w,I){Fe.exports=I()})(window,function(){return function(w){var I={};function n(o){if(I[o])return I[o].exports;var a=I[o]={i:o,l:!1,exports:{}};return w[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=w,n.c=I,n.d=function(o,a,l){n.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,a){if(1&a&&(o=n(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var f in o)n.d(l,f,(function(t){return o[t]}).bind(null,f));return l},n.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(a,"a",a),a},n.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},n.p="",n(n.s=209)}([function(w,I,n){w.exports=n(84)},function(w,I){function n(o,a,l,f,t,s,i){try{var r=o[s](i),c=r.value}catch(h){return void l(h)}r.done?a(c):Promise.resolve(c).then(f,t)}w.exports=function(o){return function(){var a=this,l=arguments;return new Promise(function(f,t){var s=o.apply(a,l);function i(c){n(s,f,t,i,r,"next",c)}function r(c){n(s,f,t,i,r,"throw",c)}i(void 0)})}}},function(w,I){w.exports=function(n,o,a){return o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n}},function(w,I,n){var o=n(87),a=n(88),l=n(47);w.exports={formats:l,parse:a,stringify:o}},function(w,I){w.exports=function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}},function(w,I){function n(o){return w.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},n(o)}w.exports=n},function(w,I){function n(o,a){for(var l=0;l<a.length;l++){var f=a[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}w.exports=function(o,a,l){return a&&n(o.prototype,a),l&&n(o,l),o}},function(w,I,n){var o=n(85);w.exports=function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),l&&o(a,l)}},function(w,I,n){var o=n(86),a=n(17);w.exports=function(l,f){return!f||o(f)!=="object"&&typeof f!="function"?a(l):f}},function(w,I){var n,o,a=w.exports={};function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function t(x){if(n===setTimeout)return setTimeout(x,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(x,0);try{return n(x,0)}catch{try{return n.call(null,x,0)}catch{return n.call(this,x,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:l}catch{n=l}try{o=typeof clearTimeout=="function"?clearTimeout:f}catch{o=f}})();var s,i=[],r=!1,c=-1;function h(){r&&s&&(r=!1,s.length?i=s.concat(i):c=-1,i.length&&d())}function d(){if(!r){var x=t(h);r=!0;for(var y=i.length;y;){for(s=i,i=[];++c<y;)s&&s[c].run();c=-1,y=i.length}s=null,r=!1,function(_){if(o===clearTimeout)return clearTimeout(_);if((o===f||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}(x)}}function g(x,y){this.fun=x,this.array=y}function T(){}a.nextTick=function(x){var y=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)y[_-1]=arguments[_];i.push(new g(x,y)),i.length!==1||r||t(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=T,a.addListener=T,a.once=T,a.off=T,a.removeListener=T,a.removeAllListeners=T,a.emit=T,a.prependListener=T,a.prependOnceListener=T,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(w,I,n){var o=n(74),a=Object.prototype.toString;function l(c){return a.call(c)==="[object Array]"}function f(c){return c===void 0}function t(c){return c!==null&&typeof c=="object"}function s(c){if(a.call(c)!=="[object Object]")return!1;var h=Object.getPrototypeOf(c);return h===null||h===Object.prototype}function i(c){return a.call(c)==="[object Function]"}function r(c,h){if(c!=null)if(typeof c!="object"&&(c=[c]),l(c))for(var d=0,g=c.length;d<g;d++)h.call(null,c[d],d,c);else for(var T in c)Object.prototype.hasOwnProperty.call(c,T)&&h.call(null,c[T],T,c)}w.exports={isArray:l,isArrayBuffer:function(c){return a.call(c)==="[object ArrayBuffer]"},isBuffer:function(c){return c!==null&&!f(c)&&c.constructor!==null&&!f(c.constructor)&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)},isFormData:function(c){return typeof FormData<"u"&&c instanceof FormData},isArrayBufferView:function(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer&&c.buffer instanceof ArrayBuffer},isString:function(c){return typeof c=="string"},isNumber:function(c){return typeof c=="number"},isObject:t,isPlainObject:s,isUndefined:f,isDate:function(c){return a.call(c)==="[object Date]"},isFile:function(c){return a.call(c)==="[object File]"},isBlob:function(c){return a.call(c)==="[object Blob]"},isFunction:i,isStream:function(c){return t(c)&&i(c.pipe)},isURLSearchParams:function(c){return typeof URLSearchParams<"u"&&c instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:r,merge:function c(){var h={};function d(x,y){s(h[y])&&s(x)?h[y]=c(h[y],x):s(x)?h[y]=c({},x):l(x)?h[y]=x.slice():h[y]=x}for(var g=0,T=arguments.length;g<T;g++)r(arguments[g],d);return h},extend:function(c,h,d){return r(h,function(g,T){c[T]=d&&typeof g=="function"?o(g,d):g}),c},trim:function(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")},stripBOM:function(c){return c.charCodeAt(0)===65279&&(c=c.slice(1)),c}}},function(w,I,n){var o=n(22),a=n(60),l=n(39),f=n(61),t=n(62);(w.exports=function(s,i){var r,c,h,d,g;return arguments.length<2||typeof s!="string"?(d=i,i=s,s=null):d=arguments[2],o(s)?(r=t.call(s,"c"),c=t.call(s,"e"),h=t.call(s,"w")):(r=h=!0,c=!1),g={value:i,configurable:r,enumerable:c,writable:h},d?l(f(d),g):g}).gs=function(s,i,r){var c,h,d,g;return typeof s!="string"?(d=r,r=i,i=s,s=null):d=arguments[3],o(i)?a(i)?o(r)?a(r)||(d=r,r=void 0):r=void 0:(d=i,i=r=void 0):i=void 0,o(s)?(c=t.call(s,"c"),h=t.call(s,"e")):(c=!0,h=!1),g={get:i,set:r,configurable:c,enumerable:h},d?l(f(d),g):g}},function(w,I){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}w.exports=n},function(w,I){typeof Object.create=="function"?w.exports=function(n,o){o&&(n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:w.exports=function(n,o){if(o){n.super_=o;var a=function(){};a.prototype=o.prototype,n.prototype=new a,n.prototype.constructor=n}}},function(w,I,n){var o=n(21);w.exports=function(a){if(!o(a))throw new TypeError("Cannot use null or undefined");return a}},function(w,I,n){var o,a=typeof Reflect=="object"?Reflect:null,l=a&&typeof a.apply=="function"?a.apply:function(y,_,b){return Function.prototype.apply.call(y,_,b)};o=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var f=Number.isNaN||function(y){return y!=y};function t(){t.init.call(this)}w.exports=t,w.exports.once=function(y,_){return new Promise(function(b,u){function S(){v!==void 0&&y.removeListener("error",v),b([].slice.call(arguments))}var v;_!=="error"&&(v=function(R){y.removeListener(_,S),u(R)},y.once("error",v)),y.once(_,S)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var s=10;function i(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}function r(y){return y._maxListeners===void 0?t.defaultMaxListeners:y._maxListeners}function c(y,_,b,u){var S,v,R,M;if(i(b),(v=y._events)===void 0?(v=y._events=Object.create(null),y._eventsCount=0):(v.newListener!==void 0&&(y.emit("newListener",_,b.listener?b.listener:b),v=y._events),R=v[_]),R===void 0)R=v[_]=b,++y._eventsCount;else if(typeof R=="function"?R=v[_]=u?[b,R]:[R,b]:u?R.unshift(b):R.push(b),(S=r(y))>0&&R.length>S&&!R.warned){R.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=y,D.type=_,D.count=R.length,M=D,console&&console.warn&&console.warn(M)}return y}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(y,_,b){var u={fired:!1,wrapFn:void 0,target:y,type:_,listener:b},S=h.bind(u);return S.listener=b,u.wrapFn=S,S}function g(y,_,b){var u=y._events;if(u===void 0)return[];var S=u[_];return S===void 0?[]:typeof S=="function"?b?[S.listener||S]:[S]:b?function(v){for(var R=new Array(v.length),M=0;M<R.length;++M)R[M]=v[M].listener||v[M];return R}(S):x(S,S.length)}function T(y){var _=this._events;if(_!==void 0){var b=_[y];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function x(y,_){for(var b=new Array(_),u=0;u<_;++u)b[u]=y[u];return b}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number"||y<0||f(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");s=y}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||f(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},t.prototype.getMaxListeners=function(){return r(this)},t.prototype.emit=function(y){for(var _=[],b=1;b<arguments.length;b++)_.push(arguments[b]);var u=y==="error",S=this._events;if(S!==void 0)u=u&&S.error===void 0;else if(!u)return!1;if(u){var v;if(_.length>0&&(v=_[0]),v instanceof Error)throw v;var R=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw R.context=v,R}var M=S[y];if(M===void 0)return!1;if(typeof M=="function")l(M,this,_);else{var D=M.length,O=x(M,D);for(b=0;b<D;++b)l(O[b],this,_)}return!0},t.prototype.addListener=function(y,_){return c(this,y,_,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(y,_){return c(this,y,_,!0)},t.prototype.once=function(y,_){return i(_),this.on(y,d(this,y,_)),this},t.prototype.prependOnceListener=function(y,_){return i(_),this.prependListener(y,d(this,y,_)),this},t.prototype.removeListener=function(y,_){var b,u,S,v,R;if(i(_),(u=this._events)===void 0)return this;if((b=u[y])===void 0)return this;if(b===_||b.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete u[y],u.removeListener&&this.emit("removeListener",y,b.listener||_));else if(typeof b!="function"){for(S=-1,v=b.length-1;v>=0;v--)if(b[v]===_||b[v].listener===_){R=b[v].listener,S=v;break}if(S<0)return this;S===0?b.shift():function(M,D){for(;D+1<M.length;D++)M[D]=M[D+1];M.pop()}(b,S),b.length===1&&(u[y]=b[0]),u.removeListener!==void 0&&this.emit("removeListener",y,R||_)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(y){var _,b,u;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[y]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[y]),this;if(arguments.length===0){var S,v=Object.keys(b);for(u=0;u<v.length;++u)(S=v[u])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_=b[y])=="function")this.removeListener(y,_);else if(_!==void 0)for(u=_.length-1;u>=0;u--)this.removeListener(y,_[u]);return this},t.prototype.listeners=function(y){return g(this,y,!0)},t.prototype.rawListeners=function(y){return g(this,y,!1)},t.listenerCount=function(y,_){return typeof y.listenerCount=="function"?y.listenerCount(_):T.call(y,_)},t.prototype.listenerCount=T,t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(w,I,n){w.exports=n(127)()?n(30).Symbol:n(130)},function(w,I){w.exports=function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}},function(w,I,n){var o=n(23),a=Object.keys||function(g){var T=[];for(var x in g)T.push(x);return T};w.exports=c;var l=Object.create(n(25));l.inherits=n(13);var f=n(49),t=n(53);l.inherits(c,f);for(var s=a(t.prototype),i=0;i<s.length;i++){var r=s[i];c.prototype[r]||(c.prototype[r]=t.prototype[r])}function c(g){if(!(this instanceof c))return new c(g);f.call(this,g),t.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||o.nextTick(d,this)}function d(g){g.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),c.prototype._destroy=function(g,T){this.push(null),this.end(),o.nextTick(T,g)}},function(w,I,n){var o=n(24),a=o.Buffer;function l(t,s){for(var i in t)s[i]=t[i]}function f(t,s,i){return a(t,s,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?w.exports=o:(l(o,I),I.Buffer=f),f.prototype=Object.create(a.prototype),l(a,f),f.from=function(t,s,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return a(t,s,i)},f.alloc=function(t,s,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=a(t);return s!==void 0?typeof i=="string"?r.fill(s,i):r.fill(s):r.fill(0),r},f.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return a(t)},f.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(w,I,n){w.exports=function(o){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}},function(w,I,n){var o=n(106)();w.exports=function(a){return a!==o&&a!==null}},function(w,I,n){w.exports=function(o){return o!=null}},function(w,I,n){(function(o){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?w.exports={nextTick:function(a,l,f,t){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var s,i,r=arguments.length;switch(r){case 0:case 1:return o.nextTick(a);case 2:return o.nextTick(function(){a.call(null,l)});case 3:return o.nextTick(function(){a.call(null,l,f)});case 4:return o.nextTick(function(){a.call(null,l,f,t)});default:for(s=new Array(r-1),i=0;i<s.length;)s[i++]=arguments[i];return o.nextTick(function(){a.apply(null,s)})}}}:w.exports=o}).call(this,n(9))},function(w,I,n){(function(o){var a=n(94),l=n(95),f=n(50);function t(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(p,m){if(t()<m)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(p=new Uint8Array(m)).__proto__=i.prototype:(p===null&&(p=new i(m)),p.length=m),p}function i(p,m,e){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(p,m,e);if(typeof p=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return h(this,p)}return r(this,p,m,e)}function r(p,m,e,k){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?function(E,j,G,W){if(j.byteLength,G<0||j.byteLength<G)throw new RangeError("'offset' is out of bounds");if(j.byteLength<G+(W||0))throw new RangeError("'length' is out of bounds");return j=G===void 0&&W===void 0?new Uint8Array(j):W===void 0?new Uint8Array(j,G):new Uint8Array(j,G,W),i.TYPED_ARRAY_SUPPORT?(E=j).__proto__=i.prototype:E=d(E,j),E}(p,m,e,k):typeof m=="string"?function(E,j,G){if(typeof G=="string"&&G!==""||(G="utf8"),!i.isEncoding(G))throw new TypeError('"encoding" must be a valid string encoding');var W=0|T(j,G),ot=(E=s(E,W)).write(j,G);return ot!==W&&(E=E.slice(0,ot)),E}(p,m,e):function(E,j){if(i.isBuffer(j)){var G=0|g(j.length);return(E=s(E,G)).length===0||j.copy(E,0,0,G),E}if(j){if(typeof ArrayBuffer<"u"&&j.buffer instanceof ArrayBuffer||"length"in j)return typeof j.length!="number"||(W=j.length)!=W?s(E,0):d(E,j);if(j.type==="Buffer"&&f(j.data))return d(E,j.data)}var W;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(p,m)}function c(p){if(typeof p!="number")throw new TypeError('"size" argument must be a number');if(p<0)throw new RangeError('"size" argument must not be negative')}function h(p,m){if(c(m),p=s(p,m<0?0:0|g(m)),!i.TYPED_ARRAY_SUPPORT)for(var e=0;e<m;++e)p[e]=0;return p}function d(p,m){var e=m.length<0?0:0|g(m.length);p=s(p,e);for(var k=0;k<e;k+=1)p[k]=255&m[k];return p}function g(p){if(p>=t())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t().toString(16)+" bytes");return 0|p}function T(p,m){if(i.isBuffer(p))return p.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(p)||p instanceof ArrayBuffer))return p.byteLength;typeof p!="string"&&(p=""+p);var e=p.length;if(e===0)return 0;for(var k=!1;;)switch(m){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return ft(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return vt(p).length;default:if(k)return ft(p).length;m=(""+m).toLowerCase(),k=!0}}function x(p,m,e){var k=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(m>>>=0))return"";for(p||(p="utf8");;)switch(p){case"hex":return K(this,m,e);case"utf8":case"utf-8":return P(this,m,e);case"ascii":return H(this,m,e);case"latin1":case"binary":return X(this,m,e);case"base64":return O(this,m,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,m,e);default:if(k)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),k=!0}}function y(p,m,e){var k=p[m];p[m]=p[e],p[e]=k}function _(p,m,e,k,E){if(p.length===0)return-1;if(typeof e=="string"?(k=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=E?0:p.length-1),e<0&&(e=p.length+e),e>=p.length){if(E)return-1;e=p.length-1}else if(e<0){if(!E)return-1;e=0}if(typeof m=="string"&&(m=i.from(m,k)),i.isBuffer(m))return m.length===0?-1:b(p,m,e,k,E);if(typeof m=="number")return m&=255,i.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(p,m,e):Uint8Array.prototype.lastIndexOf.call(p,m,e):b(p,[m],e,k,E);throw new TypeError("val must be string, number or Buffer")}function b(p,m,e,k,E){var j,G=1,W=p.length,ot=m.length;if(k!==void 0&&((k=String(k).toLowerCase())==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(p.length<2||m.length<2)return-1;G=2,W/=2,ot/=2,e/=2}function yt(Jt,Qt){return G===1?Jt[Qt]:Jt.readUInt16BE(Qt*G)}if(E){var nt=-1;for(j=e;j<W;j++)if(yt(p,j)===yt(m,nt===-1?0:j-nt)){if(nt===-1&&(nt=j),j-nt+1===ot)return nt*G}else nt!==-1&&(j-=j-nt),nt=-1}else for(e+ot>W&&(e=W-ot),j=e;j>=0;j--){for(var dt=!0,ht=0;ht<ot;ht++)if(yt(p,j+ht)!==yt(m,ht)){dt=!1;break}if(dt)return j}return-1}function u(p,m,e,k){e=Number(e)||0;var E=p.length-e;k?(k=Number(k))>E&&(k=E):k=E;var j=m.length;if(j%2!=0)throw new TypeError("Invalid hex string");k>j/2&&(k=j/2);for(var G=0;G<k;++G){var W=parseInt(m.substr(2*G,2),16);if(isNaN(W))return G;p[e+G]=W}return G}function S(p,m,e,k){return it(ft(m,p.length-e),p,e,k)}function v(p,m,e,k){return it(function(E){for(var j=[],G=0;G<E.length;++G)j.push(255&E.charCodeAt(G));return j}(m),p,e,k)}function R(p,m,e,k){return v(p,m,e,k)}function M(p,m,e,k){return it(vt(m),p,e,k)}function D(p,m,e,k){return it(function(E,j){for(var G,W,ot,yt=[],nt=0;nt<E.length&&!((j-=2)<0);++nt)W=(G=E.charCodeAt(nt))>>8,ot=G%256,yt.push(ot),yt.push(W);return yt}(m,p.length-e),p,e,k)}function O(p,m,e){return m===0&&e===p.length?a.fromByteArray(p):a.fromByteArray(p.slice(m,e))}function P(p,m,e){e=Math.min(p.length,e);for(var k=[],E=m;E<e;){var j,G,W,ot,yt=p[E],nt=null,dt=yt>239?4:yt>223?3:yt>191?2:1;if(E+dt<=e)switch(dt){case 1:yt<128&&(nt=yt);break;case 2:(192&(j=p[E+1]))==128&&(ot=(31&yt)<<6|63&j)>127&&(nt=ot);break;case 3:j=p[E+1],G=p[E+2],(192&j)==128&&(192&G)==128&&(ot=(15&yt)<<12|(63&j)<<6|63&G)>2047&&(ot<55296||ot>57343)&&(nt=ot);break;case 4:j=p[E+1],G=p[E+2],W=p[E+3],(192&j)==128&&(192&G)==128&&(192&W)==128&&(ot=(15&yt)<<18|(63&j)<<12|(63&G)<<6|63&W)>65535&&ot<1114112&&(nt=ot)}nt===null?(nt=65533,dt=1):nt>65535&&(nt-=65536,k.push(nt>>>10&1023|55296),nt=56320|1023&nt),k.push(nt),E+=dt}return function(ht){var Jt=ht.length;if(Jt<=B)return String.fromCharCode.apply(String,ht);for(var Qt="",te=0;te<Jt;)Qt+=String.fromCharCode.apply(String,ht.slice(te,te+=B));return Qt}(k)}I.Buffer=i,I.SlowBuffer=function(p){return+p!=p&&(p=0),i.alloc(+p)},I.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:function(){try{var p=new Uint8Array(1);return p.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},p.foo()===42&&typeof p.subarray=="function"&&p.subarray(1,1).byteLength===0}catch{return!1}}(),I.kMaxLength=t(),i.poolSize=8192,i._augment=function(p){return p.__proto__=i.prototype,p},i.from=function(p,m,e){return r(null,p,m,e)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(p,m,e){return function(k,E,j,G){return c(E),E<=0?s(k,E):j!==void 0?typeof G=="string"?s(k,E).fill(j,G):s(k,E).fill(j):s(k,E)}(null,p,m,e)},i.allocUnsafe=function(p){return h(null,p)},i.allocUnsafeSlow=function(p){return h(null,p)},i.isBuffer=function(p){return!(p==null||!p._isBuffer)},i.compare=function(p,m){if(!i.isBuffer(p)||!i.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(p===m)return 0;for(var e=p.length,k=m.length,E=0,j=Math.min(e,k);E<j;++E)if(p[E]!==m[E]){e=p[E],k=m[E];break}return e<k?-1:k<e?1:0},i.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(p,m){if(!f(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return i.alloc(0);var e;if(m===void 0)for(m=0,e=0;e<p.length;++e)m+=p[e].length;var k=i.allocUnsafe(m),E=0;for(e=0;e<p.length;++e){var j=p[e];if(!i.isBuffer(j))throw new TypeError('"list" argument must be an Array of Buffers');j.copy(k,E),E+=j.length}return k},i.byteLength=T,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<p;m+=2)y(this,m,m+1);return this},i.prototype.swap32=function(){var p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<p;m+=4)y(this,m,m+3),y(this,m+1,m+2);return this},i.prototype.swap64=function(){var p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<p;m+=8)y(this,m,m+7),y(this,m+1,m+6),y(this,m+2,m+5),y(this,m+3,m+4);return this},i.prototype.toString=function(){var p=0|this.length;return p===0?"":arguments.length===0?P(this,0,p):x.apply(this,arguments)},i.prototype.equals=function(p){if(!i.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p||i.compare(this,p)===0},i.prototype.inspect=function(){var p="",m=I.INSPECT_MAX_BYTES;return this.length>0&&(p=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(p+=" ... ")),"<Buffer "+p+">"},i.prototype.compare=function(p,m,e,k,E){if(!i.isBuffer(p))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),e===void 0&&(e=p?p.length:0),k===void 0&&(k=0),E===void 0&&(E=this.length),m<0||e>p.length||k<0||E>this.length)throw new RangeError("out of range index");if(k>=E&&m>=e)return 0;if(k>=E)return-1;if(m>=e)return 1;if(this===p)return 0;for(var j=(E>>>=0)-(k>>>=0),G=(e>>>=0)-(m>>>=0),W=Math.min(j,G),ot=this.slice(k,E),yt=p.slice(m,e),nt=0;nt<W;++nt)if(ot[nt]!==yt[nt]){j=ot[nt],G=yt[nt];break}return j<G?-1:G<j?1:0},i.prototype.includes=function(p,m,e){return this.indexOf(p,m,e)!==-1},i.prototype.indexOf=function(p,m,e){return _(this,p,m,e,!0)},i.prototype.lastIndexOf=function(p,m,e){return _(this,p,m,e,!1)},i.prototype.write=function(p,m,e,k){if(m===void 0)k="utf8",e=this.length,m=0;else if(e===void 0&&typeof m=="string")k=m,e=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(e)?(e|=0,k===void 0&&(k="utf8")):(k=e,e=void 0)}var E=this.length-m;if((e===void 0||e>E)&&(e=E),p.length>0&&(e<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var j=!1;;)switch(k){case"hex":return u(this,p,m,e);case"utf8":case"utf-8":return S(this,p,m,e);case"ascii":return v(this,p,m,e);case"latin1":case"binary":return R(this,p,m,e);case"base64":return M(this,p,m,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,p,m,e);default:if(j)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),j=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function H(p,m,e){var k="";e=Math.min(p.length,e);for(var E=m;E<e;++E)k+=String.fromCharCode(127&p[E]);return k}function X(p,m,e){var k="";e=Math.min(p.length,e);for(var E=m;E<e;++E)k+=String.fromCharCode(p[E]);return k}function K(p,m,e){var k=p.length;(!m||m<0)&&(m=0),(!e||e<0||e>k)&&(e=k);for(var E="",j=m;j<e;++j)E+=lt(p[j]);return E}function N(p,m,e){for(var k=p.slice(m,e),E="",j=0;j<k.length;j+=2)E+=String.fromCharCode(k[j]+256*k[j+1]);return E}function q(p,m,e){if(p%1!=0||p<0)throw new RangeError("offset is not uint");if(p+m>e)throw new RangeError("Trying to access beyond buffer length")}function F(p,m,e,k,E,j){if(!i.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>E||m<j)throw new RangeError('"value" argument is out of bounds');if(e+k>p.length)throw new RangeError("Index out of range")}function z(p,m,e,k){m<0&&(m=65535+m+1);for(var E=0,j=Math.min(p.length-e,2);E<j;++E)p[e+E]=(m&255<<8*(k?E:1-E))>>>8*(k?E:1-E)}function A(p,m,e,k){m<0&&(m=4294967295+m+1);for(var E=0,j=Math.min(p.length-e,4);E<j;++E)p[e+E]=m>>>8*(k?E:3-E)&255}function C(p,m,e,k,E,j){if(e+k>p.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function U(p,m,e,k,E){return E||C(p,0,e,4),l.write(p,m,e,k,23,4),e+4}function L(p,m,e,k,E){return E||C(p,0,e,8),l.write(p,m,e,k,52,8),e+8}i.prototype.slice=function(p,m){var e,k=this.length;if((p=~~p)<0?(p+=k)<0&&(p=0):p>k&&(p=k),(m=m===void 0?k:~~m)<0?(m+=k)<0&&(m=0):m>k&&(m=k),m<p&&(m=p),i.TYPED_ARRAY_SUPPORT)(e=this.subarray(p,m)).__proto__=i.prototype;else{var E=m-p;e=new i(E,void 0);for(var j=0;j<E;++j)e[j]=this[j+p]}return e},i.prototype.readUIntLE=function(p,m,e){p|=0,m|=0,e||q(p,m,this.length);for(var k=this[p],E=1,j=0;++j<m&&(E*=256);)k+=this[p+j]*E;return k},i.prototype.readUIntBE=function(p,m,e){p|=0,m|=0,e||q(p,m,this.length);for(var k=this[p+--m],E=1;m>0&&(E*=256);)k+=this[p+--m]*E;return k},i.prototype.readUInt8=function(p,m){return m||q(p,1,this.length),this[p]},i.prototype.readUInt16LE=function(p,m){return m||q(p,2,this.length),this[p]|this[p+1]<<8},i.prototype.readUInt16BE=function(p,m){return m||q(p,2,this.length),this[p]<<8|this[p+1]},i.prototype.readUInt32LE=function(p,m){return m||q(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]},i.prototype.readUInt32BE=function(p,m){return m||q(p,4,this.length),16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])},i.prototype.readIntLE=function(p,m,e){p|=0,m|=0,e||q(p,m,this.length);for(var k=this[p],E=1,j=0;++j<m&&(E*=256);)k+=this[p+j]*E;return k>=(E*=128)&&(k-=Math.pow(2,8*m)),k},i.prototype.readIntBE=function(p,m,e){p|=0,m|=0,e||q(p,m,this.length);for(var k=m,E=1,j=this[p+--k];k>0&&(E*=256);)j+=this[p+--k]*E;return j>=(E*=128)&&(j-=Math.pow(2,8*m)),j},i.prototype.readInt8=function(p,m){return m||q(p,1,this.length),128&this[p]?-1*(255-this[p]+1):this[p]},i.prototype.readInt16LE=function(p,m){m||q(p,2,this.length);var e=this[p]|this[p+1]<<8;return 32768&e?4294901760|e:e},i.prototype.readInt16BE=function(p,m){m||q(p,2,this.length);var e=this[p+1]|this[p]<<8;return 32768&e?4294901760|e:e},i.prototype.readInt32LE=function(p,m){return m||q(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},i.prototype.readInt32BE=function(p,m){return m||q(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},i.prototype.readFloatLE=function(p,m){return m||q(p,4,this.length),l.read(this,p,!0,23,4)},i.prototype.readFloatBE=function(p,m){return m||q(p,4,this.length),l.read(this,p,!1,23,4)},i.prototype.readDoubleLE=function(p,m){return m||q(p,8,this.length),l.read(this,p,!0,52,8)},i.prototype.readDoubleBE=function(p,m){return m||q(p,8,this.length),l.read(this,p,!1,52,8)},i.prototype.writeUIntLE=function(p,m,e,k){p=+p,m|=0,e|=0,k||F(this,p,m,e,Math.pow(2,8*e)-1,0);var E=1,j=0;for(this[m]=255&p;++j<e&&(E*=256);)this[m+j]=p/E&255;return m+e},i.prototype.writeUIntBE=function(p,m,e,k){p=+p,m|=0,e|=0,k||F(this,p,m,e,Math.pow(2,8*e)-1,0);var E=e-1,j=1;for(this[m+E]=255&p;--E>=0&&(j*=256);)this[m+E]=p/j&255;return m+e},i.prototype.writeUInt8=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,1,255,0),i.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),this[m]=255&p,m+1},i.prototype.writeUInt16LE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[m]=255&p,this[m+1]=p>>>8):z(this,p,m,!0),m+2},i.prototype.writeUInt16BE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[m]=p>>>8,this[m+1]=255&p):z(this,p,m,!1),m+2},i.prototype.writeUInt32LE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=255&p):A(this,p,m,!0),m+4},i.prototype.writeUInt32BE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=255&p):A(this,p,m,!1),m+4},i.prototype.writeIntLE=function(p,m,e,k){if(p=+p,m|=0,!k){var E=Math.pow(2,8*e-1);F(this,p,m,e,E-1,-E)}var j=0,G=1,W=0;for(this[m]=255&p;++j<e&&(G*=256);)p<0&&W===0&&this[m+j-1]!==0&&(W=1),this[m+j]=(p/G>>0)-W&255;return m+e},i.prototype.writeIntBE=function(p,m,e,k){if(p=+p,m|=0,!k){var E=Math.pow(2,8*e-1);F(this,p,m,e,E-1,-E)}var j=e-1,G=1,W=0;for(this[m+j]=255&p;--j>=0&&(G*=256);)p<0&&W===0&&this[m+j+1]!==0&&(W=1),this[m+j]=(p/G>>0)-W&255;return m+e},i.prototype.writeInt8=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,1,127,-128),i.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),p<0&&(p=255+p+1),this[m]=255&p,m+1},i.prototype.writeInt16LE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[m]=255&p,this[m+1]=p>>>8):z(this,p,m,!0),m+2},i.prototype.writeInt16BE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[m]=p>>>8,this[m+1]=255&p):z(this,p,m,!1),m+2},i.prototype.writeInt32LE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[m]=255&p,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24):A(this,p,m,!0),m+4},i.prototype.writeInt32BE=function(p,m,e){return p=+p,m|=0,e||F(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),i.TYPED_ARRAY_SUPPORT?(this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=255&p):A(this,p,m,!1),m+4},i.prototype.writeFloatLE=function(p,m,e){return U(this,p,m,!0,e)},i.prototype.writeFloatBE=function(p,m,e){return U(this,p,m,!1,e)},i.prototype.writeDoubleLE=function(p,m,e){return L(this,p,m,!0,e)},i.prototype.writeDoubleBE=function(p,m,e){return L(this,p,m,!1,e)},i.prototype.copy=function(p,m,e,k){if(e||(e=0),k||k===0||(k=this.length),m>=p.length&&(m=p.length),m||(m=0),k>0&&k<e&&(k=e),k===e||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),p.length-m<k-e&&(k=p.length-m+e);var E,j=k-e;if(this===p&&e<m&&m<k)for(E=j-1;E>=0;--E)p[E+m]=this[E+e];else if(j<1e3||!i.TYPED_ARRAY_SUPPORT)for(E=0;E<j;++E)p[E+m]=this[E+e];else Uint8Array.prototype.set.call(p,this.subarray(e,e+j),m);return j},i.prototype.fill=function(p,m,e,k){if(typeof p=="string"){if(typeof m=="string"?(k=m,m=0,e=this.length):typeof e=="string"&&(k=e,e=this.length),p.length===1){var E=p.charCodeAt(0);E<256&&(p=E)}if(k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!i.isEncoding(k))throw new TypeError("Unknown encoding: "+k)}else typeof p=="number"&&(p&=255);if(m<0||this.length<m||this.length<e)throw new RangeError("Out of range index");if(e<=m)return this;var j;if(m>>>=0,e=e===void 0?this.length:e>>>0,p||(p=0),typeof p=="number")for(j=m;j<e;++j)this[j]=p;else{var G=i.isBuffer(p)?p:ft(new i(p,k).toString()),W=G.length;for(j=0;j<e-m;++j)this[j+m]=G[j%W]}return this};var rt=/[^+\/0-9A-Za-z-_]/g;function lt(p){return p<16?"0"+p.toString(16):p.toString(16)}function ft(p,m){var e;m=m||1/0;for(var k=p.length,E=null,j=[],G=0;G<k;++G){if((e=p.charCodeAt(G))>55295&&e<57344){if(!E){if(e>56319){(m-=3)>-1&&j.push(239,191,189);continue}if(G+1===k){(m-=3)>-1&&j.push(239,191,189);continue}E=e;continue}if(e<56320){(m-=3)>-1&&j.push(239,191,189),E=e;continue}e=65536+(E-55296<<10|e-56320)}else E&&(m-=3)>-1&&j.push(239,191,189);if(E=null,e<128){if((m-=1)<0)break;j.push(e)}else if(e<2048){if((m-=2)<0)break;j.push(e>>6|192,63&e|128)}else if(e<65536){if((m-=3)<0)break;j.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;j.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return j}function vt(p){return a.toByteArray(function(m){if((m=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(m).replace(rt,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(p))}function it(p,m,e,k){for(var E=0;E<k&&!(E+e>=m.length||E>=p.length);++E)m[E+e]=p[E];return E}}).call(this,n(12))},function(w,I,n){(function(o){function a(l){return Object.prototype.toString.call(l)}I.isArray=function(l){return Array.isArray?Array.isArray(l):a(l)==="[object Array]"},I.isBoolean=function(l){return typeof l=="boolean"},I.isNull=function(l){return l===null},I.isNullOrUndefined=function(l){return l==null},I.isNumber=function(l){return typeof l=="number"},I.isString=function(l){return typeof l=="string"},I.isSymbol=function(l){return typeof l=="symbol"},I.isUndefined=function(l){return l===void 0},I.isRegExp=function(l){return a(l)==="[object RegExp]"},I.isObject=function(l){return typeof l=="object"&&l!==null},I.isDate=function(l){return a(l)==="[object Date]"},I.isError=function(l){return a(l)==="[object Error]"||l instanceof Error},I.isFunction=function(l){return typeof l=="function"},I.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||l===void 0},I.isBuffer=o.isBuffer}).call(this,n(24).Buffer)},function(w,I,n){w.exports=n(191)},function(w,I,n){(function(o){var a=Object.getOwnPropertyDescriptors||function(N){for(var q=Object.keys(N),F={},z=0;z<q.length;z++)F[q[z]]=Object.getOwnPropertyDescriptor(N,q[z]);return F},l=/%[sdj%]/g;I.format=function(N){if(!_(N)){for(var q=[],F=0;F<arguments.length;F++)q.push(s(arguments[F]));return q.join(" ")}F=1;for(var z=arguments,A=z.length,C=String(N).replace(l,function(L){if(L==="%%")return"%";if(F>=A)return L;switch(L){case"%s":return String(z[F++]);case"%d":return Number(z[F++]);case"%j":try{return JSON.stringify(z[F++])}catch{return"[Circular]"}default:return L}}),U=z[F];F<A;U=z[++F])x(U)||!S(U)?C+=" "+U:C+=" "+s(U);return C},I.deprecate=function(N,q){if(o!==void 0&&o.noDeprecation===!0)return N;if(o===void 0)return function(){return I.deprecate(N,q).apply(this,arguments)};var F=!1;return function(){if(!F){if(o.throwDeprecation)throw new Error(q);o.traceDeprecation?console.trace(q):console.error(q),F=!0}return N.apply(this,arguments)}};var f,t={};function s(N,q){var F={seen:[],stylize:r};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),T(q)?F.showHidden=q:q&&I._extend(F,q),b(F.showHidden)&&(F.showHidden=!1),b(F.depth)&&(F.depth=2),b(F.colors)&&(F.colors=!1),b(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=i),c(F,N,F.depth)}function i(N,q){var F=s.styles[q];return F?"\x1B["+s.colors[F][0]+"m"+N+"\x1B["+s.colors[F][1]+"m":N}function r(N,q){return N}function c(N,q,F){if(N.customInspect&&q&&M(q.inspect)&&q.inspect!==I.inspect&&(!q.constructor||q.constructor.prototype!==q)){var z=q.inspect(F,N);return _(z)||(z=c(N,z,F)),z}var A=function(it,p){if(b(p))return it.stylize("undefined","undefined");if(_(p)){var m="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return it.stylize(m,"string")}if(y(p))return it.stylize(""+p,"number");if(T(p))return it.stylize(""+p,"boolean");if(x(p))return it.stylize("null","null")}(N,q);if(A)return A;var C=Object.keys(q),U=function(it){var p={};return it.forEach(function(m,e){p[m]=!0}),p}(C);if(N.showHidden&&(C=Object.getOwnPropertyNames(q)),R(q)&&(C.indexOf("message")>=0||C.indexOf("description")>=0))return h(q);if(C.length===0){if(M(q)){var L=q.name?": "+q.name:"";return N.stylize("[Function"+L+"]","special")}if(u(q))return N.stylize(RegExp.prototype.toString.call(q),"regexp");if(v(q))return N.stylize(Date.prototype.toString.call(q),"date");if(R(q))return h(q)}var rt,lt="",ft=!1,vt=["{","}"];return g(q)&&(ft=!0,vt=["[","]"]),M(q)&&(lt=" [Function"+(q.name?": "+q.name:"")+"]"),u(q)&&(lt=" "+RegExp.prototype.toString.call(q)),v(q)&&(lt=" "+Date.prototype.toUTCString.call(q)),R(q)&&(lt=" "+h(q)),C.length!==0||ft&&q.length!=0?F<0?u(q)?N.stylize(RegExp.prototype.toString.call(q),"regexp"):N.stylize("[Object]","special"):(N.seen.push(q),rt=ft?function(it,p,m,e,k){for(var E=[],j=0,G=p.length;j<G;++j)H(p,String(j))?E.push(d(it,p,m,e,String(j),!0)):E.push("");return k.forEach(function(W){W.match(/^\d+$/)||E.push(d(it,p,m,e,W,!0))}),E}(N,q,F,U,C):C.map(function(it){return d(N,q,F,U,it,ft)}),N.seen.pop(),function(it,p,m){return it.reduce(function(e,k){return k.indexOf(`
`)>=0,e+k.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?m[0]+(p===""?"":p+`
 `)+" "+it.join(`,
  `)+" "+m[1]:m[0]+p+" "+it.join(", ")+" "+m[1]}(rt,lt,vt)):vt[0]+lt+vt[1]}function h(N){return"["+Error.prototype.toString.call(N)+"]"}function d(N,q,F,z,A,C){var U,L,rt;if((rt=Object.getOwnPropertyDescriptor(q,A)||{value:q[A]}).get?L=rt.set?N.stylize("[Getter/Setter]","special"):N.stylize("[Getter]","special"):rt.set&&(L=N.stylize("[Setter]","special")),H(z,A)||(U="["+A+"]"),L||(N.seen.indexOf(rt.value)<0?(L=x(F)?c(N,rt.value,null):c(N,rt.value,F-1)).indexOf(`
`)>-1&&(L=C?L.split(`
`).map(function(lt){return"  "+lt}).join(`
`).substr(2):`
`+L.split(`
`).map(function(lt){return"   "+lt}).join(`
`)):L=N.stylize("[Circular]","special")),b(U)){if(C&&A.match(/^\d+$/))return L;(U=JSON.stringify(""+A)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=N.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=N.stylize(U,"string"))}return U+": "+L}function g(N){return Array.isArray(N)}function T(N){return typeof N=="boolean"}function x(N){return N===null}function y(N){return typeof N=="number"}function _(N){return typeof N=="string"}function b(N){return N===void 0}function u(N){return S(N)&&D(N)==="[object RegExp]"}function S(N){return typeof N=="object"&&N!==null}function v(N){return S(N)&&D(N)==="[object Date]"}function R(N){return S(N)&&(D(N)==="[object Error]"||N instanceof Error)}function M(N){return typeof N=="function"}function D(N){return Object.prototype.toString.call(N)}function O(N){return N<10?"0"+N.toString(10):N.toString(10)}I.debuglog=function(N){if(b(f)&&(f=o.env.NODE_DEBUG||""),N=N.toUpperCase(),!t[N])if(new RegExp("\\b"+N+"\\b","i").test(f)){var q=o.pid;t[N]=function(){var F=I.format.apply(I,arguments);console.error("%s %d: %s",N,q,F)}}else t[N]=function(){};return t[N]},I.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=g,I.isBoolean=T,I.isNull=x,I.isNullOrUndefined=function(N){return N==null},I.isNumber=y,I.isString=_,I.isSymbol=function(N){return typeof N=="symbol"},I.isUndefined=b,I.isRegExp=u,I.isObject=S,I.isDate=v,I.isError=R,I.isFunction=M,I.isPrimitive=function(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||N===void 0},I.isBuffer=n(90);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var N=new Date,q=[O(N.getHours()),O(N.getMinutes()),O(N.getSeconds())].join(":");return[N.getDate(),P[N.getMonth()],q].join(" ")}function H(N,q){return Object.prototype.hasOwnProperty.call(N,q)}I.log=function(){console.log("%s - %s",B(),I.format.apply(I,arguments))},I.inherits=n(91),I._extend=function(N,q){if(!q||!S(q))return N;for(var F=Object.keys(q),z=F.length;z--;)N[F[z]]=q[F[z]];return N};var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function K(N,q){if(!N){var F=new Error("Promise was rejected with a falsy value");F.reason=N,N=F}return q(N)}I.promisify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&N[X]){var q;if(typeof(q=N[X])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,X,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var F,z,A=new Promise(function(L,rt){F=L,z=rt}),C=[],U=0;U<arguments.length;U++)C.push(arguments[U]);C.push(function(L,rt){L?z(L):F(rt)});try{N.apply(this,C)}catch(L){z(L)}return A}return Object.setPrototypeOf(q,Object.getPrototypeOf(N)),X&&Object.defineProperty(q,X,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,a(N))},I.promisify.custom=X,I.callbackify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function q(){for(var F=[],z=0;z<arguments.length;z++)F.push(arguments[z]);var A=F.pop();if(typeof A!="function")throw new TypeError("The last argument must be of type Function");var C=this,U=function(){return A.apply(C,arguments)};N.apply(this,F).then(function(L){o.nextTick(U,null,L)},function(L){o.nextTick(K,L,U)})}return Object.setPrototypeOf(q,Object.getPrototypeOf(N)),Object.defineProperties(q,a(N)),q}}).call(this,n(9))},function(w,I,n){(I=w.exports=n(49)).Stream=I,I.Readable=I,I.Writable=n(53),I.Duplex=n(18),I.Transform=n(55),I.PassThrough=n(102)},function(w,I,n){w.exports=n(58)()?Object.setPrototypeOf:n(59)},function(w,I,n){w.exports=n(128)()?globalThis:n(129)},function(w,I,n){var o=Object.prototype.toString,a=o.call(function(){return arguments}());w.exports=function(l){return o.call(l)===a}},function(w,I,n){var o=Object.prototype.toString,a=o.call("");w.exports=function(l){return typeof l=="string"||l&&typeof l=="object"&&(l instanceof String||o.call(l)===a)||!1}},function(w,I){w.exports=function(n){return n==null}},function(w,I,n){var o=Object.prototype.hasOwnProperty,a=Array.isArray,l=function(){for(var t=[],s=0;s<256;++s)t.push("%"+((s<16?"0":"")+s.toString(16)).toUpperCase());return t}(),f=function(t,s){for(var i=s&&s.plainObjects?Object.create(null):{},r=0;r<t.length;++r)t[r]!==void 0&&(i[r]=t[r]);return i};w.exports={arrayToObject:f,assign:function(t,s){return Object.keys(s).reduce(function(i,r){return i[r]=s[r],i},t)},combine:function(t,s){return[].concat(t,s)},compact:function(t){for(var s=[{obj:{o:t},prop:"o"}],i=[],r=0;r<s.length;++r)for(var c=s[r],h=c.obj[c.prop],d=Object.keys(h),g=0;g<d.length;++g){var T=d[g],x=h[T];typeof x=="object"&&x!==null&&i.indexOf(x)===-1&&(s.push({obj:h,prop:T}),i.push(x))}return function(y){for(;y.length>1;){var _=y.pop(),b=_.obj[_.prop];if(a(b)){for(var u=[],S=0;S<b.length;++S)b[S]!==void 0&&u.push(b[S]);_.obj[_.prop]=u}}}(s),t},decode:function(t,s,i){var r=t.replace(/\+/g," ");if(i==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},encode:function(t,s,i){if(t.length===0)return t;var r=t;if(typeof t=="symbol"?r=Symbol.prototype.toString.call(t):typeof t!="string"&&(r=String(t)),i==="iso-8859-1")return escape(r).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var c="",h=0;h<r.length;++h){var d=r.charCodeAt(h);d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122?c+=r.charAt(h):d<128?c+=l[d]:d<2048?c+=l[192|d>>6]+l[128|63&d]:d<55296||d>=57344?c+=l[224|d>>12]+l[128|d>>6&63]+l[128|63&d]:(h+=1,d=65536+((1023&d)<<10|1023&r.charCodeAt(h)),c+=l[240|d>>18]+l[128|d>>12&63]+l[128|d>>6&63]+l[128|63&d])}return c},isBuffer:function(t){return!(!t||typeof t!="object")&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},maybeMap:function(t,s){if(a(t)){for(var i=[],r=0;r<t.length;r+=1)i.push(s(t[r]));return i}return s(t)},merge:function t(s,i,r){if(!i)return s;if(typeof i!="object"){if(a(s))s.push(i);else{if(!s||typeof s!="object")return[s,i];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,i))&&(s[i]=!0)}return s}if(!s||typeof s!="object")return[s].concat(i);var c=s;return a(s)&&!a(i)&&(c=f(s,r)),a(s)&&a(i)?(i.forEach(function(h,d){if(o.call(s,d)){var g=s[d];g&&typeof g=="object"&&h&&typeof h=="object"?s[d]=t(g,h,r):s.push(h)}else s[d]=h}),s):Object.keys(i).reduce(function(h,d){var g=i[d];return o.call(h,d)?h[d]=t(h[d],g,r):h[d]=g,h},c)}}},function(w,I,n){(function(o){var a=n(15),l=n(27).inherits,f=n(92),t=n(180),s=n(73),i=n(182),r=n(33),c=n(183),h=n(185),d=n(44);function g(u){return u>9?u:"0"+u}function T(u,S,v,R,M,D,O,P,B,H,X,K,N,q){var F=u+`
`+R+`
`+M+`
`+("host:"+v.toLowerCase()+`
`)+`
host
`+s(H,{asBytes:!0});N===!0&&console.log("canonical request: "+F+`
`);var z=s(F,{asBytes:!0});N===!0&&console.log("hashed canonical request: "+z+`
`);var A=`AWS4-HMAC-SHA256
`+K+`
`+X+"/"+P+"/"+B+`/aws4_request
`+z;N===!0&&console.log("string to sign: "+A+`
`);var C=function(lt,ft,vt,it){var p=t(ft,"AWS4"+lt,{asBytes:!0}),m=t(vt,p,{asBytes:!0}),e=t(it,m,{asBytes:!0});return t("aws4_request",e,{asBytes:!0})}(O,X,P,B);N===!0&&console.log("signing key: "+C+`
`);var U=t(A,C,{asBytes:!0});N===!0&&console.log("signature: "+U+`
`);var L=M+"&X-Amz-Signature="+U;r(q)||(L+="&X-Amz-Security-Token="+encodeURIComponent(q));var rt=S+v+R+"?"+L;return N===!0&&console.log("url: "+rt+`
`),rt}function x(u,S,v,R){var M,D,O=(M=new Date).getUTCFullYear()+""+g(M.getUTCMonth()+1)+g(M.getUTCDate())+"T"+g(M.getUTCHours())+g(M.getUTCMinutes())+g(M.getUTCSeconds())+"Z",P=(D=O).substring(0,D.indexOf("T")),B="iotdevicegateway",H="X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential="+S+"%2F"+P+"%2F"+u.region+"%2F"+B+"%2Faws4_request&X-Amz-Date="+O+"&X-Amz-SignedHeaders=host",X=u.host;return r(u.port)||u.port===443||(X=u.host+":"+u.port),T("GET","wss://",X,"/mqtt",H,0,v,u.region,B,"",P,O,u.debug,R)}function y(u){var S=u.host;return r(u.port)||u.port===443||(S=u.host+":"+u.port),"wss://"+S+"/mqtt"}function _(u){var S={},v={};return function(R,M){for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&M.call(this,R[D],parseInt(D,10))}(u.split(/\r?\n/),function(R){var M=(R=R.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)\]\s*$/);if(M)v=M[1];else if(v){var D=R.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);D&&(S[v]=S[v]||{},S[v][D[1]]=D[2])}}),S}function b(u){if(!(this instanceof b))return new b(u);var S=this,v=[],R=!0,M=0,D="oldest";v.length=0;var O=[];O.length=0;var P=[],B=!0;P.length=0;var H=[];H.length=0;var X,K,N,q,F,z="inactive",A=null,C=250,U=1e3,L=2e4,rt=128e3,lt=null,ft="?SDK=JavaScript&Version="+n(186).version;if(r(u)||Object.keys(u).length===0)throw new Error(i.INVALID_CONNECT_OPTIONS);if(r(u.keepalive)&&(u.keepalive=300),(r(u.enableMetrics)||u.enableMetrics===!0)&&(r(u.username)?u.username=ft:u.username+=ft),r(u.baseReconnectTimeMs)||(U=u.baseReconnectTimeMs),r(u.minimumConnectionTimeMs)||(L=u.minimumConnectionTimeMs),r(u.maximumReconnectTimeMs)||(rt=u.maximumReconnectTimeMs),r(u.drainTimeMs)||(C=u.drainTimeMs),r(u.autoResubscribe)||(B=u.autoResubscribe),r(u.offlineQueueing)||(R=u.offlineQueueing),r(u.offlineQueueMaxSize)||(M=u.offlineQueueMaxSize),r(u.offlineQueueDropBehavior)||(D=u.offlineQueueDropBehavior),X=U,u.reconnectPeriod=X,u.fastDisconnectDetection=!0,u.resubscribe=!1,u.baseReconnectTimeMs<=0)throw new Error(i.INVALID_RECONNECT_TIMING);if(rt<U)throw new Error(i.INVALID_RECONNECT_TIMING);if(L<U)throw new Error(i.INVALID_RECONNECT_TIMING);if(D!=="newest"&&D!=="oldest")throw new Error(i.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(M<0)throw new Error(i.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(r(u.protocol)&&(u.protocol="mqtts"),r(u.host))throw new Error(i.INVALID_CONNECT_OPTIONS);if(u.protocol==="mqtts")r(u.port)&&(u.port=8883),c(u);else if(u.protocol==="wss"||u.protocol==="wss-custom-auth"){if(u.protocol==="wss"){var vt;if(K=r(u.accessKeyId)?o.env.AWS_ACCESS_KEY_ID:u.accessKeyId,N=r(u.secretKey)?o.env.AWS_SECRET_ACCESS_KEY:u.secretKey,q=r(u.sessionToken)?o.env.AWS_SESSION_TOKEN:u.sessionToken,r(K)||r(N))try{r(u.filename)?(F=o.env.HOME||o.env.USERPROFILE||(o.env.HOMEPATH?(o.env.HOMEDRIVE||"C:/")+o.env.HOMEPATH:null),vt=h.join(F,".aws","credentials")):vt=u.filename;var it=u.profile||o.env.AWS_PROFILE||"default",p=_(d.readFileSync(vt,"utf-8"))[it];K=p.aws_access_key_id,N=p.aws_secret_access_key,q=p.aws_session_token}catch(nt){console.log(nt),console.log("Failed to read credentials from "+vt)}if(r(K)||r(N))throw console.log("To connect via WebSocket/SigV4, AWS Access Key ID and AWS Secret Key must be passed either in options or as environment variables; see README.md"),new Error(i.INVALID_CONNECT_OPTIONS)}else if(r(u.customAuthHeaders))throw console.log("To authenticate with a custom authorizer, you must provide the required HTTP headers; see README.md"),new Error(i.INVALID_CONNECT_OPTIONS);if(!r(u.host)&&r(u.region)){var m=/[a-zA-Z0-9]+\.iot\.([a-z]+-[a-z]+-[0-9]+)\.amazonaws\..+/.exec(u.host);if(m===null)throw console.log("Host endpoint is not valid"),new Error(i.INVALID_CONNECT_OPTIONS);u.region=m[1]}r(u.port)&&(u.port=443),r(u.websocketOptions)?u.websocketOptions={protocol:"mqttv3.1"}:u.websocketOptions.protocol="mqttv3.1",u.protocol==="wss-custom-auth"&&(u.websocketOptions.headers=u.customAuthHeaders)}r(u)||u.debug!==!0||(console.log(u),console.log("attempting new mqtt connection..."));var e={};function k(nt,dt){P.filter(function(ht){return ht.topic===nt}).length===0&&P.push({topic:nt,options:dt})}function E(nt,dt){var ht=P.filter(function(Jt){return Jt.topic!==nt});P=ht}function j(nt,dt,ht){var Jt=null;B!==!1&&(nt==="subscribe"?Jt=k:nt==="unsubscribe"&&(Jt=E),Object.prototype.toString.call(dt)==="[object Array]"?dt.forEach(function(Qt,te,ce){Jt(Qt,ht)}):Jt(dt,ht))}function G(){return z==="inactive"}e.mqtts=n(187),e.wss=n(188);var W=new f.MqttClient(function(nt){var dt,ht=u.protocol;return ht==="wss"?(dt=K===""||N===""?"wss://no-credentials-available":x(u,K,N,q),u.debug===!0&&console.log("using websockets, will connect to '"+dt+"'..."),u.url=dt):ht==="wss-custom-auth"&&(u.url=y(u),u.debug===!0&&console.log("using websockets custom auth, will connect to '"+u.url+"'..."),ht="wss"),e[ht](nt,u)},u);function ot(){X=U,W.options.reconnectPeriod=X,lt=null,z="stable"}function yt(){var nt=H.shift();if(r(nt)){var dt=O.shift();if(r(dt)){var ht=v.shift();r(ht)||W.publish(ht.topic,ht.message,ht.options,ht.callback),v.length===0&&(clearInterval(A),A=null)}else j(dt.type,dt.topics,dt.options),dt.type==="subscribe"?r(dt.callback)?W.subscribe(dt.topics,dt.options):W.subscribe(dt.topics,dt.options,dt.callback):dt.type==="unsubscribe"&&W.unsubscribe(dt.topics,dt.callback)}else r(nt.callback)?W.subscribe(nt.topic,nt.options):W.subscribe(nt.topic,nt.options,nt.callback)}W.on("connect",function(nt){lt===null&&(lt=setTimeout(ot,L)),z="established",A===null&&(H=P.slice(0),A=setInterval(yt,C)),S.emit("connect",nt)}),W.on("close",function(nt){r(nt)||S.emit("error",nt),r(u)||u.debug!==!0||console.log("connection lost - will attempt reconnection in "+W.options.reconnectPeriod/1e3+" seconds..."),clearTimeout(lt),lt=null,clearInterval(A),A=null,z="inactive",S.emit("close")}),W.on("reconnect",function(){X*=2,X=Math.min(rt,X),W.options.reconnectPeriod=X,S.emit("reconnect")}),W.on("offline",function(){S.emit("offline")}),W.on("error",function(nt){S.emit("error",nt)}),W.on("packetsend",function(nt){S.emit("packetsend",nt)}),W.on("packetreceive",function(nt){S.emit("packetreceive",nt)}),W.on("message",function(nt,dt,ht){S.emit("message",nt,dt,ht)}),this.publish=function(nt,dt,ht,Jt){var Qt;R!==!0||!G()&&A===null?R!==!0&&G()||W.publish(nt,dt,ht,Jt):(Qt=!0,M>0&&v.length>=M&&(D==="oldest"?v.shift():Qt=!1),Qt&&v.push({topic:nt,message:dt,options:ht,callback:Jt}))},this.subscribe=function(nt,dt,ht){G()&&B!==!1?O.length<50?O.push({type:"subscribe",topics:nt,options:dt,callback:ht}):S.emit("error",new Error("Maximum queued offline subscription reached")):(j("subscribe",nt,dt),r(ht)?W.subscribe(nt,dt):W.subscribe(nt,dt,ht))},this.unsubscribe=function(nt,dt){G()&&B!==!1?O.length<50&&O.push({type:"unsubscribe",topics:nt,options:u,callback:dt}):(j("unsubscribe",nt),W.unsubscribe(nt,dt))},this.end=function(nt,dt){W.end(nt,dt)},this.handleMessage=W.handleMessage.bind(W),W.handleMessage=function(nt,dt){S.handleMessage(nt,dt)},this.updateWebSocketCredentials=function(nt,dt,ht,Jt){K=nt,N=dt,q=ht},this.getWebsocketHeaders=function(){return u.websocketOptions.headers},this.updateCustomAuthHeaders=function(nt){u.websocketOptions.headers=nt},this.simulateNetworkFailure=function(){W.stream.emit("error",new Error("simulated connection error")),W.stream.end()}}l(b,a.EventEmitter),w.exports=b,w.exports.DeviceClient=b,w.exports.prepareWebSocketUrl=x,w.exports.prepareWebSocketCustomAuthUrl=y}).call(this,n(9))},function(w,I){w.exports=function(){for(var o={},a=0;a<arguments.length;a++){var l=arguments[a];for(var f in l)n.call(l,f)&&(o[f]=l[f])}return o};var n=Object.prototype.hasOwnProperty},function(w,I,n){var o=n(24),a=o.Buffer;function l(t,s){for(var i in t)s[i]=t[i]}function f(t,s,i){return a(t,s,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?w.exports=o:(l(o,I),I.Buffer=f),l(a,f),f.from=function(t,s,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return a(t,s,i)},f.alloc=function(t,s,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=a(t);return s!==void 0?typeof i=="string"?r.fill(s,i):r.fill(s):r.fill(0),r},f.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return a(t)},f.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(w,I,n){var o=n(22),a={object:!0,function:!0,undefined:!0};w.exports=function(l){return!!o(l)&&hasOwnProperty.call(a,typeof l)}},function(w,I,n){w.exports=n(119)()?Object.assign:n(120)},function(w,I,n){var o,a=n(56),l=n(39),f=n(20),t=n(14),s=n(11),i=n(139),r=n(16),c=Object.defineProperty,h=Object.defineProperties;w.exports=o=function(d,g){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");h(this,{__list__:s("w",t(d)),__context__:s("w",g),__nextIndex__:s("w",0)}),g&&(f(g.on),g.on("_add",this._onAdd),g.on("_delete",this._onDelete),g.on("_clear",this._onClear))},delete o.prototype.constructor,h(o.prototype,l({_next:s(function(){var d;if(this.__list__)return this.__redo__&&(d=this.__redo__.shift())!==void 0?d:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:s(function(){return this._createResult(this._next())}),_createResult:s(function(d){return d===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(d)}}),_resolve:s(function(d){return this.__list__[d]}),_unBind:s(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:s(function(){return"[object "+(this[r.toStringTag]||"Object")+"]"})},i({_onAdd:s(function(d){d>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(g,T){g>=d&&(this.__redo__[T]=++g)},this),this.__redo__.push(d)):c(this,"__redo__",s("c",[d])))}),_onDelete:s(function(d){var g;d>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((g=this.__redo__.indexOf(d))!==-1&&this.__redo__.splice(g,1),this.__redo__.forEach(function(T,x){T>d&&(this.__redo__[x]=--T)},this)))}),_onClear:s(function(){this.__redo__&&a.call(this.__redo__),this.__nextIndex__=0})}))),c(o.prototype,r.iterator,s(function(){return this}))},function(w,I,n){var o=n(176);w.exports=function(a,l){var f;function t(s){l.rejectUnauthorized&&a.emit("error",s),f.end()}return l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,(f=o.connect(l)).on("secureConnect",function(){l.rejectUnauthorized&&!f.authorized?f.emit("error",new Error("TLS not authorized")):f.removeListener("error",t)}),f.on("error",t),f}},function(w,I,n){(function(o,a){var l=n(28).Transform,f=n(177),t=n(179),s=n(19).Buffer;w.exports=function(i,r,c){var h,d,g=o.title==="browser",T=!!a.WebSocket,x=g?function P(B,H,X){if(d.bufferedAmount>_)return void setTimeout(P,b,B,H,X);S&&typeof B=="string"&&(B=s.from(B,"utf8"));try{d.send(B)}catch(K){return X(K)}X()}:function(P,B,H){if(d.readyState!==d.OPEN)return void H();S&&typeof P=="string"&&(P=s.from(P,"utf8")),d.send(P,H)};r&&!Array.isArray(r)&&typeof r=="object"&&(c=r,r=null,(typeof c.protocol=="string"||Array.isArray(c.protocol))&&(r=c.protocol)),c||(c={}),c.objectMode===void 0&&(c.objectMode=!(c.binary===!0||c.binary===void 0));var y=function(P,B,H){var X=new l({objectMode:P.objectMode});return X._write=B,X._flush=H,X}(c,x,function(P){d.close(),P()});c.objectMode||(y._writev=O);var _=c.browserBufferSize||524288,b=c.browserBufferTimeout||1e3;typeof i=="object"?d=i:(d=T&&g?new t(i,r):new t(i,r,c)).binaryType="arraybuffer";var u=d.addEventListener===void 0;d.readyState===d.OPEN?h=y:(h=h=f(void 0,void 0,c),c.objectMode||(h._writev=O),u?d.addEventListener("open",v):d.onopen=v),h.socket=d,u?(d.addEventListener("close",R),d.addEventListener("error",M),d.addEventListener("message",D)):(d.onclose=R,d.onerror=M,d.onmessage=D),y.on("close",function(){d.close()});var S=!c.objectMode;function v(){h.setReadable(y),h.setWritable(y),h.emit("connect")}function R(){h.end(),h.destroy()}function M(P){h.destroy(P)}function D(P){var B=P.data;B=B instanceof ArrayBuffer?s.from(B):s.from(B,"utf8"),y.push(B)}function O(P,B){for(var H=new Array(P.length),X=0;X<P.length;X++)typeof P[X].chunk=="string"?H[X]=s.from(P[X],"utf8"):H[X]=P[X].chunk;this._write(s.concat(H),"binary",B)}return h}}).call(this,n(9),n(12))},function(w,I,n){var o;w.exports=(o=o||function(a,l){var f={},t=f.lib={},s=t.Base=function(){function x(){}return{extend:function(y){x.prototype=this;var _=new x;return y&&_.mixIn(y),_.hasOwnProperty("init")||(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var _ in y)y.hasOwnProperty(_)&&(this[_]=y[_]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=t.WordArray=s.extend({init:function(x,y){x=this.words=x||[],this.sigBytes=y!=l?y:4*x.length},toString:function(x){return(x||c).stringify(this)},concat:function(x){var y=this.words,_=x.words,b=this.sigBytes,u=x.sigBytes;if(this.clamp(),b%4)for(var S=0;S<u;S++){var v=_[S>>>2]>>>24-S%4*8&255;y[b+S>>>2]|=v<<24-(b+S)%4*8}else for(S=0;S<u;S+=4)y[b+S>>>2]=_[S>>>2];return this.sigBytes+=u,this},clamp:function(){var x=this.words,y=this.sigBytes;x[y>>>2]&=4294967295<<32-y%4*8,x.length=a.ceil(y/4)},clone:function(){var x=s.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var y,_=[],b=function(v){v=v;var R=987654321,M=4294967295;return function(){var D=((R=36969*(65535&R)+(R>>16)&M)<<16)+(v=18e3*(65535&v)+(v>>16)&M)&M;return D/=4294967296,(D+=.5)*(a.random()>.5?1:-1)}},u=0;u<x;u+=4){var S=b(4294967296*(y||a.random()));y=987654071*S(),_.push(4294967296*S()|0)}return new i.init(_,x)}}),r=f.enc={},c=r.Hex={stringify:function(x){for(var y=x.words,_=x.sigBytes,b=[],u=0;u<_;u++){var S=y[u>>>2]>>>24-u%4*8&255;b.push((S>>>4).toString(16)),b.push((15&S).toString(16))}return b.join("")},parse:function(x){for(var y=x.length,_=[],b=0;b<y;b+=2)_[b>>>3]|=parseInt(x.substr(b,2),16)<<24-b%8*4;return new i.init(_,y/2)}},h=r.Latin1={stringify:function(x){for(var y=x.words,_=x.sigBytes,b=[],u=0;u<_;u++){var S=y[u>>>2]>>>24-u%4*8&255;b.push(String.fromCharCode(S))}return b.join("")},parse:function(x){for(var y=x.length,_=[],b=0;b<y;b++)_[b>>>2]|=(255&x.charCodeAt(b))<<24-b%4*8;return new i.init(_,y)}},d=r.Utf8={stringify:function(x){try{return decodeURIComponent(escape(h.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return h.parse(unescape(encodeURIComponent(x)))}},g=t.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(x){typeof x=="string"&&(x=d.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},_process:function(x){var y=this._data,_=y.words,b=y.sigBytes,u=this.blockSize,S=b/(4*u),v=(S=x?a.ceil(S):a.max((0|S)-this._minBufferSize,0))*u,R=a.min(4*v,b);if(v){for(var M=0;M<v;M+=u)this._doProcessBlock(_,M);var D=_.splice(0,v);y.sigBytes-=R}return new i.init(D,R)},clone:function(){var x=s.clone.call(this);return x._data=this._data.clone(),x},_minBufferSize:0}),T=(t.Hasher=g.extend({cfg:s.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(x){return this._append(x),this._process(),this},finalize:function(x){return x&&this._append(x),this._doFinalize()},blockSize:16,_createHelper:function(x){return function(y,_){return new x.init(_).finalize(y)}},_createHmacHelper:function(x){return function(y,_){return new T.HMAC.init(x,_).finalize(y)}}}),f.algo={});return f}(Math),o)},function(w,I){},function(w,I,n){(function(o){var a=n(10),l=n(196),f=n(76),t={"Content-Type":"application/x-www-form-urlencoded"};function s(c,h){!a.isUndefined(c)&&a.isUndefined(c["Content-Type"])&&(c["Content-Type"]=h)}var i,r={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest<"u"||o!==void 0&&Object.prototype.toString.call(o)==="[object process]")&&(i=n(77)),i),transformRequest:[function(c,h){return l(h,"Accept"),l(h,"Content-Type"),a.isFormData(c)||a.isArrayBuffer(c)||a.isBuffer(c)||a.isStream(c)||a.isFile(c)||a.isBlob(c)?c:a.isArrayBufferView(c)?c.buffer:a.isURLSearchParams(c)?(s(h,"application/x-www-form-urlencoded;charset=utf-8"),c.toString()):a.isObject(c)||h&&h["Content-Type"]==="application/json"?(s(h,"application/json"),JSON.stringify(c)):c}],transformResponse:[function(c){var h=this.transitional,d=h&&h.silentJSONParsing,g=h&&h.forcedJSONParsing,T=!d&&this.responseType==="json";if(T||g&&a.isString(c)&&c.length)try{return JSON.parse(c)}catch(x){if(T)throw x.name==="SyntaxError"?f(x,this,"E_JSON_PARSE"):x}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(c){return c>=200&&c<300}};r.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(c){r.headers[c]={}}),a.forEach(["post","put","patch"],function(c){r.headers[c]=a.merge(t)}),w.exports=r}).call(this,n(9))},function(w,I,n){var o,a;(function(l,f,t){typeof window<"u"&&n(89)?(a=typeof(o=t)=="function"?o.call(I,n,I,w):o)===void 0||(w.exports=a):w.exports?w.exports=t():f.exports?f.exports=t():f.Fingerprint2=t()})(0,this,function(){Array.isArray===void 0&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});var l=function(e,k){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],k=[k[0]>>>16,65535&k[0],k[1]>>>16,65535&k[1]];var E=[0,0,0,0];return E[3]+=e[3]+k[3],E[2]+=E[3]>>>16,E[3]&=65535,E[2]+=e[2]+k[2],E[1]+=E[2]>>>16,E[2]&=65535,E[1]+=e[1]+k[1],E[0]+=E[1]>>>16,E[1]&=65535,E[0]+=e[0]+k[0],E[0]&=65535,[E[0]<<16|E[1],E[2]<<16|E[3]]},f=function(e,k){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],k=[k[0]>>>16,65535&k[0],k[1]>>>16,65535&k[1]];var E=[0,0,0,0];return E[3]+=e[3]*k[3],E[2]+=E[3]>>>16,E[3]&=65535,E[2]+=e[2]*k[3],E[1]+=E[2]>>>16,E[2]&=65535,E[2]+=e[3]*k[2],E[1]+=E[2]>>>16,E[2]&=65535,E[1]+=e[1]*k[3],E[0]+=E[1]>>>16,E[1]&=65535,E[1]+=e[2]*k[2],E[0]+=E[1]>>>16,E[1]&=65535,E[1]+=e[3]*k[1],E[0]+=E[1]>>>16,E[1]&=65535,E[0]+=e[0]*k[3]+e[1]*k[2]+e[2]*k[1]+e[3]*k[0],E[0]&=65535,[E[0]<<16|E[1],E[2]<<16|E[3]]},t=function(e,k){return(k%=64)===32?[e[1],e[0]]:k<32?[e[0]<<k|e[1]>>>32-k,e[1]<<k|e[0]>>>32-k]:(k-=32,[e[1]<<k|e[0]>>>32-k,e[0]<<k|e[1]>>>32-k])},s=function(e,k){return(k%=64)===0?e:k<32?[e[0]<<k|e[1]>>>32-k,e[1]<<k]:[e[1]<<k-32,0]},i=function(e,k){return[e[0]^k[0],e[1]^k[1]]},r=function(e){return e=i(e,[0,e[0]>>>1]),e=f(e,[4283543511,3981806797]),e=i(e,[0,e[0]>>>1]),e=f(e,[3301882366,444984403]),e=i(e,[0,e[0]>>>1])},c=function(e,k){k=k||0;for(var E=(e=e||"").length%16,j=e.length-E,G=[0,k],W=[0,k],ot=[0,0],yt=[0,0],nt=[2277735313,289559509],dt=[1291169091,658871167],ht=0;ht<j;ht+=16)ot=[255&e.charCodeAt(ht+4)|(255&e.charCodeAt(ht+5))<<8|(255&e.charCodeAt(ht+6))<<16|(255&e.charCodeAt(ht+7))<<24,255&e.charCodeAt(ht)|(255&e.charCodeAt(ht+1))<<8|(255&e.charCodeAt(ht+2))<<16|(255&e.charCodeAt(ht+3))<<24],yt=[255&e.charCodeAt(ht+12)|(255&e.charCodeAt(ht+13))<<8|(255&e.charCodeAt(ht+14))<<16|(255&e.charCodeAt(ht+15))<<24,255&e.charCodeAt(ht+8)|(255&e.charCodeAt(ht+9))<<8|(255&e.charCodeAt(ht+10))<<16|(255&e.charCodeAt(ht+11))<<24],ot=f(ot,nt),ot=t(ot,31),ot=f(ot,dt),G=i(G,ot),G=t(G,27),G=l(G,W),G=l(f(G,[0,5]),[0,1390208809]),yt=f(yt,dt),yt=t(yt,33),yt=f(yt,nt),W=i(W,yt),W=t(W,31),W=l(W,G),W=l(f(W,[0,5]),[0,944331445]);switch(ot=[0,0],yt=[0,0],E){case 15:yt=i(yt,s([0,e.charCodeAt(ht+14)],48));case 14:yt=i(yt,s([0,e.charCodeAt(ht+13)],40));case 13:yt=i(yt,s([0,e.charCodeAt(ht+12)],32));case 12:yt=i(yt,s([0,e.charCodeAt(ht+11)],24));case 11:yt=i(yt,s([0,e.charCodeAt(ht+10)],16));case 10:yt=i(yt,s([0,e.charCodeAt(ht+9)],8));case 9:yt=i(yt,[0,e.charCodeAt(ht+8)]),yt=f(yt,dt),yt=t(yt,33),yt=f(yt,nt),W=i(W,yt);case 8:ot=i(ot,s([0,e.charCodeAt(ht+7)],56));case 7:ot=i(ot,s([0,e.charCodeAt(ht+6)],48));case 6:ot=i(ot,s([0,e.charCodeAt(ht+5)],40));case 5:ot=i(ot,s([0,e.charCodeAt(ht+4)],32));case 4:ot=i(ot,s([0,e.charCodeAt(ht+3)],24));case 3:ot=i(ot,s([0,e.charCodeAt(ht+2)],16));case 2:ot=i(ot,s([0,e.charCodeAt(ht+1)],8));case 1:ot=i(ot,[0,e.charCodeAt(ht)]),ot=f(ot,nt),ot=t(ot,31),ot=f(ot,dt),G=i(G,ot)}return G=i(G,[0,e.length]),W=i(W,[0,e.length]),G=l(G,W),W=l(W,G),G=r(G),W=r(W),G=l(G,W),W=l(W,G),("00000000"+(G[0]>>>0).toString(16)).slice(-8)+("00000000"+(G[1]>>>0).toString(16)).slice(-8)+("00000000"+(W[0]>>>0).toString(16)).slice(-8)+("00000000"+(W[1]>>>0).toString(16)).slice(-8)},h={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},d=function(e,k){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(k);else if(e.length===+e.length)for(var E=0,j=e.length;E<j;E++)k(e[E],E,e);else for(var G in e)e.hasOwnProperty(G)&&k(e[G],G,e)},g=function(e,k){var E=[];return e==null?E:Array.prototype.map&&e.map===Array.prototype.map?e.map(k):(d(e,function(j,G,W){E.push(k(j,G,W))}),E)},T=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},x=function(e){var k=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&k.sort().reverse(),k},y=function(e){if(window.screen.availWidth&&window.screen.availHeight){var k=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&k.sort().reverse(),k}return e.NOT_AVAILABLE},_=function(e){if(navigator.plugins==null)return e.NOT_AVAILABLE;for(var k=[],E=0,j=navigator.plugins.length;E<j;E++)navigator.plugins[E]&&k.push(navigator.plugins[E]);return u(e)&&(k=k.sort(function(G,W){return G.name>W.name?1:G.name<W.name?-1:0})),g(k,function(G){var W=g(G,function(ot){return[ot.type,ot.suffixes]});return[G.name,G.description,W]})},b=function(e){var k=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?k=g(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(E){try{return new window.ActiveXObject(E),E}catch{return e.ERROR}}):k.push(e.NOT_AVAILABLE),navigator.plugins&&(k=k.concat(_(e))),k},u=function(e){for(var k=!1,E=0,j=e.plugins.sortPluginsFor.length;E<j;E++){var G=e.plugins.sortPluginsFor[E];if(navigator.userAgent.match(G)){k=!0;break}}return k},S=function(e){try{return!!window.sessionStorage}catch{return e.ERROR}},v=function(e){try{return!!window.localStorage}catch{return e.ERROR}},R=function(e){try{return!!window.indexedDB}catch{return e.ERROR}},M=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},D=function(e){return navigator.cpuClass||e.NOT_AVAILABLE},O=function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE},P=function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE},B=function(){var e,k=0;navigator.maxTouchPoints!==void 0?k=navigator.maxTouchPoints:navigator.msMaxTouchPoints!==void 0&&(k=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch{e=!1}return[k,e,"ontouchstart"in window]},H=function(e){var k=[],E=document.createElement("canvas");E.width=2e3,E.height=200,E.style.display="inline";var j=E.getContext("2d");return j.rect(0,0,10,10),j.rect(2,2,6,6),k.push("canvas winding:"+(j.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),j.textBaseline="alphabetic",j.fillStyle="#f60",j.fillRect(125,1,62,20),j.fillStyle="#069",e.dontUseFakeFontInCanvas?j.font="11pt Arial":j.font="11pt no-real-font-123",j.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),j.fillStyle="rgba(102, 204, 0, 0.2)",j.font="18pt Arial",j.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),j.globalCompositeOperation="multiply",j.fillStyle="rgb(255,0,255)",j.beginPath(),j.arc(50,50,50,0,2*Math.PI,!0),j.closePath(),j.fill(),j.fillStyle="rgb(0,255,255)",j.beginPath(),j.arc(100,50,50,0,2*Math.PI,!0),j.closePath(),j.fill(),j.fillStyle="rgb(255,255,0)",j.beginPath(),j.arc(75,100,50,0,2*Math.PI,!0),j.closePath(),j.fill(),j.fillStyle="rgb(255,0,255)",j.arc(75,75,75,0,2*Math.PI,!0),j.arc(75,75,25,0,2*Math.PI,!0),j.fill("evenodd"),E.toDataURL&&k.push("canvas fp:"+E.toDataURL()),k},X=function(){var e,k=function(dt){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+dt[0]+", "+dt[1]+"]"};if(!(e=vt()))return null;var E=[],j=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,j);var G=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,G,e.STATIC_DRAW),j.itemSize=3,j.numItems=3;var W=e.createProgram(),ot=e.createShader(e.VERTEX_SHADER);e.shaderSource(ot,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(ot);var yt=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(yt,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(yt),e.attachShader(W,ot),e.attachShader(W,yt),e.linkProgram(W),e.useProgram(W),W.vertexPosAttrib=e.getAttribLocation(W,"attrVertex"),W.offsetUniform=e.getUniformLocation(W,"uniformOffset"),e.enableVertexAttribArray(W.vertexPosArray),e.vertexAttribPointer(W.vertexPosAttrib,j.itemSize,e.FLOAT,!1,0,0),e.uniform2f(W.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,j.numItems);try{E.push(e.canvas.toDataURL())}catch{}E.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),E.push("webgl aliased line width range:"+k(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),E.push("webgl aliased point size range:"+k(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),E.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),E.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),E.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),E.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),E.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),E.push("webgl max anisotropy:"+function(dt){var ht=dt.getExtension("EXT_texture_filter_anisotropic")||dt.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||dt.getExtension("MOZ_EXT_texture_filter_anisotropic");if(ht){var Jt=dt.getParameter(ht.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return Jt===0&&(Jt=2),Jt}return null}(e)),E.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),E.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),E.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),E.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),E.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),E.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),E.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),E.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),E.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),E.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),E.push("webgl max viewport dims:"+k(e.getParameter(e.MAX_VIEWPORT_DIMS))),E.push("webgl red bits:"+e.getParameter(e.RED_BITS)),E.push("webgl renderer:"+e.getParameter(e.RENDERER)),E.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),E.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),E.push("webgl vendor:"+e.getParameter(e.VENDOR)),E.push("webgl version:"+e.getParameter(e.VERSION));try{var nt=e.getExtension("WEBGL_debug_renderer_info");nt&&(E.push("webgl unmasked vendor:"+e.getParameter(nt.UNMASKED_VENDOR_WEBGL)),E.push("webgl unmasked renderer:"+e.getParameter(nt.UNMASKED_RENDERER_WEBGL)))}catch{}return e.getShaderPrecisionFormat?(d(["FLOAT","INT"],function(dt){d(["VERTEX","FRAGMENT"],function(ht){d(["HIGH","MEDIUM","LOW"],function(Jt){d(["precision","rangeMin","rangeMax"],function(Qt){var te=e.getShaderPrecisionFormat(e[ht+"_SHADER"],e[Jt+"_"+dt])[Qt];Qt!=="precision"&&(Qt="precision "+Qt);var ce=["webgl ",ht.toLowerCase()," shader ",Jt.toLowerCase()," ",dt.toLowerCase()," ",Qt,":",te].join("");E.push(ce)})})})}),it(e),E):(it(e),E)},K=function(){try{var e=vt(),k=e.getExtension("WEBGL_debug_renderer_info"),E=e.getParameter(k.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(k.UNMASKED_RENDERER_WEBGL);return it(e),E}catch{return null}},N=function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var k=!1;try{document.body.appendChild(e),k=document.getElementsByClassName("adsbox")[0].offsetHeight===0,document.body.removeChild(e)}catch{k=!1}return k},q=function(){if(navigator.languages!==void 0)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch{return!0}return!1},F=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},z=function(){var e,k=navigator.userAgent.toLowerCase(),E=navigator.oscpu,j=navigator.platform.toLowerCase();return e=k.indexOf("windows phone")>=0?"Windows Phone":k.indexOf("windows")>=0||k.indexOf("win16")>=0||k.indexOf("win32")>=0||k.indexOf("win64")>=0||k.indexOf("win95")>=0||k.indexOf("win98")>=0||k.indexOf("winnt")>=0||k.indexOf("wow64")>=0?"Windows":k.indexOf("android")>=0?"Android":k.indexOf("linux")>=0||k.indexOf("cros")>=0||k.indexOf("x11")>=0?"Linux":k.indexOf("iphone")>=0||k.indexOf("ipad")>=0||k.indexOf("ipod")>=0||k.indexOf("crios")>=0||k.indexOf("fxios")>=0?"iOS":k.indexOf("macintosh")>=0||k.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&e!=="Windows"&&e!=="Windows Phone"&&e!=="Android"&&e!=="iOS"&&e!=="Other"&&k.indexOf("cros")===-1||E!==void 0&&((E=E.toLowerCase()).indexOf("win")>=0&&e!=="Windows"&&e!=="Windows Phone"||E.indexOf("linux")>=0&&e!=="Linux"&&e!=="Android"||E.indexOf("mac")>=0&&e!=="Mac"&&e!=="iOS"||(E.indexOf("win")===-1&&E.indexOf("linux")===-1&&E.indexOf("mac")===-1)!=(e==="Other"))?!0:j.indexOf("win")>=0&&e!=="Windows"&&e!=="Windows Phone"||(j.indexOf("linux")>=0||j.indexOf("android")>=0||j.indexOf("pike")>=0)&&e!=="Linux"&&e!=="Android"||(j.indexOf("mac")>=0||j.indexOf("ipad")>=0||j.indexOf("ipod")>=0||j.indexOf("iphone")>=0)&&e!=="Mac"&&e!=="iOS"||!(j.indexOf("arm")>=0&&e==="Windows Phone")&&!(j.indexOf("pike")>=0&&k.indexOf("opera mini")>=0)&&((j.indexOf("win")<0&&j.indexOf("linux")<0&&j.indexOf("mac")<0&&j.indexOf("iphone")<0&&j.indexOf("ipad")<0&&j.indexOf("ipod")<0)!=(e==="Other")||navigator.plugins===void 0&&e!=="Windows"&&e!=="Windows Phone")},A=function(){var e,k=navigator.userAgent.toLowerCase(),E=navigator.productSub;if(k.indexOf("edge/")>=0||k.indexOf("iemobile/")>=0||k.indexOf("opera mini")>=0)return!1;if(((e=k.indexOf("firefox/")>=0?"Firefox":k.indexOf("opera/")>=0||k.indexOf(" opr/")>=0?"Opera":k.indexOf("chrome/")>=0?"Chrome":k.indexOf("safari/")>=0?k.indexOf("android 1.")>=0||k.indexOf("android 2.")>=0||k.indexOf("android 3.")>=0||k.indexOf("android 4.")>=0?"AOSP":"Safari":k.indexOf("trident/")>=0?"Internet Explorer":"Other")=="Chrome"||e==="Safari"||e==="Opera")&&E!=="20030107")return!0;var j,G=eval.toString().length;if(G===37&&e!=="Safari"&&e!=="Firefox"&&e!=="Other"||G===39&&e!=="Internet Explorer"&&e!=="Other"||G===33&&e!=="Chrome"&&e!=="AOSP"&&e!=="Opera"&&e!=="Other")return!0;try{throw"a"}catch(W){try{W.toSource(),j=!0}catch{j=!1}}return j&&e!=="Firefox"&&e!=="Other"},C=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},U=function(){if(!C())return!1;var e=vt(),k=!!window.WebGLRenderingContext&&!!e;return it(e),k},L=function(){return navigator.appName==="Microsoft Internet Explorer"||!(navigator.appName!=="Netscape"||!/Trident/.test(navigator.userAgent))},rt=function(){return window.swfobject!==void 0},lt=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},ft=function(e,k){var E="___fp_swf_loaded";window[E]=function(W){e(W)};var j=k.fonts.swfContainerId;(function(W){var ot=document.createElement("div");ot.setAttribute("id",W.fonts.swfContainerId),document.body.appendChild(ot)})();var G={onReady:E};window.swfobject.embedSWF(k.fonts.swfPath,j,"1","1","9.0.0",!1,G,{allowScriptAccess:"always",menu:"false"},{})},vt=function(){var e=document.createElement("canvas"),k=null;try{k=e.getContext("webgl")||e.getContext("experimental-webgl")}catch{}return k||(k=null),k},it=function(e){var k=e.getExtension("WEBGL_lose_context");k!=null&&k.loseContext()},p=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",getData:function(e,k){e(navigator.webdriver==null?k.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(e,k){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||k.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,k){e(window.screen.colorDepth||k.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,k){e(navigator.deviceMemory||k.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,k){e(window.devicePixelRatio||k.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(e,k){e(M(k))}},{key:"screenResolution",getData:function(e,k){e(x(k))}},{key:"availableScreenResolution",getData:function(e,k){e(y(k))}},{key:"timezoneOffset",getData:function(e){e(new Date().getTimezoneOffset())}},{key:"timezone",getData:function(e,k){window.Intl&&window.Intl.DateTimeFormat?e(new window.Intl.DateTimeFormat().resolvedOptions().timeZone):e(k.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(e,k){e(S(k))}},{key:"localStorage",getData:function(e,k){e(v(k))}},{key:"indexedDb",getData:function(e,k){e(R(k))}},{key:"addBehavior",getData:function(e){e(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:function(e,k){e(D(k))}},{key:"platform",getData:function(e,k){e(O(k))}},{key:"doNotTrack",getData:function(e,k){e(P(k))}},{key:"plugins",getData:function(e,k){L()?k.plugins.excludeIE?e(k.EXCLUDED):e(b(k)):e(_(k))}},{key:"canvas",getData:function(e,k){C()?e(H(k)):e(k.NOT_AVAILABLE)}},{key:"webgl",getData:function(e,k){U()?e(X()):e(k.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(e){U()?e(K()):e()}},{key:"adBlock",getData:function(e){e(N())}},{key:"hasLiedLanguages",getData:function(e){e(q())}},{key:"hasLiedResolution",getData:function(e){e(F())}},{key:"hasLiedOs",getData:function(e){e(z())}},{key:"hasLiedBrowser",getData:function(e){e(A())}},{key:"touchSupport",getData:function(e){e(B())}},{key:"fonts",getData:function(e,k){var E=["monospace","sans-serif","serif"],j=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];k.fonts.extendedJsFonts&&(j=j.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),j=(j=j.concat(k.fonts.userDefinedFonts)).filter(function(Vt,$t){return j.indexOf(Vt)===$t});var G=document.getElementsByTagName("body")[0],W=document.createElement("div"),ot=document.createElement("div"),yt={},nt={},dt=function(){var Vt=document.createElement("span");return Vt.style.position="absolute",Vt.style.left="-9999px",Vt.style.fontSize="72px",Vt.style.fontStyle="normal",Vt.style.fontWeight="normal",Vt.style.letterSpacing="normal",Vt.style.lineBreak="auto",Vt.style.lineHeight="normal",Vt.style.textTransform="none",Vt.style.textAlign="left",Vt.style.textDecoration="none",Vt.style.textShadow="none",Vt.style.whiteSpace="normal",Vt.style.wordBreak="normal",Vt.style.wordSpacing="normal",Vt.innerHTML="mmmmmmmmmmlli",Vt},ht=function(Vt,$t){var ee=dt();return ee.style.fontFamily="'"+Vt+"',"+$t,ee},Jt=function(Vt){for(var $t=!1,ee=0;ee<E.length;ee++)if($t=Vt[ee].offsetWidth!==yt[E[ee]]||Vt[ee].offsetHeight!==nt[E[ee]])return $t;return $t},Qt=function(){for(var Vt=[],$t=0,ee=E.length;$t<ee;$t++){var oe=dt();oe.style.fontFamily=E[$t],W.appendChild(oe),Vt.push(oe)}return Vt}();G.appendChild(W);for(var te=0,ce=E.length;te<ce;te++)yt[E[te]]=Qt[te].offsetWidth,nt[E[te]]=Qt[te].offsetHeight;var Se=function(){for(var Vt={},$t=0,ee=j.length;$t<ee;$t++){for(var oe=[],le=0,Ee=E.length;le<Ee;le++){var me=ht(j[$t],E[le]);ot.appendChild(me),oe.push(me)}Vt[j[$t]]=oe}return Vt}();G.appendChild(ot);for(var ge=[],fe=0,Te=j.length;fe<Te;fe++)Jt(Se[j[fe]])&&ge.push(j[fe]);G.removeChild(ot),G.removeChild(W),e(ge)},pauseBefore:!0},{key:"fontsFlash",getData:function(e,k){return rt()?lt()?k.fonts.swfPath?void ft(function(E){e(E)},k):e("missing options.fonts.swfPath"):e("flash not installed"):e("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(e,k){var E=k.audio;if(E.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(k.EXCLUDED);var j=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(j==null)return e(k.NOT_AVAILABLE);var G=new j(1,44100,44100),W=G.createOscillator();W.type="triangle",W.frequency.setValueAtTime(1e4,G.currentTime);var ot=G.createDynamicsCompressor();d([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],function(nt){ot[nt[0]]!==void 0&&typeof ot[nt[0]].setValueAtTime=="function"&&ot[nt[0]].setValueAtTime(nt[1],G.currentTime)}),W.connect(ot),ot.connect(G.destination),W.start(0),G.startRendering();var yt=setTimeout(function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),G.oncomplete=function(){},G=null,e("audioTimeout")},E.timeout);G.oncomplete=function(nt){var dt;try{clearTimeout(yt),dt=nt.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce(function(ht,Jt){return ht+Math.abs(Jt)},0).toString(),W.disconnect(),ot.disconnect()}catch(ht){return void e(ht)}e(dt)}}},{key:"enumerateDevices",getData:function(e,k){if(!T())return e(k.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then(function(E){e(E.map(function(j){return"id="+j.deviceId+";gid="+j.groupId+";"+j.kind+";"+j.label}))}).catch(function(E){e(E)})}}],m=function(e){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return m.get=function(e,k){k?e||(e={}):(k=e,e={}),function(W,ot){if(ot==null)return W;var yt,nt;for(nt in ot)(yt=ot[nt])==null||Object.prototype.hasOwnProperty.call(W,nt)||(W[nt]=yt)}(e,h),e.components=e.extraComponents.concat(p);var E={data:[],addPreprocessedComponent:function(W,ot){typeof e.preprocessor=="function"&&(ot=e.preprocessor(W,ot)),E.data.push({key:W,value:ot})}},j=-1,G=function(W){if((j+=1)>=e.components.length)k(E.data);else{var ot=e.components[j];if(e.excludes[ot.key])G(!1);else{if(!W&&ot.pauseBefore)return j-=1,void setTimeout(function(){G(!0)},1);try{ot.getData(function(yt){E.addPreprocessedComponent(ot.key,yt),G(!1)},e)}catch(yt){E.addPreprocessedComponent(ot.key,String(yt)),G(!1)}}}};G(!1)},m.getPromise=function(e){return new Promise(function(k,E){m.get(e,k)})},m.getV18=function(e,k){return k==null&&(k=e,e={}),m.get(e,function(E){for(var j=[],G=0;G<E.length;G++){var W=E[G];if(W.value===(e.NOT_AVAILABLE||"not available"))j.push({key:W.key,value:"unknown"});else if(W.key==="plugins")j.push({key:"plugins",value:g(W.value,function(yt){var nt=g(yt[2],function(dt){return dt.join?dt.join("~"):dt}).join(",");return[yt[0],yt[1],nt].join("::")})});else if(["canvas","webgl"].indexOf(W.key)!==-1&&Array.isArray(W.value))j.push({key:W.key,value:W.value.join("~")});else if(["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(W.key)!==-1){if(!W.value)continue;j.push({key:W.key,value:1})}else W.value?j.push(W.value.join?{key:W.key,value:W.value.join(";")}:W):j.push({key:W.key,value:W.value})}var ot=c(g(j,function(yt){return yt.value}).join("~~~"),31);k(ot,j)})},m.x64hash128=c,m.VERSION="2.1.2",m})},function(w,I,n){var o=String.prototype.replace,a=/%20/g,l=n(34),f={RFC1738:"RFC1738",RFC3986:"RFC3986"};w.exports=l.assign({default:f.RFC3986,formatters:{RFC1738:function(t){return o.call(t,a,"+")},RFC3986:function(t){return String(t)}}},f)},function(w,I,n){(function(o){var a=n(36),l=n(28).Readable,f={objectMode:!0},t={clean:!0},s=n(103);function i(r){if(!(this instanceof i))return new i(r);this.options=r||{},this.options=a(t,r),this._inflights=new s}i.prototype.put=function(r,c){return this._inflights.set(r.messageId,r),c&&c(),this},i.prototype.createStream=function(){var r=new l(f),c=!1,h=[],d=0;return this._inflights.forEach(function(g,T){h.push(g)}),r._read=function(){!c&&d<h.length?this.push(h[d++]):this.push(null)},r.destroy=function(){if(!c){var g=this;c=!0,o.nextTick(function(){g.emit("close")})}},r},i.prototype.del=function(r,c){return(r=this._inflights.get(r.messageId))?(this._inflights.delete(r.messageId),c(null,r)):c&&c(new Error("missing packet")),this},i.prototype.get=function(r,c){return(r=this._inflights.get(r.messageId))?c(null,r):c&&c(new Error("missing packet")),this},i.prototype.close=function(r){this.options.clean&&(this._inflights=null),r&&r()},w.exports=i}).call(this,n(9))},function(w,I,n){(function(o,a){var l=n(23);w.exports=u;var f,t=n(50);u.ReadableState=b,n(15).EventEmitter;var s=function(A,C){return A.listeners(C).length},i=n(51),r=n(37).Buffer,c=o.Uint8Array||function(){},h=Object.create(n(25));h.inherits=n(13);var d=n(96),g=void 0;g=d&&d.debuglog?d.debuglog("stream"):function(){};var T,x=n(97),y=n(52);h.inherits(u,i);var _=["error","close","destroy","pause","resume"];function b(A,C){A=A||{};var U=C instanceof(f=f||n(18));this.objectMode=!!A.objectMode,U&&(this.objectMode=this.objectMode||!!A.readableObjectMode);var L=A.highWaterMark,rt=A.readableHighWaterMark,lt=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:U&&(rt||rt===0)?rt:lt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(T||(T=n(54).StringDecoder),this.decoder=new T(A.encoding),this.encoding=A.encoding)}function u(A){if(f=f||n(18),!(this instanceof u))return new u(A);this._readableState=new b(A,this),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),i.call(this)}function S(A,C,U,L,rt){var lt,ft=A._readableState;return C===null?(ft.reading=!1,function(vt,it){if(!it.ended){if(it.decoder){var p=it.decoder.end();p&&p.length&&(it.buffer.push(p),it.length+=it.objectMode?1:p.length)}it.ended=!0,D(vt)}}(A,ft)):(rt||(lt=function(vt,it){var p;m=it,r.isBuffer(m)||m instanceof c||typeof it=="string"||it===void 0||vt.objectMode||(p=new TypeError("Invalid non-string/buffer chunk"));var m;return p}(ft,C)),lt?A.emit("error",lt):ft.objectMode||C&&C.length>0?(typeof C=="string"||ft.objectMode||Object.getPrototypeOf(C)===r.prototype||(C=function(vt){return r.from(vt)}(C)),L?ft.endEmitted?A.emit("error",new Error("stream.unshift() after end event")):v(A,ft,C,!0):ft.ended?A.emit("error",new Error("stream.push() after EOF")):(ft.reading=!1,ft.decoder&&!U?(C=ft.decoder.write(C),ft.objectMode||C.length!==0?v(A,ft,C,!1):P(A,ft)):v(A,ft,C,!1))):L||(ft.reading=!1)),function(vt){return!vt.ended&&(vt.needReadable||vt.length<vt.highWaterMark||vt.length===0)}(ft)}function v(A,C,U,L){C.flowing&&C.length===0&&!C.sync?(A.emit("data",U),A.read(0)):(C.length+=C.objectMode?1:U.length,L?C.buffer.unshift(U):C.buffer.push(U),C.needReadable&&D(A)),P(A,C)}Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),u.prototype.destroy=y.destroy,u.prototype._undestroy=y.undestroy,u.prototype._destroy=function(A,C){this.push(null),C(A)},u.prototype.push=function(A,C){var U,L=this._readableState;return L.objectMode?U=!0:typeof A=="string"&&((C=C||L.defaultEncoding)!==L.encoding&&(A=r.from(A,C),C=""),U=!0),S(this,A,C,!1,U)},u.prototype.unshift=function(A){return S(this,A,null,!0,!1)},u.prototype.isPaused=function(){return this._readableState.flowing===!1},u.prototype.setEncoding=function(A){return T||(T=n(54).StringDecoder),this._readableState.decoder=new T(A),this._readableState.encoding=A,this};var R=8388608;function M(A,C){return A<=0||C.length===0&&C.ended?0:C.objectMode?1:A!=A?C.flowing&&C.length?C.buffer.head.data.length:C.length:(A>C.highWaterMark&&(C.highWaterMark=function(U){return U>=R?U=R:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(A)),A<=C.length?A:C.ended?C.length:(C.needReadable=!0,0))}function D(A){var C=A._readableState;C.needReadable=!1,C.emittedReadable||(g("emitReadable",C.flowing),C.emittedReadable=!0,C.sync?l.nextTick(O,A):O(A))}function O(A){g("emit readable"),A.emit("readable"),K(A)}function P(A,C){C.readingMore||(C.readingMore=!0,l.nextTick(B,A,C))}function B(A,C){for(var U=C.length;!C.reading&&!C.flowing&&!C.ended&&C.length<C.highWaterMark&&(g("maybeReadMore read 0"),A.read(0),U!==C.length);)U=C.length;C.readingMore=!1}function H(A){g("readable nexttick read 0"),A.read(0)}function X(A,C){C.reading||(g("resume read 0"),A.read(0)),C.resumeScheduled=!1,C.awaitDrain=0,A.emit("resume"),K(A),C.flowing&&!C.reading&&A.read(0)}function K(A){var C=A._readableState;for(g("flow",C.flowing);C.flowing&&A.read()!==null;);}function N(A,C){return C.length===0?null:(C.objectMode?U=C.buffer.shift():!A||A>=C.length?(U=C.decoder?C.buffer.join(""):C.buffer.length===1?C.buffer.head.data:C.buffer.concat(C.length),C.buffer.clear()):U=function(L,rt,lt){var ft;return L<rt.head.data.length?(ft=rt.head.data.slice(0,L),rt.head.data=rt.head.data.slice(L)):ft=L===rt.head.data.length?rt.shift():lt?function(vt,it){var p=it.head,m=1,e=p.data;for(vt-=e.length;p=p.next;){var k=p.data,E=vt>k.length?k.length:vt;if(E===k.length?e+=k:e+=k.slice(0,vt),(vt-=E)===0){E===k.length?(++m,p.next?it.head=p.next:it.head=it.tail=null):(it.head=p,p.data=k.slice(E));break}++m}return it.length-=m,e}(L,rt):function(vt,it){var p=r.allocUnsafe(vt),m=it.head,e=1;for(m.data.copy(p),vt-=m.data.length;m=m.next;){var k=m.data,E=vt>k.length?k.length:vt;if(k.copy(p,p.length-vt,0,E),(vt-=E)===0){E===k.length?(++e,m.next?it.head=m.next:it.head=it.tail=null):(it.head=m,m.data=k.slice(E));break}++e}return it.length-=e,p}(L,rt),ft}(A,C.buffer,C.decoder),U);var U}function q(A){var C=A._readableState;if(C.length>0)throw new Error('"endReadable()" called on non-empty stream');C.endEmitted||(C.ended=!0,l.nextTick(F,C,A))}function F(A,C){A.endEmitted||A.length!==0||(A.endEmitted=!0,C.readable=!1,C.emit("end"))}function z(A,C){for(var U=0,L=A.length;U<L;U++)if(A[U]===C)return U;return-1}u.prototype.read=function(A){g("read",A),A=parseInt(A,10);var C=this._readableState,U=A;if(A!==0&&(C.emittedReadable=!1),A===0&&C.needReadable&&(C.length>=C.highWaterMark||C.ended))return g("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?q(this):D(this),null;if((A=M(A,C))===0&&C.ended)return C.length===0&&q(this),null;var L,rt=C.needReadable;return g("need readable",rt),(C.length===0||C.length-A<C.highWaterMark)&&g("length less than watermark",rt=!0),C.ended||C.reading?g("reading or ended",rt=!1):rt&&(g("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(A=M(U,C))),(L=A>0?N(A,C):null)===null?(C.needReadable=!0,A=0):C.length-=A,C.length===0&&(C.ended||(C.needReadable=!0),U!==A&&C.ended&&q(this)),L!==null&&this.emit("data",L),L},u.prototype._read=function(A){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(A,C){var U=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=A;break;case 1:L.pipes=[L.pipes,A];break;default:L.pipes.push(A)}L.pipesCount+=1,g("pipe count=%d opts=%j",L.pipesCount,C);var rt=(!C||C.end!==!1)&&A!==a.stdout&&A!==a.stderr?ft:j;function lt(G,W){g("onunpipe"),G===U&&W&&W.hasUnpiped===!1&&(W.hasUnpiped=!0,g("cleanup"),A.removeListener("close",k),A.removeListener("finish",E),A.removeListener("drain",vt),A.removeListener("error",e),A.removeListener("unpipe",lt),U.removeListener("end",ft),U.removeListener("end",j),U.removeListener("data",m),it=!0,!L.awaitDrain||A._writableState&&!A._writableState.needDrain||vt())}function ft(){g("onend"),A.end()}L.endEmitted?l.nextTick(rt):U.once("end",rt),A.on("unpipe",lt);var vt=function(G){return function(){var W=G._readableState;g("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&s(G,"data")&&(W.flowing=!0,K(G))}}(U);A.on("drain",vt);var it=!1,p=!1;function m(G){g("ondata"),p=!1,A.write(G)!==!1||p||((L.pipesCount===1&&L.pipes===A||L.pipesCount>1&&z(L.pipes,A)!==-1)&&!it&&(g("false write response, pause",U._readableState.awaitDrain),U._readableState.awaitDrain++,p=!0),U.pause())}function e(G){g("onerror",G),j(),A.removeListener("error",e),s(A,"error")===0&&A.emit("error",G)}function k(){A.removeListener("finish",E),j()}function E(){g("onfinish"),A.removeListener("close",k),j()}function j(){g("unpipe"),U.unpipe(A)}return U.on("data",m),function(G,W,ot){if(typeof G.prependListener=="function")return G.prependListener(W,ot);G._events&&G._events[W]?t(G._events[W])?G._events[W].unshift(ot):G._events[W]=[ot,G._events[W]]:G.on(W,ot)}(A,"error",e),A.once("close",k),A.once("finish",E),A.emit("pipe",U),L.flowing||(g("pipe resume"),U.resume()),A},u.prototype.unpipe=function(A){var C=this._readableState,U={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return A&&A!==C.pipes||(A||(A=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,A&&A.emit("unpipe",this,U)),this;if(!A){var L=C.pipes,rt=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var lt=0;lt<rt;lt++)L[lt].emit("unpipe",this,U);return this}var ft=z(C.pipes,A);return ft===-1||(C.pipes.splice(ft,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),A.emit("unpipe",this,U)),this},u.prototype.on=function(A,C){var U=i.prototype.on.call(this,A,C);if(A==="data")this._readableState.flowing!==!1&&this.resume();else if(A==="readable"){var L=this._readableState;L.endEmitted||L.readableListening||(L.readableListening=L.needReadable=!0,L.emittedReadable=!1,L.reading?L.length&&D(this):l.nextTick(H,this))}return U},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var A=this._readableState;return A.flowing||(g("resume"),A.flowing=!0,function(C,U){U.resumeScheduled||(U.resumeScheduled=!0,l.nextTick(X,C,U))}(this,A)),this},u.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(A){var C=this,U=this._readableState,L=!1;for(var rt in A.on("end",function(){if(g("wrapped end"),U.decoder&&!U.ended){var ft=U.decoder.end();ft&&ft.length&&C.push(ft)}C.push(null)}),A.on("data",function(ft){g("wrapped data"),U.decoder&&(ft=U.decoder.write(ft)),U.objectMode&&ft==null||(U.objectMode||ft&&ft.length)&&(C.push(ft)||(L=!0,A.pause()))}),A)this[rt]===void 0&&typeof A[rt]=="function"&&(this[rt]=function(ft){return function(){return A[ft].apply(A,arguments)}}(rt));for(var lt=0;lt<_.length;lt++)A.on(_[lt],this.emit.bind(this,_[lt]));return this._read=function(ft){g("wrapped _read",ft),L&&(L=!1,A.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=N}).call(this,n(12),n(9))},function(w,I){var n={}.toString;w.exports=Array.isArray||function(o){return n.call(o)=="[object Array]"}},function(w,I,n){w.exports=n(15).EventEmitter},function(w,I,n){var o=n(23);function a(l,f){l.emit("error",f)}w.exports={destroy:function(l,f){var t=this,s=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return s||i?(f?f(l):!l||this._writableState&&this._writableState.errorEmitted||o.nextTick(a,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(r){!f&&r?(o.nextTick(a,t,r),t._writableState&&(t._writableState.errorEmitted=!0)):f&&f(r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(w,I,n){(function(o,a,l){var f=n(23);function t(O){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(B,H,X){var K=B.entry;for(B.entry=null;K;){var N=K.callback;H.pendingcb--,N(X),K=K.next}H.corkedRequestsFree?H.corkedRequestsFree.next=B:H.corkedRequestsFree=B})(P,O)}}w.exports=b;var s,i=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?a:f.nextTick;b.WritableState=_;var r=Object.create(n(25));r.inherits=n(13);var c={deprecate:n(101)},h=n(51),d=n(37).Buffer,g=l.Uint8Array||function(){},T,x=n(52);function y(){}function _(O,P){s=s||n(18),O=O||{};var B=P instanceof s;this.objectMode=!!O.objectMode,B&&(this.objectMode=this.objectMode||!!O.writableObjectMode);var H=O.highWaterMark,X=O.writableHighWaterMark,K=this.objectMode?16:16384;this.highWaterMark=H||H===0?H:B&&(X||X===0)?X:K,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=O.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(F,z){var A=F._writableState,C=A.sync,U=A.writecb;if(function(rt){rt.writing=!1,rt.writecb=null,rt.length-=rt.writelen,rt.writelen=0}(A),z)(function(rt,lt,ft,vt,it){--lt.pendingcb,ft?(f.nextTick(it,vt),f.nextTick(D,rt,lt),rt._writableState.errorEmitted=!0,rt.emit("error",vt)):(it(vt),rt._writableState.errorEmitted=!0,rt.emit("error",vt),D(rt,lt))})(F,A,C,z,U);else{var L=R(A);L||A.corked||A.bufferProcessing||!A.bufferedRequest||v(F,A),C?i(S,F,A,L,U):S(F,A,L,U)}})(P,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function b(O){if(s=s||n(18),!(T.call(b,this)||this instanceof s))return new b(O);this._writableState=new _(O,this),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),h.call(this)}function u(O,P,B,H,X,K,N){P.writelen=H,P.writecb=N,P.writing=!0,P.sync=!0,B?O._writev(X,P.onwrite):O._write(X,K,P.onwrite),P.sync=!1}function S(O,P,B,H){B||function(X,K){K.length===0&&K.needDrain&&(K.needDrain=!1,X.emit("drain"))}(O,P),P.pendingcb--,H(),D(O,P)}function v(O,P){P.bufferProcessing=!0;var B=P.bufferedRequest;if(O._writev&&B&&B.next){var H=P.bufferedRequestCount,X=new Array(H),K=P.corkedRequestsFree;K.entry=B;for(var N=0,q=!0;B;)X[N]=B,B.isBuf||(q=!1),B=B.next,N+=1;X.allBuffers=q,u(O,P,!0,P.length,X,"",K.finish),P.pendingcb++,P.lastBufferedRequest=null,K.next?(P.corkedRequestsFree=K.next,K.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;B;){var F=B.chunk,z=B.encoding,A=B.callback;if(u(O,P,!1,P.objectMode?1:F.length,F,z,A),B=B.next,P.bufferedRequestCount--,P.writing)break}B===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=B,P.bufferProcessing=!1}function R(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function M(O,P){O._final(function(B){P.pendingcb--,B&&O.emit("error",B),P.prefinished=!0,O.emit("prefinish"),D(O,P)})}function D(O,P){var B=R(P);return B&&(function(H,X){X.prefinished||X.finalCalled||(typeof H._final=="function"?(X.pendingcb++,X.finalCalled=!0,f.nextTick(M,H,X)):(X.prefinished=!0,H.emit("prefinish")))}(O,P),P.pendingcb===0&&(P.finished=!0,O.emit("finish"))),B}r.inherits(b,h),_.prototype.getBuffer=function(){for(var O=this.bufferedRequest,P=[];O;)P.push(O),O=O.next;return P},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(O){return!!T.call(this,O)||this===b&&O&&O._writableState instanceof _}})):T=function(O){return O instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(O,P,B){var H,X=this._writableState,K=!1,N=!X.objectMode&&(H=O,d.isBuffer(H)||H instanceof g);return N&&!d.isBuffer(O)&&(O=function(q){return d.from(q)}(O)),typeof P=="function"&&(B=P,P=null),N?P="buffer":P||(P=X.defaultEncoding),typeof B!="function"&&(B=y),X.ended?function(q,F){var z=new Error("write after end");q.emit("error",z),f.nextTick(F,z)}(this,B):(N||function(q,F,z,A){var C=!0,U=!1;return z===null?U=new TypeError("May not write null values to stream"):typeof z=="string"||z===void 0||F.objectMode||(U=new TypeError("Invalid non-string/buffer chunk")),U&&(q.emit("error",U),f.nextTick(A,U),C=!1),C}(this,X,O,B))&&(X.pendingcb++,K=function(q,F,z,A,C,U){if(!z){var L=function(vt,it,p){return vt.objectMode||vt.decodeStrings===!1||typeof it!="string"||(it=d.from(it,p)),it}(F,A,C);A!==L&&(z=!0,C="buffer",A=L)}var rt=F.objectMode?1:A.length;F.length+=rt;var lt=F.length<F.highWaterMark;if(lt||(F.needDrain=!0),F.writing||F.corked){var ft=F.lastBufferedRequest;F.lastBufferedRequest={chunk:A,encoding:C,isBuf:z,callback:U,next:null},ft?ft.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else u(q,F,!1,rt,A,C,U);return lt}(this,X,N,O,P,B)),K},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.finished||O.bufferProcessing||!O.bufferedRequest||v(this,O))},b.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(O,P,B){B(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(O,P,B){var H=this._writableState;typeof O=="function"?(B=O,O=null,P=null):typeof P=="function"&&(B=P,P=null),O!=null&&this.write(O,P),H.corked&&(H.corked=1,this.uncork()),H.ending||H.finished||function(X,K,N){K.ending=!0,D(X,K),N&&(K.finished?f.nextTick(N):X.once("finish",N)),K.ended=!0,X.writable=!1}(this,H,B)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),b.prototype.destroy=x.destroy,b.prototype._undestroy=x.undestroy,b.prototype._destroy=function(O,P){this.end(),P(O)}}).call(this,n(9),n(99).setImmediate,n(12))},function(w,I,n){var o=n(19).Buffer,a=o.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){var T;switch(this.encoding=function(x){var y=function(_){if(!_)return"utf8";for(var b;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(b)return;_=(""+_).toLowerCase(),b=!0}}(x);if(typeof y!="string"&&(o.isEncoding===a||!a(x)))throw new Error("Unknown encoding: "+x);return y||x}(g),this.encoding){case"utf16le":this.text=s,this.end=i,T=4;break;case"utf8":this.fillLast=t,T=4;break;case"base64":this.text=r,this.end=c,T=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(T)}function f(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function t(g){var T=this.lastTotal-this.lastNeed,x=function(y,_,b){if((192&_[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&_.length>1){if((192&_[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&_.length>2&&(192&_[2])!=128)return y.lastNeed=2,"�"}}(this,g);return x!==void 0?x:this.lastNeed<=g.length?(g.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,T,0,g.length),void(this.lastNeed-=g.length))}function s(g,T){if((g.length-T)%2==0){var x=g.toString("utf16le",T);if(x){var y=x.charCodeAt(x.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",T,g.length-1)}function i(g){var T=g&&g.length?this.write(g):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,x)}return T}function r(g,T){var x=(g.length-T)%3;return x===0?g.toString("base64",T):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",T,g.length-x))}function c(g){var T=g&&g.length?this.write(g):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function h(g){return g.toString(this.encoding)}function d(g){return g&&g.length?this.write(g):""}I.StringDecoder=l,l.prototype.write=function(g){if(g.length===0)return"";var T,x;if(this.lastNeed){if((T=this.fillLast(g))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<g.length?T?T+this.text(g,x):this.text(g,x):T||""},l.prototype.end=function(g){var T=g&&g.length?this.write(g):"";return this.lastNeed?T+"�":T},l.prototype.text=function(g,T){var x=function(_,b,u){var S=b.length-1;if(S<u)return 0;var v=f(b[S]);return v>=0?(v>0&&(_.lastNeed=v-1),v):--S<u||v===-2?0:(v=f(b[S]))>=0?(v>0&&(_.lastNeed=v-2),v):--S<u||v===-2?0:(v=f(b[S]))>=0?(v>0&&(v===2?v=0:_.lastNeed=v-3),v):0}(this,g,T);if(!this.lastNeed)return g.toString("utf8",T);this.lastTotal=x;var y=g.length-(x-this.lastNeed);return g.copy(this.lastChar,0,y),g.toString("utf8",T,y)},l.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},function(w,I,n){w.exports=f;var o=n(18),a=Object.create(n(25));function l(i,r){var c=this._transformState;c.transforming=!1;var h=c.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,r!=null&&this.push(r),h(i);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function f(i){if(!(this instanceof f))return new f(i);o.call(this,i),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",t)}function t(){var i=this;typeof this._flush=="function"?this._flush(function(r,c){s(i,r,c)}):s(this,null,null)}function s(i,r,c){if(r)return i.emit("error",r);if(c!=null&&i.push(c),i._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(i._transformState.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}a.inherits=n(13),a.inherits(f,o),f.prototype.push=function(i,r){return this._transformState.needTransform=!1,o.prototype.push.call(this,i,r)},f.prototype._transform=function(i,r,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(i,r,c){var h=this._transformState;if(h.writecb=c,h.writechunk=i,h.writeencoding=r,!h.transforming){var d=this._readableState;(h.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},f.prototype._read=function(i){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},f.prototype._destroy=function(i,r){var c=this;o.prototype._destroy.call(this,i,function(h){r(h),c.emit("close")})}},function(w,I,n){var o=n(14);w.exports=function(){return o(this).length=0,this}},function(w,I,n){var o=n(111),a=Math.max;w.exports=function(l){return a(0,o(l))}},function(w,I,n){var o=Object.create,a=Object.getPrototypeOf,l={};w.exports=function(){var f=Object.setPrototypeOf,t=arguments[0]||o;return typeof f=="function"&&a(f(t(null),l))===l}},function(w,I,n){var o,a,l,f,t=n(115),s=n(14),i=Object.prototype.isPrototypeOf,r=Object.defineProperty,c={configurable:!0,enumerable:!1,writable:!0,value:void 0};o=function(h,d){if(s(h),d===null||t(d))return h;throw new TypeError("Prototype must be null or an object")},w.exports=(a=function(){var h,d=Object.create(null),g={},T=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(T){try{(h=T.set).call(d,g)}catch{}if(Object.getPrototypeOf(d)===g)return{set:h,level:2}}return d.__proto__=g,Object.getPrototypeOf(d)===g?{level:2}:((d={}).__proto__=g,Object.getPrototypeOf(d)===g&&{level:1})}())?(a.level===2?a.set?(f=a.set,l=function(h,d){return f.call(o(h,d),d),h}):l=function(h,d){return o(h,d).__proto__=d,h}:l=function h(d,g){var T;return o(d,g),(T=i.call(h.nullPolyfill,d))&&delete h.nullPolyfill.__proto__,g===null&&(g=h.nullPolyfill),d.__proto__=g,T&&r(h.nullPolyfill,"__proto__",c),d},Object.defineProperty(l,"level",{configurable:!1,enumerable:!1,writable:!1,value:a.level})):null,n(116)},function(w,I,n){var o=n(117),a=/^\s*class[\s{/}]/,l=Function.prototype.toString;w.exports=function(f){return!!o(f)&&!a.test(l.call(f))}},function(w,I,n){var o=n(21),a=Array.prototype.forEach,l=Object.create,f=function(t,s){var i;for(i in t)s[i]=t[i]};w.exports=function(t){var s=l(null);return a.call(arguments,function(i){o(i)&&f(Object(i),s)}),s}},function(w,I,n){w.exports=n(124)()?String.prototype.contains:n(125)},function(w,I,n){var o=n(131);w.exports=function(a){if(!o(a))throw new TypeError(a+" is not a symbol");return a}},function(w,I,n){var o=n(135);w.exports=function(a){if(!o(a))throw new TypeError(a+" is not iterable");return a}},function(w,I,n){var o=n(22),a=n(38),l=n(141),f=n(142),t=function(s,i){return s.replace("%v",f(i))};w.exports=function(s,i,r){if(!a(r))throw new TypeError(t(i,s));if(!o(s)){if("default"in r)return r.default;if(r.isOptional)return null}var c=l(r.errorMessage);throw o(c)||(c=i),new TypeError(t(c,s))}},function(w,I,n){(function(o){var a=n(158),l=function(){},f=function(t,s,i){if(typeof s=="function")return f(t,null,s);s||(s={}),i=a(i||l);var r=t._writableState,c=t._readableState,h=s.readable||s.readable!==!1&&t.readable,d=s.writable||s.writable!==!1&&t.writable,g=!1,T=function(){t.writable||x()},x=function(){d=!1,h||i.call(t)},y=function(){h=!1,d||i.call(t)},_=function(R){i.call(t,R?new Error("exited with error code: "+R):null)},b=function(R){i.call(t,R)},u=function(){o.nextTick(S)},S=function(){if(!g)return(!h||c&&c.ended&&!c.destroyed)&&(!d||r&&r.ended&&!r.destroyed)?void 0:i.call(t,new Error("premature close"))},v=function(){t.req.on("finish",x)};return function(R){return R.setHeader&&typeof R.abort=="function"}(t)?(t.on("complete",x),t.on("abort",u),t.req?v():t.on("request",v)):d&&!r&&(t.on("end",T),t.on("close",T)),function(R){return R.stdio&&Array.isArray(R.stdio)&&R.stdio.length===3}(t)&&t.on("exit",_),t.on("end",y),t.on("finish",x),s.error!==!1&&t.on("error",b),t.on("close",u),function(){g=!0,t.removeListener("complete",x),t.removeListener("abort",u),t.removeListener("request",v),t.req&&t.req.removeListener("finish",x),t.removeListener("end",T),t.removeListener("close",T),t.removeListener("finish",x),t.removeListener("exit",_),t.removeListener("end",y),t.removeListener("error",b),t.removeListener("close",u)}};w.exports=f}).call(this,n(9))},function(w,I,n){var o=n(19).Buffer,a=w.exports;for(var l in a.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},a.codes={},a.types){var f=a.types[l];a.codes[f]=l}function t(s){return[0,1,2].map(function(i){return[0,1].map(function(r){return[0,1].map(function(c){var h=new o(1);return h.writeUInt8(a.codes[s]<<a.CMD_SHIFT|(r?a.DUP_MASK:0)|i<<a.QOS_SHIFT|c,0,!0),h})})})}a.CMD_SHIFT=4,a.CMD_MASK=240,a.DUP_MASK=8,a.QOS_MASK=3,a.QOS_SHIFT=1,a.RETAIN_MASK=1,a.LENGTH_MASK=127,a.LENGTH_FIN_MASK=128,a.SESSIONPRESENT_MASK=1,a.SESSIONPRESENT_HEADER=o.from([a.SESSIONPRESENT_MASK]),a.CONNACK_HEADER=o.from([a.codes.connack<<a.CMD_SHIFT]),a.USERNAME_MASK=128,a.PASSWORD_MASK=64,a.WILL_RETAIN_MASK=32,a.WILL_QOS_MASK=24,a.WILL_QOS_SHIFT=3,a.WILL_FLAG_MASK=4,a.CLEAN_SESSION_MASK=2,a.CONNECT_HEADER=o.from([a.codes.connect<<a.CMD_SHIFT]),a.PUBLISH_HEADER=t("publish"),a.SUBSCRIBE_HEADER=t("subscribe"),a.UNSUBSCRIBE_HEADER=t("unsubscribe"),a.ACKS={unsuback:t("unsuback"),puback:t("puback"),pubcomp:t("pubcomp"),pubrel:t("pubrel"),pubrec:t("pubrec")},a.SUBACK_HEADER=o.from([a.codes.suback<<a.CMD_SHIFT]),a.VERSION3=o.from([3]),a.VERSION4=o.from([4]),a.QOS=[0,1,2].map(function(s){return o.from([s])}),a.EMPTY={pingreq:o.from([a.codes.pingreq<<4,0]),pingresp:o.from([a.codes.pingresp<<4,0]),disconnect:o.from([a.codes.disconnect<<4,0])}},function(w,I,n){var o=n(67),a=n(19).Buffer,l=a.allocUnsafe(0),f=a.from([0]),t=n(166),s=n(23).nextTick,i=t.cache,r=t.generateNumber,c=t.generateCache,h=b,d=!0;function g(M,D){switch(D.cork&&(D.cork(),s(T,D)),d&&(d=!1,c()),M.cmd){case"connect":return function(O,P){var B=O||{},H=B.protocolId||"MQTT",X=B.protocolVersion||4,K=B.will,N=B.clean,q=B.keepalive||0,F=B.clientId||"",z=B.username,A=B.password;N===void 0&&(N=!0);var C=0;if(!H||typeof H!="string"&&!a.isBuffer(H))return P.emit("error",new Error("Invalid protocolId")),!1;if(C+=H.length+2,X!==3&&X!==4)return P.emit("error",new Error("Invalid protocol version")),!1;if(C+=1,typeof F!="string"&&!a.isBuffer(F)||!F&&X!==4||!F&&!N){if(X<4)return P.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*N==0)return P.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else C+=F.length+2;if(typeof q!="number"||q<0||q>65535||q%1!=0)return P.emit("error",new Error("Invalid keepalive")),!1;if(C+=2,C+=1,K){if(typeof K!="object")return P.emit("error",new Error("Invalid will")),!1;if(!K.topic||typeof K.topic!="string")return P.emit("error",new Error("Invalid will topic")),!1;if(C+=a.byteLength(K.topic)+2,K.payload&&K.payload){if(!(K.payload.length>=0))return P.emit("error",new Error("Invalid will payload")),!1;typeof K.payload=="string"?C+=a.byteLength(K.payload)+2:C+=K.payload.length+2}else C+=2}var U=!1;if(z!=null){if(!R(z))return P.emit("error",new Error("Invalid username")),!1;U=!0,C+=a.byteLength(z)+2}if(A!=null){if(!U)return P.emit("error",new Error("Username is required to use password")),!1;if(!R(A))return P.emit("error",new Error("Invalid password")),!1;C+=v(A)+2}P.write(o.CONNECT_HEADER),y(P,C),S(P,H),P.write(X===4?o.VERSION4:o.VERSION3);var L=0;return L|=z!=null?o.USERNAME_MASK:0,L|=A!=null?o.PASSWORD_MASK:0,L|=K&&K.retain?o.WILL_RETAIN_MASK:0,L|=K&&K.qos?K.qos<<o.WILL_QOS_SHIFT:0,L|=K?o.WILL_FLAG_MASK:0,L|=N?o.CLEAN_SESSION_MASK:0,P.write(a.from([L])),h(P,q),S(P,F),K&&(_(P,K.topic),S(P,K.payload)),z!=null&&S(P,z),A!=null&&S(P,A),!0}(M,D);case"connack":return function(O,P){var B=(O||{}).returnCode;return typeof B!="number"?(P.emit("error",new Error("Invalid return code")),!1):(P.write(o.CONNACK_HEADER),y(P,2),P.write(O.sessionPresent?o.SESSIONPRESENT_HEADER:f),P.write(a.from([B])))}(M,D);case"publish":return function(O,P){var B=O||{},H=B.qos||0,X=B.retain?o.RETAIN_MASK:0,K=B.topic,N=B.payload||l,q=B.messageId,F=0;if(typeof K=="string")F+=a.byteLength(K)+2;else{if(!a.isBuffer(K))return P.emit("error",new Error("Invalid topic")),!1;F+=K.length+2}return a.isBuffer(N)?F+=N.length:F+=a.byteLength(N),H&&typeof q!="number"?(P.emit("error",new Error("Invalid messageId")),!1):(H&&(F+=2),P.write(o.PUBLISH_HEADER[H][O.dup?1:0][X?1:0]),y(P,F),h(P,v(K)),P.write(K),H>0&&h(P,q),P.write(N))}(M,D);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return function(O,P){var B=O||{},H=B.cmd||"puback",X=B.messageId,K=B.dup&&H==="pubrel"?o.DUP_MASK:0,N=0;return H==="pubrel"&&(N=1),typeof X!="number"?(P.emit("error",new Error("Invalid messageId")),!1):(P.write(o.ACKS[H][N][K][0]),y(P,2),h(P,X))}(M,D);case"subscribe":return function(O,P){var B=O||{},H=B.dup?o.DUP_MASK:0,X=B.messageId,K=B.subscriptions,N=0;if(typeof X!="number")return P.emit("error",new Error("Invalid messageId")),!1;if(N+=2,typeof K!="object"||!K.length)return P.emit("error",new Error("Invalid subscriptions")),!1;for(var q=0;q<K.length;q+=1){var F=K[q].topic,z=K[q].qos;if(typeof F!="string")return P.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof z!="number")return P.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;N+=a.byteLength(F)+2+1}P.write(o.SUBSCRIBE_HEADER[1][H?1:0][0]),y(P,N),h(P,X);for(var A=!0,C=0;C<K.length;C++){var U=K[C],L=U.topic,rt=U.qos;_(P,L),A=P.write(o.QOS[rt])}return A}(M,D);case"suback":return function(O,P){var B=O||{},H=B.messageId,X=B.granted,K=0;if(typeof H!="number")return P.emit("error",new Error("Invalid messageId")),!1;if(K+=2,typeof X!="object"||!X.length)return P.emit("error",new Error("Invalid qos vector")),!1;for(var N=0;N<X.length;N+=1){if(typeof X[N]!="number")return P.emit("error",new Error("Invalid qos vector")),!1;K+=1}return P.write(o.SUBACK_HEADER),y(P,K),h(P,H),P.write(a.from(X))}(M,D);case"unsubscribe":return function(O,P){var B=O||{},H=B.messageId,X=B.dup?o.DUP_MASK:0,K=B.unsubscriptions,N=0;if(typeof H!="number")return P.emit("error",new Error("Invalid messageId")),!1;if(N+=2,typeof K!="object"||!K.length)return P.emit("error",new Error("Invalid unsubscriptions")),!1;for(var q=0;q<K.length;q+=1){if(typeof K[q]!="string")return P.emit("error",new Error("Invalid unsubscriptions")),!1;N+=a.byteLength(K[q])+2}P.write(o.UNSUBSCRIBE_HEADER[1][X?1:0][0]),y(P,N),h(P,H);for(var F=!0,z=0;z<K.length;z++)F=_(P,K[z]);return F}(M,D);case"pingreq":case"pingresp":case"disconnect":return function(O,P){return P.write(o.EMPTY[O.cmd])}(M,D);default:return D.emit("error",new Error("Unknown command")),!1}}function T(M){M.uncork()}Object.defineProperty(g,"cacheNumbers",{get:function(){return h===b},set:function(M){M?(i&&Object.keys(i).length!==0||(d=!0),h=b):(d=!1,h=u)}});var x={};function y(M,D){var O=x[D];O||(O=function(P){var B=0,H=0,X=a.allocUnsafe(function(K){return K>=0&&K<128?1:K>=128&&K<16384?2:K>=16384&&K<2097152?3:K>=2097152&&K<268435456?4:0}(P));do B=P%128|0,(P=P/128|0)>0&&(B|=128),X.writeUInt8(B,H++);while(P>0);return X}(D),D<16384&&(x[D]=O)),M.write(O)}function _(M,D){var O=a.byteLength(D);h(M,O),M.write(D,"utf8")}function b(M,D){return M.write(i[D])}function u(M,D){return M.write(r(D))}function S(M,D){typeof D=="string"?_(M,D):D?(h(M,D.length),M.write(D)):h(M,0)}function v(M){return M?M instanceof a?M.length:a.byteLength(M):0}function R(M){return typeof M=="string"||M instanceof a}w.exports=g},function(w,I,n){var o=n(169),a=n(171);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}I.parse=b,I.resolve=function(u,S){return b(u,!1,!0).resolve(S)},I.resolveObject=function(u,S){return u?b(u,!1,!0).resolveObject(S):S},I.format=function(u){return a.isString(u)&&(u=b(u)),u instanceof l?u.format():l.prototype.format.call(u)},I.Url=l;var f=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),r=["'"].concat(i),c=["%","/","?",";","#"].concat(r),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n(172);function b(u,S,v){if(u&&a.isObject(u)&&u instanceof l)return u;var R=new l;return R.parse(u,S,v),R}l.prototype.parse=function(u,S,v){if(!a.isString(u))throw new TypeError("Parameter 'url' must be a string, not "+typeof u);var R=u.indexOf("?"),M=R!==-1&&R<u.indexOf("#")?"?":"#",D=u.split(M);D[0]=D[0].replace(/\\/g,"/");var O=u=D.join(M);if(O=O.trim(),!v&&u.split("#").length===1){var P=s.exec(O);if(P)return this.path=O,this.href=O,this.pathname=P[1],P[2]?(this.search=P[2],this.query=S?_.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var B=f.exec(O);if(B){var H=(B=B[0]).toLowerCase();this.protocol=H,O=O.substr(B.length)}if(v||B||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var X=O.substr(0,2)==="//";!X||B&&x[B]||(O=O.substr(2),this.slashes=!0)}if(!x[B]&&(X||B&&!y[B])){for(var K,N,q=-1,F=0;F<h.length;F++)(z=O.indexOf(h[F]))!==-1&&(q===-1||z<q)&&(q=z);for((N=q===-1?O.lastIndexOf("@"):O.lastIndexOf("@",q))!==-1&&(K=O.slice(0,N),O=O.slice(N+1),this.auth=decodeURIComponent(K)),q=-1,F=0;F<c.length;F++){var z;(z=O.indexOf(c[F]))!==-1&&(q===-1||z<q)&&(q=z)}q===-1&&(q=O.length),this.host=O.slice(0,q),O=O.slice(q),this.parseHost(),this.hostname=this.hostname||"";var A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A)for(var C=this.hostname.split(/\./),U=(F=0,C.length);F<U;F++){var L=C[F];if(L&&!L.match(d)){for(var rt="",lt=0,ft=L.length;lt<ft;lt++)L.charCodeAt(lt)>127?rt+="x":rt+=L[lt];if(!rt.match(d)){var vt=C.slice(0,F),it=C.slice(F+1),p=L.match(g);p&&(vt.push(p[1]),it.unshift(p[2])),it.length&&(O="/"+it.join(".")+O),this.hostname=vt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=o.toASCII(this.hostname));var m=this.port?":"+this.port:"",e=this.hostname||"";this.host=e+m,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!T[H])for(F=0,U=r.length;F<U;F++){var k=r[F];if(O.indexOf(k)!==-1){var E=encodeURIComponent(k);E===k&&(E=escape(k)),O=O.split(k).join(E)}}var j=O.indexOf("#");j!==-1&&(this.hash=O.substr(j),O=O.slice(0,j));var G=O.indexOf("?");if(G!==-1?(this.search=O.substr(G),this.query=O.substr(G+1),S&&(this.query=_.parse(this.query)),O=O.slice(0,G)):S&&(this.search="",this.query={}),O&&(this.pathname=O),y[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){m=this.pathname||"";var W=this.search||"";this.path=m+W}return this.href=this.format(),this},l.prototype.format=function(){var u=this.auth||"";u&&(u=(u=encodeURIComponent(u)).replace(/%3A/i,":"),u+="@");var S=this.protocol||"",v=this.pathname||"",R=this.hash||"",M=!1,D="";this.host?M=u+this.host:this.hostname&&(M=u+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(M+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(D=_.stringify(this.query));var O=this.search||D&&"?"+D||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||y[S])&&M!==!1?(M="//"+(M||""),v&&v.charAt(0)!=="/"&&(v="/"+v)):M||(M=""),R&&R.charAt(0)!=="#"&&(R="#"+R),O&&O.charAt(0)!=="?"&&(O="?"+O),S+M+(v=v.replace(/[?#]/g,function(P){return encodeURIComponent(P)}))+(O=O.replace("#","%23"))+R},l.prototype.resolve=function(u){return this.resolveObject(b(u,!1,!0)).format()},l.prototype.resolveObject=function(u){if(a.isString(u)){var S=new l;S.parse(u,!1,!0),u=S}for(var v=new l,R=Object.keys(this),M=0;M<R.length;M++){var D=R[M];v[D]=this[D]}if(v.hash=u.hash,u.href==="")return v.href=v.format(),v;if(u.slashes&&!u.protocol){for(var O=Object.keys(u),P=0;P<O.length;P++){var B=O[P];B!=="protocol"&&(v[B]=u[B])}return y[v.protocol]&&v.hostname&&!v.pathname&&(v.path=v.pathname="/"),v.href=v.format(),v}if(u.protocol&&u.protocol!==v.protocol){if(!y[u.protocol]){for(var H=Object.keys(u),X=0;X<H.length;X++){var K=H[X];v[K]=u[K]}return v.href=v.format(),v}if(v.protocol=u.protocol,u.host||x[u.protocol])v.pathname=u.pathname;else{for(var N=(u.pathname||"").split("/");N.length&&!(u.host=N.shift()););u.host||(u.host=""),u.hostname||(u.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),v.pathname=N.join("/")}if(v.search=u.search,v.query=u.query,v.host=u.host||"",v.auth=u.auth,v.hostname=u.hostname||u.host,v.port=u.port,v.pathname||v.search){var q=v.pathname||"",F=v.search||"";v.path=q+F}return v.slashes=v.slashes||u.slashes,v.href=v.format(),v}var z=v.pathname&&v.pathname.charAt(0)==="/",A=u.host||u.pathname&&u.pathname.charAt(0)==="/",C=A||z||v.host&&u.pathname,U=C,L=v.pathname&&v.pathname.split("/")||[],rt=(N=u.pathname&&u.pathname.split("/")||[],v.protocol&&!y[v.protocol]);if(rt&&(v.hostname="",v.port=null,v.host&&(L[0]===""?L[0]=v.host:L.unshift(v.host)),v.host="",u.protocol&&(u.hostname=null,u.port=null,u.host&&(N[0]===""?N[0]=u.host:N.unshift(u.host)),u.host=null),C=C&&(N[0]===""||L[0]==="")),A)v.host=u.host||u.host===""?u.host:v.host,v.hostname=u.hostname||u.hostname===""?u.hostname:v.hostname,v.search=u.search,v.query=u.query,L=N;else if(N.length)L||(L=[]),L.pop(),L=L.concat(N),v.search=u.search,v.query=u.query;else if(!a.isNullOrUndefined(u.search))return rt&&(v.hostname=v.host=L.shift(),(p=!!(v.host&&v.host.indexOf("@")>0)&&v.host.split("@"))&&(v.auth=p.shift(),v.host=v.hostname=p.shift())),v.search=u.search,v.query=u.query,a.isNull(v.pathname)&&a.isNull(v.search)||(v.path=(v.pathname?v.pathname:"")+(v.search?v.search:"")),v.href=v.format(),v;if(!L.length)return v.pathname=null,v.search?v.path="/"+v.search:v.path=null,v.href=v.format(),v;for(var lt=L.slice(-1)[0],ft=(v.host||u.host||L.length>1)&&(lt==="."||lt==="..")||lt==="",vt=0,it=L.length;it>=0;it--)(lt=L[it])==="."?L.splice(it,1):lt===".."?(L.splice(it,1),vt++):vt&&(L.splice(it,1),vt--);if(!C&&!U)for(;vt--;vt)L.unshift("..");!C||L[0]===""||L[0]&&L[0].charAt(0)==="/"||L.unshift(""),ft&&L.join("/").substr(-1)!=="/"&&L.push("");var p,m=L[0]===""||L[0]&&L[0].charAt(0)==="/";return rt&&(v.hostname=v.host=m?"":L.length?L.shift():"",(p=!!(v.host&&v.host.indexOf("@")>0)&&v.host.split("@"))&&(v.auth=p.shift(),v.host=v.hostname=p.shift())),(C=C||v.host&&L.length)&&!m&&L.unshift(""),L.length?v.pathname=L.join("/"):(v.pathname=null,v.path=null),a.isNull(v.pathname)&&a.isNull(v.search)||(v.path=(v.pathname?v.pathname:"")+(v.search?v.search:"")),v.auth=u.auth||v.auth,v.slashes=v.slashes||u.slashes,v.href=v.format(),v},l.prototype.parseHost=function(){var u=this.host,S=t.exec(u);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),u=u.substr(0,u.length-S.length)),u&&(this.hostname=u)}},function(w,I,n){var o=n(175);w.exports=function(a,l){var f,t;return l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",f=l.port,t=l.hostname,o.createConnection(f,t)}},function(w,I,n){var o=!1,a=[];function l(s){o?wx.sendSocketMessage({data:s.buffer||s}):a.push(s)}var f=n(42);function t(s,i){var r=i.protocolId==="MQIsdp"&&i.protocolVersion===3?"mqttv3.1":"mqtt";(function(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})})(i);var c=function(h,d){var g=h.protocol==="wxs"?"wss":"ws",T=g+"://"+h.hostname+h.path;return h.port&&h.port!==80&&h.port!==443&&(T=g+"://"+h.hostname+":"+h.port+h.path),typeof h.transformWsUrl=="function"&&(T=h.transformWsUrl(T,h,d)),T}(i,s);return f(function(h,d){var g={OPEN:1,CLOSING:2,CLOSED:3,readyState:o?1:0,send:l,close:wx.closeSocket,onopen:null,onmessage:null,onclose:null,onerror:null};return wx.connectSocket({url:h,protocols:d}),wx.onSocketOpen(function(T){g.readyState=g.OPEN,o=!0;for(var x=0;x<a.length;x++)l(a[x]);a=[],g.onopen&&g.onopen.apply(g,arguments)}),wx.onSocketMessage(function(T){g.onmessage&&g.onmessage.apply(g,arguments)}),wx.onSocketClose(function(){g.onclose&&g.onclose.apply(g,arguments),g.readyState=g.CLOSED,o=!1}),wx.onSocketError(function(){g.onerror&&g.onerror.apply(g,arguments),g.readyState=g.CLOSED,o=!1}),g}(c,[r]))}w.exports=function(s,i){if(i.hostname=i.hostname||i.host,!i.hostname)throw new Error("Could not determine host. Specify host manually.");return t(s,i)}},function(w,I,n){(function(o){var a=n(42),l=n(69),f=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],t=o.title==="browser";function s(i,r){var c=r.protocolId==="MQIsdp"&&r.protocolVersion===3?"mqttv3.1":"mqtt";(function(d){d.hostname||(d.hostname="localhost"),d.port||(d.protocol==="wss"?d.port=443:d.port=80),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={}),t||d.protocol!=="wss"||f.forEach(function(g){d.hasOwnProperty(g)&&!d.wsOptions.hasOwnProperty(g)&&(d.wsOptions[g]=d[g])})})(r);var h=function(d,g){var T=d.protocol+"://"+d.hostname+":"+d.port+d.path;return typeof d.transformWsUrl=="function"&&(T=d.transformWsUrl(T,d,g)),T}(r,i);return a(h,[c],r.wsOptions)}w.exports=t?function(i,r){if(r.hostname||(r.hostname=r.host),!r.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");var c=l.parse(document.URL);r.hostname=c.hostname,r.port||(r.port=c.port)}return s(i,r)}:function(i,r){return s(i,r)}}).call(this,n(9))},function(w,I,n){var o;w.exports=(o=n(43),function(a){var l=o,f=l.lib,t=f.WordArray,s=f.Hasher,i=l.algo,r=[],c=[];(function(){function g(_){for(var b=a.sqrt(_),u=2;u<=b;u++)if(!(_%u))return!1;return!0}function T(_){return 4294967296*(_-(0|_))|0}for(var x=2,y=0;y<64;)g(x)&&(y<8&&(r[y]=T(a.pow(x,.5))),c[y]=T(a.pow(x,1/3)),y++),x++})();var h=[],d=i.SHA256=s.extend({_doReset:function(){this._hash=new t.init(r.slice(0))},_doProcessBlock:function(g,T){for(var x=this._hash.words,y=x[0],_=x[1],b=x[2],u=x[3],S=x[4],v=x[5],R=x[6],M=x[7],D=0;D<64;D++){if(D<16)h[D]=0|g[T+D];else{var O=h[D-15],P=(O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3,B=h[D-2],H=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;h[D]=P+h[D-7]+H+h[D-16]}var X=y&_^y&b^_&b,K=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),N=M+((S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25))+(S&v^~S&R)+c[D]+h[D];M=R,R=v,v=S,S=u+N|0,u=b,b=_,_=y,y=N+(K+X)|0}x[0]=x[0]+y|0,x[1]=x[1]+_|0,x[2]=x[2]+b|0,x[3]=x[3]+u|0,x[4]=x[4]+S|0,x[5]=x[5]+v|0,x[6]=x[6]+R|0,x[7]=x[7]+M|0},_doFinalize:function(){var g=this._data,T=g.words,x=8*this._nDataBytes,y=8*g.sigBytes;return T[y>>>5]|=128<<24-y%32,T[14+(y+64>>>9<<4)]=a.floor(x/4294967296),T[15+(y+64>>>9<<4)]=x,g.sigBytes=4*T.length,this._process(),this._hash},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});l.SHA256=s._createHelper(d),l.HmacSHA256=s._createHmacHelper(d)}(Math),o.SHA256)},function(w,I,n){w.exports=function(o,a){return function(){for(var l=new Array(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];return o.apply(a,l)}}},function(w,I,n){var o=n(10);function a(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}w.exports=function(l,f,t){if(!f)return l;var s;if(t)s=t(f);else if(o.isURLSearchParams(f))s=f.toString();else{var i=[];o.forEach(f,function(c,h){c!=null&&(o.isArray(c)?h+="[]":c=[c],o.forEach(c,function(d){o.isDate(d)?d=d.toISOString():o.isObject(d)&&(d=JSON.stringify(d)),i.push(a(h)+"="+a(d))}))}),s=i.join("&")}if(s){var r=l.indexOf("#");r!==-1&&(l=l.slice(0,r)),l+=(l.indexOf("?")===-1?"?":"&")+s}return l}},function(w,I,n){w.exports=function(o,a,l,f,t){return o.config=a,l&&(o.code=l),o.request=f,o.response=t,o.isAxiosError=!0,o.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},o}},function(w,I,n){var o=n(10),a=n(197),l=n(198),f=n(75),t=n(199),s=n(202),i=n(203),r=n(78);w.exports=function(c){return new Promise(function(h,d){var g=c.data,T=c.headers,x=c.responseType;o.isFormData(g)&&delete T["Content-Type"];var y=new XMLHttpRequest;if(c.auth){var _=c.auth.username||"",b=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";T.Authorization="Basic "+btoa(_+":"+b)}var u=t(c.baseURL,c.url);function S(){if(y){var R="getAllResponseHeaders"in y?s(y.getAllResponseHeaders()):null,M={data:x&&x!=="text"&&x!=="json"?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:R,config:c,request:y};a(h,d,M),y=null}}if(y.open(c.method.toUpperCase(),f(u,c.params,c.paramsSerializer),!0),y.timeout=c.timeout,"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){y&&y.readyState===4&&(y.status!==0||y.responseURL&&y.responseURL.indexOf("file:")===0)&&setTimeout(S)},y.onabort=function(){y&&(d(r("Request aborted",c,"ECONNABORTED",y)),y=null)},y.onerror=function(){d(r("Network Error",c,null,y)),y=null},y.ontimeout=function(){var R="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(R=c.timeoutErrorMessage),d(r(R,c,c.transitional&&c.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},o.isStandardBrowserEnv()){var v=(c.withCredentials||i(u))&&c.xsrfCookieName?l.read(c.xsrfCookieName):void 0;v&&(T[c.xsrfHeaderName]=v)}"setRequestHeader"in y&&o.forEach(T,function(R,M){g===void 0&&M.toLowerCase()==="content-type"?delete T[M]:y.setRequestHeader(M,R)}),o.isUndefined(c.withCredentials)||(y.withCredentials=!!c.withCredentials),x&&x!=="json"&&(y.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&y.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(R){y&&(y.abort(),d(R),y=null)}),g||(g=null),y.send(g)})}},function(w,I,n){var o=n(76);w.exports=function(a,l,f,t,s){var i=new Error(a);return o(i,l,f,t,s)}},function(w,I,n){w.exports=function(o){return!(!o||!o.__CANCEL__)}},function(w,I,n){var o=n(10);w.exports=function(a,l){l=l||{};var f={},t=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],r=["validateStatus"];function c(T,x){return o.isPlainObject(T)&&o.isPlainObject(x)?o.merge(T,x):o.isPlainObject(x)?o.merge({},x):o.isArray(x)?x.slice():x}function h(T){o.isUndefined(l[T])?o.isUndefined(a[T])||(f[T]=c(void 0,a[T])):f[T]=c(a[T],l[T])}o.forEach(t,function(T){o.isUndefined(l[T])||(f[T]=c(void 0,l[T]))}),o.forEach(s,h),o.forEach(i,function(T){o.isUndefined(l[T])?o.isUndefined(a[T])||(f[T]=c(void 0,a[T])):f[T]=c(void 0,l[T])}),o.forEach(r,function(T){T in l?f[T]=c(a[T],l[T]):T in a&&(f[T]=c(void 0,a[T]))});var d=t.concat(s).concat(i).concat(r),g=Object.keys(a).concat(Object.keys(l)).filter(function(T){return d.indexOf(T)===-1});return o.forEach(g,h),f}},function(w,I,n){function o(a){this.message=a}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,w.exports=o},function(w,I){w.exports=function(n,o,a,l){var f=-1,t=n==null?0:n.length;for(l&&t&&(a=n[++f]);++f<t;)a=o(a,n[f],f,n);return a}},function(w,I,n){w.exports.device=n(35),w.exports.thingShadow=n(189),w.exports.jobs=n(190)},function(w,I,n){var o=function(a){var l,f=Object.prototype,t=f.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},i=s.iterator||"@@iterator",r=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(z,A,C){return Object.defineProperty(z,A,{value:C,enumerable:!0,configurable:!0,writable:!0}),z[A]}try{h({},"")}catch{h=function(A,C,U){return A[C]=U}}function d(z,A,C,U){var L=A&&A.prototype instanceof u?A:u,rt=Object.create(L.prototype),lt=new N(U||[]);return rt._invoke=function(ft,vt,it){var p=T;return function(m,e){if(p===y)throw new Error("Generator is already running");if(p===_){if(m==="throw")throw e;return F()}for(it.method=m,it.arg=e;;){var k=it.delegate;if(k){var E=H(k,it);if(E){if(E===b)continue;return E}}if(it.method==="next")it.sent=it._sent=it.arg;else if(it.method==="throw"){if(p===T)throw p=_,it.arg;it.dispatchException(it.arg)}else it.method==="return"&&it.abrupt("return",it.arg);p=y;var j=g(ft,vt,it);if(j.type==="normal"){if(p=it.done?_:x,j.arg===b)continue;return{value:j.arg,done:it.done}}j.type==="throw"&&(p=_,it.method="throw",it.arg=j.arg)}}}(z,C,lt),rt}function g(z,A,C){try{return{type:"normal",arg:z.call(A,C)}}catch(U){return{type:"throw",arg:U}}}a.wrap=d;var T="suspendedStart",x="suspendedYield",y="executing",_="completed",b={};function u(){}function S(){}function v(){}var R={};R[i]=function(){return this};var M=Object.getPrototypeOf,D=M&&M(M(q([])));D&&D!==f&&t.call(D,i)&&(R=D);var O=v.prototype=u.prototype=Object.create(R);function P(z){["next","throw","return"].forEach(function(A){h(z,A,function(C){return this._invoke(A,C)})})}function B(z,A){function C(L,rt,lt,ft){var vt=g(z[L],z,rt);if(vt.type!=="throw"){var it=vt.arg,p=it.value;return p&&typeof p=="object"&&t.call(p,"__await")?A.resolve(p.__await).then(function(m){C("next",m,lt,ft)},function(m){C("throw",m,lt,ft)}):A.resolve(p).then(function(m){it.value=m,lt(it)},function(m){return C("throw",m,lt,ft)})}ft(vt.arg)}var U;this._invoke=function(L,rt){function lt(){return new A(function(ft,vt){C(L,rt,ft,vt)})}return U=U?U.then(lt,lt):lt()}}function H(z,A){var C=z.iterator[A.method];if(C===l){if(A.delegate=null,A.method==="throw"){if(z.iterator.return&&(A.method="return",A.arg=l,H(z,A),A.method==="throw"))return b;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var U=g(C,z.iterator,A.arg);if(U.type==="throw")return A.method="throw",A.arg=U.arg,A.delegate=null,b;var L=U.arg;return L?L.done?(A[z.resultName]=L.value,A.next=z.nextLoc,A.method!=="return"&&(A.method="next",A.arg=l),A.delegate=null,b):L:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,b)}function X(z){var A={tryLoc:z[0]};1 in z&&(A.catchLoc=z[1]),2 in z&&(A.finallyLoc=z[2],A.afterLoc=z[3]),this.tryEntries.push(A)}function K(z){var A=z.completion||{};A.type="normal",delete A.arg,z.completion=A}function N(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(X,this),this.reset(!0)}function q(z){if(z){var A=z[i];if(A)return A.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var C=-1,U=function L(){for(;++C<z.length;)if(t.call(z,C))return L.value=z[C],L.done=!1,L;return L.value=l,L.done=!0,L};return U.next=U}}return{next:F}}function F(){return{value:l,done:!0}}return S.prototype=O.constructor=v,v.constructor=S,S.displayName=h(v,c,"GeneratorFunction"),a.isGeneratorFunction=function(z){var A=typeof z=="function"&&z.constructor;return!!A&&(A===S||(A.displayName||A.name)==="GeneratorFunction")},a.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,v):(z.__proto__=v,h(z,c,"GeneratorFunction")),z.prototype=Object.create(O),z},a.awrap=function(z){return{__await:z}},P(B.prototype),B.prototype[r]=function(){return this},a.AsyncIterator=B,a.async=function(z,A,C,U,L){L===void 0&&(L=Promise);var rt=new B(d(z,A,C,U),L);return a.isGeneratorFunction(A)?rt:rt.next().then(function(lt){return lt.done?lt.value:rt.next()})},P(O),h(O,c,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},a.keys=function(z){var A=[];for(var C in z)A.push(C);return A.reverse(),function U(){for(;A.length;){var L=A.pop();if(L in z)return U.value=L,U.done=!1,U}return U.done=!0,U}},a.values=q,N.prototype={constructor:N,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(K),!z)for(var A in this)A.charAt(0)==="t"&&t.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=l)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var A=this;function C(vt,it){return rt.type="throw",rt.arg=z,A.next=vt,it&&(A.method="next",A.arg=l),!!it}for(var U=this.tryEntries.length-1;U>=0;--U){var L=this.tryEntries[U],rt=L.completion;if(L.tryLoc==="root")return C("end");if(L.tryLoc<=this.prev){var lt=t.call(L,"catchLoc"),ft=t.call(L,"finallyLoc");if(lt&&ft){if(this.prev<L.catchLoc)return C(L.catchLoc,!0);if(this.prev<L.finallyLoc)return C(L.finallyLoc)}else if(lt){if(this.prev<L.catchLoc)return C(L.catchLoc,!0)}else{if(!ft)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return C(L.finallyLoc)}}}},abrupt:function(z,A){for(var C=this.tryEntries.length-1;C>=0;--C){var U=this.tryEntries[C];if(U.tryLoc<=this.prev&&t.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var L=U;break}}L&&(z==="break"||z==="continue")&&L.tryLoc<=A&&A<=L.finallyLoc&&(L=null);var rt=L?L.completion:{};return rt.type=z,rt.arg=A,L?(this.method="next",this.next=L.finallyLoc,b):this.complete(rt)},complete:function(z,A){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&A&&(this.next=A),b},finish:function(z){for(var A=this.tryEntries.length-1;A>=0;--A){var C=this.tryEntries[A];if(C.finallyLoc===z)return this.complete(C.completion,C.afterLoc),K(C),b}},catch:function(z){for(var A=this.tryEntries.length-1;A>=0;--A){var C=this.tryEntries[A];if(C.tryLoc===z){var U=C.completion;if(U.type==="throw"){var L=U.arg;K(C)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(z,A,C){return this.delegate={iterator:q(z),resultName:A,nextLoc:C},this.method==="next"&&(this.arg=l),b}},a}(w.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(w,I){function n(o,a){return w.exports=n=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},n(o,a)}w.exports=n},function(w,I){function n(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w.exports=n=function(a){return typeof a}:w.exports=n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(o)}w.exports=n},function(w,I,n){var o=n(34),a=n(47),l=Object.prototype.hasOwnProperty,f={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,T){return g+"["+T+"]"},repeat:function(g){return g}},t=Array.isArray,s=Array.prototype.push,i=function(g,T){s.apply(g,t(T)?T:[T])},r=Date.prototype.toISOString,c=a.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:c,formatter:a.formatters[c],indices:!1,serializeDate:function(g){return r.call(g)},skipNulls:!1,strictNullHandling:!1},d=function g(T,x,y,_,b,u,S,v,R,M,D,O,P){var B,H=T;if(typeof S=="function"?H=S(x,H):H instanceof Date?H=M(H):y==="comma"&&t(H)&&(H=o.maybeMap(H,function(C){return C instanceof Date?M(C):C}).join(",")),H===null){if(_)return u&&!O?u(x,h.encoder,P,"key"):x;H=""}if(typeof(B=H)=="string"||typeof B=="number"||typeof B=="boolean"||typeof B=="symbol"||typeof B=="bigint"||o.isBuffer(H))return u?[D(O?x:u(x,h.encoder,P,"key"))+"="+D(u(H,h.encoder,P,"value"))]:[D(x)+"="+D(String(H))];var X,K=[];if(H===void 0)return K;if(t(S))X=S;else{var N=Object.keys(H);X=v?N.sort(v):N}for(var q=0;q<X.length;++q){var F=X[q],z=H[F];if(!b||z!==null){var A=t(H)?typeof y=="function"?y(x,F):x:x+(R?"."+F:"["+F+"]");i(K,g(z,A,y,_,b,u,S,v,R,M,D,O,P))}}return K};w.exports=function(g,T){var x,y=g,_=function(O){if(!O)return h;if(O.encoder!==null&&O.encoder!==void 0&&typeof O.encoder!="function")throw new TypeError("Encoder has to be a function.");var P=O.charset||h.charset;if(O.charset!==void 0&&O.charset!=="utf-8"&&O.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var B=a.default;if(O.format!==void 0){if(!l.call(a.formatters,O.format))throw new TypeError("Unknown format option provided.");B=O.format}var H=a.formatters[B],X=h.filter;return(typeof O.filter=="function"||t(O.filter))&&(X=O.filter),{addQueryPrefix:typeof O.addQueryPrefix=="boolean"?O.addQueryPrefix:h.addQueryPrefix,allowDots:O.allowDots===void 0?h.allowDots:!!O.allowDots,charset:P,charsetSentinel:typeof O.charsetSentinel=="boolean"?O.charsetSentinel:h.charsetSentinel,delimiter:O.delimiter===void 0?h.delimiter:O.delimiter,encode:typeof O.encode=="boolean"?O.encode:h.encode,encoder:typeof O.encoder=="function"?O.encoder:h.encoder,encodeValuesOnly:typeof O.encodeValuesOnly=="boolean"?O.encodeValuesOnly:h.encodeValuesOnly,filter:X,formatter:H,serializeDate:typeof O.serializeDate=="function"?O.serializeDate:h.serializeDate,skipNulls:typeof O.skipNulls=="boolean"?O.skipNulls:h.skipNulls,sort:typeof O.sort=="function"?O.sort:null,strictNullHandling:typeof O.strictNullHandling=="boolean"?O.strictNullHandling:h.strictNullHandling}}(T);typeof _.filter=="function"?y=(0,_.filter)("",y):t(_.filter)&&(x=_.filter);var b,u=[];if(typeof y!="object"||y===null)return"";b=T&&T.arrayFormat in f?T.arrayFormat:T&&"indices"in T?T.indices?"indices":"repeat":"indices";var S=f[b];x||(x=Object.keys(y)),_.sort&&x.sort(_.sort);for(var v=0;v<x.length;++v){var R=x[v];_.skipNulls&&y[R]===null||i(u,d(y[R],R,S,_.strictNullHandling,_.skipNulls,_.encode?_.encoder:null,_.filter,_.sort,_.allowDots,_.serializeDate,_.formatter,_.encodeValuesOnly,_.charset))}var M=u.join(_.delimiter),D=_.addQueryPrefix===!0?"?":"";return _.charsetSentinel&&(_.charset==="iso-8859-1"?D+="utf8=%26%2310003%3B&":D+="utf8=%E2%9C%93&"),M.length>0?D+M:""}},function(w,I,n){var o=n(34),a=Object.prototype.hasOwnProperty,l=Array.isArray,f={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},t=function(r){return r.replace(/&#(\d+);/g,function(c,h){return String.fromCharCode(parseInt(h,10))})},s=function(r,c){return r&&typeof r=="string"&&c.comma&&r.indexOf(",")>-1?r.split(","):r},i=function(r,c,h,d){if(r){var g=h.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,T=/(\[[^[\]]*])/g,x=h.depth>0&&/(\[[^[\]]*])/.exec(g),y=x?g.slice(0,x.index):g,_=[];if(y){if(!h.plainObjects&&a.call(Object.prototype,y)&&!h.allowPrototypes)return;_.push(y)}for(var b=0;h.depth>0&&(x=T.exec(g))!==null&&b<h.depth;){if(b+=1,!h.plainObjects&&a.call(Object.prototype,x[1].slice(1,-1))&&!h.allowPrototypes)return;_.push(x[1])}return x&&_.push("["+g.slice(x.index)+"]"),function(u,S,v,R){for(var M=R?S:s(S,v),D=u.length-1;D>=0;--D){var O,P=u[D];if(P==="[]"&&v.parseArrays)O=[].concat(M);else{O=v.plainObjects?Object.create(null):{};var B=P.charAt(0)==="["&&P.charAt(P.length-1)==="]"?P.slice(1,-1):P,H=parseInt(B,10);v.parseArrays||B!==""?!isNaN(H)&&P!==B&&String(H)===B&&H>=0&&v.parseArrays&&H<=v.arrayLimit?(O=[])[H]=M:O[B]=M:O={0:M}}M=O}return M}(_,c,h,d)}};w.exports=function(r,c){var h=function(b){if(!b)return f;if(b.decoder!==null&&b.decoder!==void 0&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(b.charset!==void 0&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var u=b.charset===void 0?f.charset:b.charset;return{allowDots:b.allowDots===void 0?f.allowDots:!!b.allowDots,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:f.allowPrototypes,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:f.arrayLimit,charset:u,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:f.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:f.comma,decoder:typeof b.decoder=="function"?b.decoder:f.decoder,delimiter:typeof b.delimiter=="string"||o.isRegExp(b.delimiter)?b.delimiter:f.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:f.depth,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:f.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:f.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:f.plainObjects,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:f.strictNullHandling}}(c);if(r===""||r==null)return h.plainObjects?Object.create(null):{};for(var d=typeof r=="string"?function(b,u){var S,v={},R=u.ignoreQueryPrefix?b.replace(/^\?/,""):b,M=u.parameterLimit===1/0?void 0:u.parameterLimit,D=R.split(u.delimiter,M),O=-1,P=u.charset;if(u.charsetSentinel)for(S=0;S<D.length;++S)D[S].indexOf("utf8=")===0&&(D[S]==="utf8=%E2%9C%93"?P="utf-8":D[S]==="utf8=%26%2310003%3B"&&(P="iso-8859-1"),O=S,S=D.length);for(S=0;S<D.length;++S)if(S!==O){var B,H,X=D[S],K=X.indexOf("]="),N=K===-1?X.indexOf("="):K+1;N===-1?(B=u.decoder(X,f.decoder,P,"key"),H=u.strictNullHandling?null:""):(B=u.decoder(X.slice(0,N),f.decoder,P,"key"),H=o.maybeMap(s(X.slice(N+1),u),function(q){return u.decoder(q,f.decoder,P,"value")})),H&&u.interpretNumericEntities&&P==="iso-8859-1"&&(H=t(H)),X.indexOf("[]=")>-1&&(H=l(H)?[H]:H),a.call(v,B)?v[B]=o.combine(v[B],H):v[B]=H}return v}(r,h):r,g=h.plainObjects?Object.create(null):{},T=Object.keys(d),x=0;x<T.length;++x){var y=T[x],_=i(y,d[y],h,typeof r=="string");g=o.merge(g,_,h)}return o.compact(g)}},function(w,I){(function(n){w.exports=n}).call(this,{})},function(w,I){w.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}},function(w,I){typeof Object.create=="function"?w.exports=function(n,o){n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:w.exports=function(n,o){n.super_=o;var a=function(){};a.prototype=o.prototype,n.prototype=new a,n.prototype.constructor=n}},function(w,I,n){(function(o){var a=n(93),l=n(48),f=n(69),t=n(36),s={};function i(r,c){if(typeof r!="object"||c||(c=r,r=null),c=c||{},r){var h=f.parse(r,!0);if(h.port!=null&&(h.port=Number(h.port)),(c=t(h,c)).protocol===null)throw new Error("Missing protocol");c.protocol=c.protocol.replace(/:$/,"")}if(function(g){var T;g.auth&&((T=g.auth.match(/^(.+):(.+)$/))?(g.username=T[1],g.password=T[2]):g.username=g.auth)}(c),c.query&&typeof c.query.clientId=="string"&&(c.clientId=c.query.clientId),c.cert&&c.key){if(!c.protocol)throw new Error("Missing secure protocol key");if(["mqtts","wss","wxs"].indexOf(c.protocol)===-1)switch(c.protocol){case"mqtt":c.protocol="mqtts";break;case"ws":c.protocol="wss";break;case"wx":c.protocol="wxs";break;default:throw new Error('Unknown protocol for secure connection: "'+c.protocol+'"!')}}if(!s[c.protocol]){var d=["mqtts","wss"].indexOf(c.protocol)!==-1;c.protocol=["mqtt","mqtts","ws","wss","wx","wxs"].filter(function(g,T){return(!d||T%2!=0)&&typeof s[g]=="function"})[0]}if(c.clean===!1&&!c.clientId)throw new Error("Missing clientId for unclean clients");return c.protocol&&(c.defaultProtocol=c.protocol),new a(function(g){return c.servers&&(g._reconnectCount&&g._reconnectCount!==c.servers.length||(g._reconnectCount=0),c.host=c.servers[g._reconnectCount].host,c.port=c.servers[g._reconnectCount].port,c.protocol=c.servers[g._reconnectCount].protocol?c.servers[g._reconnectCount].protocol:c.defaultProtocol,c.hostname=c.host,g._reconnectCount++),s[c.protocol](g,c)},c)}o.title!=="browser"?(s.mqtt=n(70),s.tcp=n(70),s.ssl=n(41),s.tls=n(41),s.mqtts=n(41)):(s.wx=n(71),s.wxs=n(71)),s.ws=n(72),s.wss=n(72),w.exports=i,w.exports.connect=i,w.exports.MqttClient=a,w.exports.Store=l}).call(this,n(9))},function(w,I,n){(function(o,a){var l=n(15),f=n(48),t=n(66),s=n(160),i=n(28).Writable,r=n(13),c=n(167),h=n(168),d=n(36),g=o.setImmediate||function(u){a.nextTick(u)},T={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0};function x(u,S,v){u.emit("packetsend",S),!s.writeToStream(S,u.stream)&&v?u.stream.once("drain",v):v&&v()}function y(u,S,v){u.outgoingStore.put(S,function(R){if(R)return v&&v(R);x(u,S,v)})}function _(){}function b(u,S){var v,R=this;if(!(this instanceof b))return new b(u,S);for(v in this.options=S||{},T)this.options[v]===void 0?this.options[v]=T[v]:this.options[v]=S[v];this.options.clientId=typeof this.options.clientId=="string"?this.options.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.streamBuilder=u,this.outgoingStore=this.options.outgoingStore||new f,this.incomingStore=this.options.incomingStore||new f,this.queueQoSZero=this.options.queueQoSZero===void 0||this.options.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this.on("connect",function(){if(!this.disconnected){this.connected=!0;var D=this.outgoingStore.createStream();this.once("close",O),D.on("end",function(){R.removeListener("close",O)}),D.on("error",function(P){R.removeListener("close",O),R.emit("error",P)}),function P(){if(D){var B,H=D.read(1);H?R.disconnecting||R.reconnectTimer?D.destroy&&D.destroy():(B=R.outgoing[H.messageId],R.outgoing[H.messageId]=function(X,K){B&&B(X,K),P()},R._sendPacket(H)):D.once("readable",P)}}()}function O(){D.destroy(),D=null}}),this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",this._setupPingTimer),this.on("connect",function(){var D=this.queue;(function O(){var P,B=D.shift();B&&(P=B.packet,R._sendPacket(P,function(H){B.cb&&B.cb(H),O()}))})()});var M=!0;this.on("connect",function(){!M&&this.options.clean&&Object.keys(this._resubscribeTopics).length>0&&(this.options.resubscribe?(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)):this._resubscribeTopics={}),M=!1}),this.on("close",function(){R.pingTimer!==null&&(R.pingTimer.clear(),R.pingTimer=null)}),this.on("close",this._setupReconnect),l.EventEmitter.call(this),this._setupStream()}r(b,l.EventEmitter),b.prototype._setupStream=function(){var u,S=this,v=new i,R=s.parser(this.options),M=null,D=[];function O(){a.nextTick(P)}function P(){var B=D.shift(),H=M;B?S._handlePacket(B,O):(M=null,H())}this._clearReconnect(),this.stream=this.streamBuilder(this),R.on("packet",function(B){D.push(B)}),v._write=function(B,H,X){M=X,R.parse(B),P()},this.stream.pipe(v),this.stream.on("error",_),t(this.stream,this.emit.bind(this,"close")),(u=Object.create(this.options)).cmd="connect",x(this,u),R.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){S._cleanUp(!0)},this.options.connectTimeout)},b.prototype._handlePacket=function(u,S){switch(this.emit("packetreceive",u),u.cmd){case"publish":this._handlePublish(u,S);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(u),S();break;case"pubrel":this._handlePubrel(u,S);break;case"connack":this._handleConnack(u),S();break;case"pingresp":this._handlePingresp(u),S()}},b.prototype._checkDisconnecting=function(u){return this.disconnecting&&(u?u(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},b.prototype.publish=function(u,S,v,R){var M;if(typeof v=="function"&&(R=v,v=null),v=d({qos:0,retain:!1,dup:!1},v),this._checkDisconnecting(R))return this;switch(M={cmd:"publish",topic:u,payload:S,qos:v.qos,retain:v.retain,messageId:this._nextId(),dup:v.dup},v.qos){case 1:case 2:this.outgoing[M.messageId]=R||_,this._sendPacket(M);break;default:this._sendPacket(M,R)}return this},b.prototype.subscribe=function(){var u,S,v=Array.prototype.slice.call(arguments),R=[],M=v.shift(),D=M.resubscribe,O=v.pop()||_,P=v.pop(),B=this;if(delete M.resubscribe,typeof M=="string"&&(M=[M]),typeof O!="function"&&(P=O,O=_),(S=h.validateTopics(M))!==null)return g(O,new Error("Invalid topic "+S)),this;if(this._checkDisconnecting(O))return this;var H={qos:0};if(P=d(H,P),Array.isArray(M)?M.forEach(function(K){(B._resubscribeTopics[K]<P.qos||!B._resubscribeTopics.hasOwnProperty(K)||D)&&R.push({topic:K,qos:P.qos})}):Object.keys(M).forEach(function(K){(B._resubscribeTopics[K]<M[K]||!B._resubscribeTopics.hasOwnProperty(K)||D)&&R.push({topic:K,qos:M[K]})}),u={cmd:"subscribe",subscriptions:R,qos:1,retain:!1,dup:!1,messageId:this._nextId()},R.length){if(this.options.resubscribe){var X=[];R.forEach(function(K){B.options.reconnectPeriod>0&&(B._resubscribeTopics[K.topic]=K.qos,X.push(K.topic))}),B.messageIdToTopic[u.messageId]=X}return this.outgoing[u.messageId]=function(K,N){if(!K)for(var q=N.granted,F=0;F<q.length;F+=1)R[F].qos=q[F];O(K,R)},this._sendPacket(u),this}O(null,[])},b.prototype.unsubscribe=function(u,S){var v={cmd:"unsubscribe",qos:1,messageId:this._nextId()},R=this;return S=S||_,this._checkDisconnecting(S)||(typeof u=="string"?v.unsubscriptions=[u]:typeof u=="object"&&u.length&&(v.unsubscriptions=u),this.options.resubscribe&&v.unsubscriptions.forEach(function(M){delete R._resubscribeTopics[M]}),this.outgoing[v.messageId]=S,this._sendPacket(v)),this},b.prototype.end=function(u,S){var v=this;function R(){v.disconnected=!0,v.incomingStore.close(function(){v.outgoingStore.close(function(){S&&S.apply(null,arguments),v.emit("end")})}),v._deferredReconnect&&v._deferredReconnect()}function M(){v._cleanUp(u,g.bind(null,R))}return typeof u=="function"&&(S=u,u=!1),this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!u&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,M,10)):M()),this},b.prototype.removeOutgoingMessage=function(u){var S=this.outgoing[u];return delete this.outgoing[u],this.outgoingStore.del({messageId:u},function(){S(new Error("Message removed"))}),this},b.prototype.reconnect=function(u){var S=this,v=function(){u?(S.options.incomingStore=u.incomingStore,S.options.outgoingStore=u.outgoingStore):(S.options.incomingStore=null,S.options.outgoingStore=null),S.incomingStore=S.options.incomingStore||new f,S.outgoingStore=S.options.outgoingStore||new f,S.disconnecting=!1,S.disconnected=!1,S._deferredReconnect=null,S._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=v:v(),this},b.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},b.prototype._setupReconnect=function(){var u=this;!u.disconnecting&&!u.reconnectTimer&&u.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),u.reconnectTimer=setInterval(function(){u._reconnect()},u.options.reconnectPeriod))},b.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},b.prototype._cleanUp=function(u,S){var v;S&&this.stream.on("close",S),u?(this.options.reconnectPeriod===0&&this.options.clean&&(v=this.outgoing)&&Object.keys(v).forEach(function(R){typeof v[R]=="function"&&(v[R](new Error("Connection closed")),delete v[R])}),this.stream.destroy()):this._sendPacket({cmd:"disconnect"},g.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),S&&!this.connected&&(this.stream.removeListener("close",S),S())},b.prototype._sendPacket=function(u,S){if(this.connected){switch(this._shiftPingInterval(),u.cmd){case"publish":break;case"pubrel":return void y(this,u,S);default:return void x(this,u,S)}switch(u.qos){case 2:case 1:y(this,u,S);break;case 0:default:x(this,u,S)}}else(u.qos||0)===0&&this.queueQoSZero||u.cmd!=="publish"?this.queue.push({packet:u,cb:S}):u.qos>0?(S=this.outgoing[u.messageId],this.outgoingStore.put(u,function(v){if(v)return S&&S(v)})):S&&S(new Error("No connection to broker"))},b.prototype._setupPingTimer=function(){var u=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=c(function(){u._checkPing()},1e3*this.options.keepalive))},b.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},b.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},b.prototype._handlePingresp=function(){this.pingResp=!0},b.prototype._handleConnack=function(u){var S=u.returnCode;if(clearTimeout(this.connackTimer),S===0)this.reconnecting=!1,this.emit("connect",u);else if(S>0){var v=new Error("Connection refused: "+["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"][S]);v.code=S,this.emit("error",v)}},b.prototype._handlePublish=function(u,S){S=S!==void 0?S:_;var v=u.topic.toString(),R=u.payload,M=u.qos,D=u.messageId,O=this;switch(M){case 2:this.incomingStore.put(u,function(P){if(P)return S(P);O._sendPacket({cmd:"pubrec",messageId:D},S)});break;case 1:this.emit("message",v,R,u),this.handleMessage(u,function(P){if(P)return S(P);O._sendPacket({cmd:"puback",messageId:D},S)});break;case 0:this.emit("message",v,R,u),this.handleMessage(u,S)}},b.prototype.handleMessage=function(u,S){S()},b.prototype._handleAck=function(u){var S=u.messageId,v=u.cmd,R=null,M=this.outgoing[S],D=this;if(M){switch(v){case"pubcomp":case"puback":delete this.outgoing[S],this.outgoingStore.del(u,M);break;case"pubrec":R={cmd:"pubrel",qos:2,messageId:S},this._sendPacket(R);break;case"suback":if(delete this.outgoing[S],u.granted.length===1&&(128&u.granted[0])!=0){var O=this.messageIdToTopic[S];O&&O.forEach(function(P){delete D._resubscribeTopics[P]})}M(null,u);break;case"unsuback":delete this.outgoing[S],M(null);break;default:D.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")}},b.prototype._handlePubrel=function(u,S){S=S!==void 0?S:_;var v=u.messageId,R=this,M={cmd:"pubcomp",messageId:v};R.incomingStore.get(u,function(D,O){D||O.cmd==="pubrel"?R._sendPacket(M,S):(R.emit("message",O.topic,O.payload,O),R.incomingStore.put(u,function(P){if(P)return S(P);R.handleMessage(O,function(B){if(B)return S(B);R._sendPacket(M,S)})}))})},b.prototype._nextId=function(){var u=this.nextId++;return this.nextId===65536&&(this.nextId=1),u},b.prototype.getLastMessageId=function(){return this.nextId===1?65535:this.nextId-1},w.exports=b}).call(this,n(12),n(9))},function(w,I,n){I.byteLength=function(c){var h=i(c),d=h[0],g=h[1];return 3*(d+g)/4-g},I.toByteArray=function(c){var h,d,g=i(c),T=g[0],x=g[1],y=new l(function(u,S,v){return 3*(S+v)/4-v}(0,T,x)),_=0,b=x>0?T-4:T;for(d=0;d<b;d+=4)h=a[c.charCodeAt(d)]<<18|a[c.charCodeAt(d+1)]<<12|a[c.charCodeAt(d+2)]<<6|a[c.charCodeAt(d+3)],y[_++]=h>>16&255,y[_++]=h>>8&255,y[_++]=255&h;return x===2&&(h=a[c.charCodeAt(d)]<<2|a[c.charCodeAt(d+1)]>>4,y[_++]=255&h),x===1&&(h=a[c.charCodeAt(d)]<<10|a[c.charCodeAt(d+1)]<<4|a[c.charCodeAt(d+2)]>>2,y[_++]=h>>8&255,y[_++]=255&h),y},I.fromByteArray=function(c){for(var h,d=c.length,g=d%3,T=[],x=16383,y=0,_=d-g;y<_;y+=x)T.push(r(c,y,y+x>_?_:y+x));return g===1?(h=c[d-1],T.push(o[h>>2]+o[h<<4&63]+"==")):g===2&&(h=(c[d-2]<<8)+c[d-1],T.push(o[h>>10]+o[h>>4&63]+o[h<<2&63]+"=")),T.join("")};for(var o=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,s=f.length;t<s;++t)o[t]=f[t],a[f.charCodeAt(t)]=t;function i(c){var h=c.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=c.indexOf("=");return d===-1&&(d=h),[d,d===h?0:4-d%4]}function r(c,h,d){for(var g,T,x=[],y=h;y<d;y+=3)g=(c[y]<<16&16711680)+(c[y+1]<<8&65280)+(255&c[y+2]),x.push(o[(T=g)>>18&63]+o[T>>12&63]+o[T>>6&63]+o[63&T]);return x.join("")}a[45]=62,a[95]=63},function(w,I){I.read=function(n,o,a,l,f){var t,s,i=8*f-l-1,r=(1<<i)-1,c=r>>1,h=-7,d=a?f-1:0,g=a?-1:1,T=n[o+d];for(d+=g,t=T&(1<<-h)-1,T>>=-h,h+=i;h>0;t=256*t+n[o+d],d+=g,h-=8);for(s=t&(1<<-h)-1,t>>=-h,h+=l;h>0;s=256*s+n[o+d],d+=g,h-=8);if(t===0)t=1-c;else{if(t===r)return s?NaN:1/0*(T?-1:1);s+=Math.pow(2,l),t-=c}return(T?-1:1)*s*Math.pow(2,t-l)},I.write=function(n,o,a,l,f,t){var s,i,r,c=8*t-f-1,h=(1<<c)-1,d=h>>1,g=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=l?0:t-1,x=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(i=isNaN(o)?1:0,s=h):(s=Math.floor(Math.log(o)/Math.LN2),o*(r=Math.pow(2,-s))<1&&(s--,r*=2),(o+=s+d>=1?g/r:g*Math.pow(2,1-d))*r>=2&&(s++,r/=2),s+d>=h?(i=0,s=h):s+d>=1?(i=(o*r-1)*Math.pow(2,f),s+=d):(i=o*Math.pow(2,d-1)*Math.pow(2,f),s=0));f>=8;n[a+T]=255&i,T+=x,i/=256,f-=8);for(s=s<<f|i,c+=f;c>0;n[a+T]=255&s,T+=x,s/=256,c-=8);n[a+T-x]|=128*y}},function(w,I){},function(w,I,n){var o=n(37).Buffer,a=n(98);w.exports=function(){function l(){(function(f,t){if(!(f instanceof t))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(f){var t={data:f,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},l.prototype.unshift=function(f){var t={data:f,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},l.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(f){if(this.length===0)return"";for(var t=this.head,s=""+t.data;t=t.next;)s+=f+t.data;return s},l.prototype.concat=function(f){if(this.length===0)return o.alloc(0);if(this.length===1)return this.head.data;for(var t,s,i,r=o.allocUnsafe(f>>>0),c=this.head,h=0;c;)t=c.data,s=r,i=h,t.copy(s,i),h+=c.data.length,c=c.next;return r},l}(),a&&a.inspect&&a.inspect.custom&&(w.exports.prototype[a.inspect.custom]=function(){var l=a.inspect({length:this.length});return this.constructor.name+" "+l})},function(w,I){},function(w,I,n){(function(o){var a=o!==void 0&&o||typeof self<"u"&&self||window,l=Function.prototype.apply;function f(t,s){this._id=t,this._clearFn=s}I.setTimeout=function(){return new f(l.call(setTimeout,a,arguments),clearTimeout)},I.setInterval=function(){return new f(l.call(setInterval,a,arguments),clearInterval)},I.clearTimeout=I.clearInterval=function(t){t&&t.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(a,this._id)},I.enroll=function(t,s){clearTimeout(t._idleTimeoutId),t._idleTimeout=s},I.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},I._unrefActive=I.active=function(t){clearTimeout(t._idleTimeoutId);var s=t._idleTimeout;s>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},s))},n(100),I.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,I.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,n(12))},function(w,I,n){(function(o,a){(function(l,f){if(!l.setImmediate){var t,s,i,r,c,h=1,d={},g=!1,T=l.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(l);x=x&&x.setTimeout?x:l,{}.toString.call(l.process)==="[object process]"?t=function(b){a.nextTick(function(){_(b)})}:function(){if(l.postMessage&&!l.importScripts){var b=!0,u=l.onmessage;return l.onmessage=function(){b=!1},l.postMessage("","*"),l.onmessage=u,b}}()?(r="setImmediate$"+Math.random()+"$",c=function(b){b.source===l&&typeof b.data=="string"&&b.data.indexOf(r)===0&&_(+b.data.slice(r.length))},l.addEventListener?l.addEventListener("message",c,!1):l.attachEvent("onmessage",c),t=function(b){l.postMessage(r+b,"*")}):l.MessageChannel?((i=new MessageChannel).port1.onmessage=function(b){_(b.data)},t=function(b){i.port2.postMessage(b)}):T&&"onreadystatechange"in T.createElement("script")?(s=T.documentElement,t=function(b){var u=T.createElement("script");u.onreadystatechange=function(){_(b),u.onreadystatechange=null,s.removeChild(u),u=null},s.appendChild(u)}):t=function(b){setTimeout(_,0,b)},x.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var u=new Array(arguments.length-1),S=0;S<u.length;S++)u[S]=arguments[S+1];var v={callback:b,args:u};return d[h]=v,t(h),h++},x.clearImmediate=y}function y(b){delete d[b]}function _(b){if(g)setTimeout(_,0,b);else{var u=d[b];if(u){g=!0;try{(function(S){var v=S.callback,R=S.args;switch(R.length){case 0:v();break;case 1:v(R[0]);break;case 2:v(R[0],R[1]);break;case 3:v(R[0],R[1],R[2]);break;default:v.apply(void 0,R)}})(u)}finally{y(b),g=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,n(12),n(9))},function(w,I,n){(function(o){function a(l){try{if(!o.localStorage)return!1}catch{return!1}var f=o.localStorage[l];return f!=null&&String(f).toLowerCase()==="true"}w.exports=function(l,f){if(a("noDeprecation"))return l;var t=!1;return function(){if(!t){if(a("throwDeprecation"))throw new Error(f);a("traceDeprecation")?console.trace(f):console.warn(f),t=!0}return l.apply(this,arguments)}}}).call(this,n(12))},function(w,I,n){w.exports=l;var o=n(55),a=Object.create(n(25));function l(f){if(!(this instanceof l))return new l(f);o.call(this,f)}a.inherits=n(13),a.inherits(l,o),l.prototype._transform=function(f,t,s){s(null,f)}},function(w,I,n){w.exports=n(104)()?Map:n(105)},function(w,I,n){w.exports=function(){var o,a;if(typeof Map!="function")return!1;try{o=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch{return!1}return String(o)==="[object Map]"&&o.size===3&&typeof o.clear=="function"&&typeof o.delete=="function"&&typeof o.entries=="function"&&typeof o.forEach=="function"&&typeof o.get=="function"&&typeof o.has=="function"&&typeof o.keys=="function"&&typeof o.set=="function"&&typeof o.values=="function"&&(a=o.entries().next()).done===!1&&!!a.value&&a.value[0]==="raz"&&a.value[1]==="one"}},function(w,I,n){var o,a=n(56),l=n(107),f=n(29),t=n(20),s=n(14),i=n(11),r=n(126),c=n(16),h=n(64),d=n(136),g=n(154),T=n(157),x=Function.prototype.call,y=Object.defineProperties,_=Object.getPrototypeOf;w.exports=o=function(){var b,u,S,v=arguments[0];if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");return S=T&&f&&Map!==o?f(new Map,_(this)):this,v!=null&&h(v),y(S,{__mapKeysData__:i("c",b=[]),__mapValuesData__:i("c",u=[])}),v&&d(v,function(R){var M=s(R)[0];R=R[1],l.call(b,M)===-1&&(b.push(M),u.push(R))},S),S},T&&(f&&f(o,Map),o.prototype=Object.create(Map.prototype,{constructor:i(o)})),r(y(o.prototype,{clear:i(function(){this.__mapKeysData__.length&&(a.call(this.__mapKeysData__),a.call(this.__mapValuesData__),this.emit("_clear"))}),delete:i(function(b){var u=l.call(this.__mapKeysData__,b);return u!==-1&&(this.__mapKeysData__.splice(u,1),this.__mapValuesData__.splice(u,1),this.emit("_delete",u,b),!0)}),entries:i(function(){return new g(this,"key+value")}),forEach:i(function(b){var u,S,v=arguments[1];for(t(b),S=(u=this.entries())._next();S!==void 0;)x.call(b,v,this.__mapValuesData__[S],this.__mapKeysData__[S],this),S=u._next()}),get:i(function(b){var u=l.call(this.__mapKeysData__,b);if(u!==-1)return this.__mapValuesData__[u]}),has:i(function(b){return l.call(this.__mapKeysData__,b)!==-1}),keys:i(function(){return new g(this,"key")}),set:i(function(b,u){var S,v=l.call(this.__mapKeysData__,b);return v===-1&&(v=this.__mapKeysData__.push(b)-1,S=!0),this.__mapValuesData__[v]=u,S&&this.emit("_add",v,b),this}),size:i.gs(function(){return this.__mapKeysData__.length}),values:i(function(){return new g(this,"value")}),toString:i(function(){return"[object Map]"})})),Object.defineProperty(o.prototype,c.iterator,i(function(){return this.entries()})),Object.defineProperty(o.prototype,c.toStringTag,i("c","Map"))},function(w,I,n){w.exports=function(){}},function(w,I,n){var o=n(108),a=n(57),l=n(14),f=Array.prototype.indexOf,t=Object.prototype.hasOwnProperty,s=Math.abs,i=Math.floor;w.exports=function(r){var c,h,d,g;if(!o(r))return f.apply(this,arguments);for(h=a(l(this).length),d=arguments[1],c=d=isNaN(d)?0:d>=0?i(d):a(this.length)-i(s(d));c<h;++c)if(t.call(this,c)&&(g=this[c],o(g)))return c;return-1}},function(w,I,n){w.exports=n(109)()?Number.isNaN:n(110)},function(w,I,n){w.exports=function(){var o=Number.isNaN;return typeof o=="function"&&!o({})&&o(NaN)&&!o(34)}},function(w,I,n){w.exports=function(o){return o!=o}},function(w,I,n){var o=n(112),a=Math.abs,l=Math.floor;w.exports=function(f){return isNaN(f)?0:(f=Number(f))!==0&&isFinite(f)?o(f)*l(a(f)):f}},function(w,I,n){w.exports=n(113)()?Math.sign:n(114)},function(w,I,n){w.exports=function(){var o=Math.sign;return typeof o=="function"&&o(10)===1&&o(-20)===-1}},function(w,I,n){w.exports=function(o){return o=Number(o),isNaN(o)||o===0?o:o>0?1:-1}},function(w,I,n){var o=n(21),a={function:!0,object:!0};w.exports=function(l){return o(l)&&a[typeof l]||!1}},function(w,I,n){var o,a,l,f,t=Object.create;n(58)()||(o=n(59)),w.exports=o?o.level!==1?t:(a={},l={},f={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(s){l[s]=s!=="__proto__"?f:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(a,l),Object.defineProperty(o,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(s,i){return t(s===null?a:s,i)}):t},function(w,I,n){var o=n(118);w.exports=function(a){if(typeof a!="function"||!hasOwnProperty.call(a,"length"))return!1;try{if(typeof a.length!="number"||typeof a.call!="function"||typeof a.apply!="function")return!1}catch{return!1}return!o(a)}},function(w,I,n){var o=n(38);w.exports=function(a){if(!o(a))return!1;try{return!!a.constructor&&a.constructor.prototype===a}catch{return!1}}},function(w,I,n){w.exports=function(){var o,a=Object.assign;return typeof a=="function"&&(a(o={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),o.foo+o.bar+o.trzy==="razdwatrzy")}},function(w,I,n){var o=n(121),a=n(14),l=Math.max;w.exports=function(f,t){var s,i,r,c=l(arguments.length,2);for(f=Object(a(f)),r=function(h){try{f[h]=t[h]}catch(d){s||(s=d)}},i=1;i<c;++i)o(t=arguments[i]).forEach(r);if(s!==void 0)throw s;return f}},function(w,I,n){w.exports=n(122)()?Object.keys:n(123)},function(w,I,n){w.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(w,I,n){var o=n(21),a=Object.keys;w.exports=function(l){return a(o(l)?Object(l):l)}},function(w,I,n){var o="razdwatrzy";w.exports=function(){return typeof o.contains=="function"&&o.contains("dwa")===!0&&o.contains("foo")===!1}},function(w,I,n){var o=String.prototype.indexOf;w.exports=function(a){return o.call(this,a,arguments[1])>-1}},function(w,I,n){var o,a,l,f,t,s,i,r=n(11),c=n(20),h=Function.prototype.apply,d=Function.prototype.call,g=Object.create,T=Object.defineProperty,x=Object.defineProperties,y=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};a=function(b,u){var S,v;return c(u),v=this,o.call(this,b,S=function(){l.call(v,b,S),h.call(u,this,arguments)}),S.__eeOnceListener__=u,this},t={on:o=function(b,u){var S;return c(u),y.call(this,"__ee__")?S=this.__ee__:(S=_.value=g(null),T(this,"__ee__",_),_.value=null),S[b]?typeof S[b]=="object"?S[b].push(u):S[b]=[S[b],u]:S[b]=u,this},once:a,off:l=function(b,u){var S,v,R,M;if(c(u),!y.call(this,"__ee__"))return this;if(!(S=this.__ee__)[b])return this;if(typeof(v=S[b])=="object")for(M=0;R=v[M];++M)R!==u&&R.__eeOnceListener__!==u||(v.length===2?S[b]=v[M?0:1]:v.splice(M,1));else v!==u&&v.__eeOnceListener__!==u||delete S[b];return this},emit:f=function(b){var u,S,v,R,M;if(y.call(this,"__ee__")&&(R=this.__ee__[b]))if(typeof R=="object"){for(S=arguments.length,M=new Array(S-1),u=1;u<S;++u)M[u-1]=arguments[u];for(R=R.slice(),u=0;v=R[u];++u)h.call(v,this,M)}else switch(arguments.length){case 1:d.call(R,this);break;case 2:d.call(R,this,arguments[1]);break;case 3:d.call(R,this,arguments[1],arguments[2]);break;default:for(S=arguments.length,M=new Array(S-1),u=1;u<S;++u)M[u-1]=arguments[u];h.call(R,this,M)}}},s={on:r(o),once:r(a),off:r(l),emit:r(f)},i=x({},s),w.exports=I=function(b){return b==null?g(i):x(Object(b),s)},I.methods=t},function(w,I,n){var o=n(30),a={object:!0,symbol:!0};w.exports=function(){var l,f=o.Symbol;if(typeof f!="function")return!1;l=f("test symbol");try{String(l)}catch{return!1}return!!a[typeof f.iterator]&&!!a[typeof f.toPrimitive]&&!!a[typeof f.toStringTag]}},function(w,I,n){w.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},function(w,I){var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};w.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(w,I,n){var o,a,l,f=n(11),t=n(63),s=n(30).Symbol,i=n(132),r=n(133),c=n(134),h=Object.create,d=Object.defineProperties,g=Object.defineProperty;if(typeof s=="function")try{String(s()),l=!0}catch{}else s=null;a=function(T){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return o(T)},w.exports=o=function T(x){var y;if(this instanceof T)throw new TypeError("Symbol is not a constructor");return l?s(x):(y=h(a.prototype),x=x===void 0?"":String(x),d(y,{__description__:f("",x),__name__:f("",i(x))}))},r(o),c(o),d(a.prototype,{constructor:f(o),toString:f("",function(){return this.__name__})}),d(o.prototype,{toString:f(function(){return"Symbol ("+t(this).__description__+")"}),valueOf:f(function(){return t(this)})}),g(o.prototype,o.toPrimitive,f("",function(){var T=t(this);return typeof T=="symbol"?T:T.toString()})),g(o.prototype,o.toStringTag,f("c","Symbol")),g(a.prototype,o.toStringTag,f("c",o.prototype[o.toStringTag])),g(a.prototype,o.toPrimitive,f("c",o.prototype[o.toPrimitive]))},function(w,I,n){w.exports=function(o){return!!o&&(typeof o=="symbol"||!!o.constructor&&o.constructor.name==="Symbol"&&o[o.constructor.toStringTag]==="Symbol")}},function(w,I,n){var o=n(11),a=Object.create,l=Object.defineProperty,f=Object.prototype,t=a(null);w.exports=function(s){for(var i,r,c=0;t[s+(c||"")];)++c;return t[s+=c||""]=!0,l(f,i="@@"+s,o.gs(null,function(h){r||(r=!0,l(this,i,o(h)),r=!1)})),i}},function(w,I,n){var o=n(11),a=n(30).Symbol;w.exports=function(l){return Object.defineProperties(l,{hasInstance:o("",a&&a.hasInstance||l("hasInstance")),isConcatSpreadable:o("",a&&a.isConcatSpreadable||l("isConcatSpreadable")),iterator:o("",a&&a.iterator||l("iterator")),match:o("",a&&a.match||l("match")),replace:o("",a&&a.replace||l("replace")),search:o("",a&&a.search||l("search")),species:o("",a&&a.species||l("species")),split:o("",a&&a.split||l("split")),toPrimitive:o("",a&&a.toPrimitive||l("toPrimitive")),toStringTag:o("",a&&a.toStringTag||l("toStringTag")),unscopables:o("",a&&a.unscopables||l("unscopables"))})}},function(w,I,n){var o=n(11),a=n(63),l=Object.create(null);w.exports=function(f){return Object.defineProperties(f,{for:o(function(t){return l[t]?l[t]:l[t]=f(String(t))}),keyFor:o(function(t){var s;for(s in a(t),l)if(l[s]===t)return s})})}},function(w,I,n){var o=n(31),a=n(21),l=n(32),f=n(16).iterator,t=Array.isArray;w.exports=function(s){return!!a(s)&&(!!t(s)||!!l(s)||!!o(s)||typeof s[f]=="function")}},function(w,I,n){var o=n(31),a=n(20),l=n(32),f=n(137),t=Array.isArray,s=Function.prototype.call,i=Array.prototype.some;w.exports=function(r,c){var h,d,g,T,x,y,_,b,u=arguments[2];if(t(r)||o(r)?h="array":l(r)?h="string":r=f(r),a(c),g=function(){T=!0},h!=="array")if(h!=="string")for(d=r.next();!d.done;){if(s.call(c,u,d.value,g),T)return;d=r.next()}else for(y=r.length,x=0;x<y&&(_=r[x],x+1<y&&(b=_.charCodeAt(0))>=55296&&b<=56319&&(_+=r[++x]),s.call(c,u,_,g),!T);++x);else i.call(r,function(S){return s.call(c,u,S,g),T})}},function(w,I,n){var o=n(31),a=n(32),l=n(138),f=n(153),t=n(64),s=n(16).iterator;w.exports=function(i){return typeof t(i)[s]=="function"?i[s]():o(i)?new l(i):a(i)?new f(i):new l(i)}},function(w,I,n){var o,a=n(29),l=n(62),f=n(11),t=n(16),s=n(40),i=Object.defineProperty;o=w.exports=function(r,c){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");s.call(this,r),c=c?l.call(c,"key+value")?"key+value":l.call(c,"key")?"key":"value":"value",i(this,"__kind__",f("",c))},a&&a(o,s),delete o.prototype.constructor,o.prototype=Object.create(s.prototype,{_resolve:f(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),i(o.prototype,t.toStringTag,f("c","Array Iterator"))},function(w,I,n){var o,a=n(22),l=n(140),f=n(144),t=n(145),s=n(61),i=n(150),r=Function.prototype.bind,c=Object.defineProperty,h=Object.prototype.hasOwnProperty;o=function(d,g,T){var x,y=l(g)&&f(g.value);return delete(x=t(g)).writable,delete x.value,x.get=function(){return!T.overwriteDefinition&&h.call(this,d)?y:(g.value=r.call(y,T.resolveContext?T.resolveContext(this):this),c(this,d,g),this[d])},x},w.exports=function(d){var g=s(arguments[1]);return a(g.resolveContext)&&f(g.resolveContext),i(d,function(T,x){return o(x,T,g)})}},function(w,I,n){var o=n(65),a=n(22);w.exports=function(l){return a(l)?l:o(l,"Cannot use %v",arguments[1])}},function(w,I,n){var o=n(22),a=n(38),l=Object.prototype.toString;w.exports=function(f){if(!o(f))return null;if(a(f)){var t=f.toString;if(typeof t!="function"||t===l)return null}try{return""+f}catch{return null}}},function(w,I,n){var o=n(143),a=/[\n\r\u2028\u2029]/g;w.exports=function(l){var f=o(l);return f===null?"<Non-coercible to string value>":(f.length>100&&(f=f.slice(0,99)+"…"),f=f.replace(a,function(t){switch(t){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},function(w,I,n){w.exports=function(o){try{return o.toString()}catch{try{return String(o)}catch{return null}}}},function(w,I,n){var o=n(65),a=n(60);w.exports=function(l){return a(l)?l:o(l,"%v is not a plain function",arguments[1])}},function(w,I,n){var o=n(146),a=n(39),l=n(14);w.exports=function(f){var t=Object(l(f)),s=arguments[1],i=Object(arguments[2]);if(t!==f&&!s)return t;var r={};return s?o(s,function(c){(i.ensure||c in f)&&(r[c]=f[c])}):a(r,f),r}},function(w,I,n){w.exports=n(147)()?Array.from:n(148)},function(w,I,n){w.exports=function(){var o,a,l=Array.from;return typeof l=="function"&&(a=l(o=["raz","dwa"]),!!(a&&a!==o&&a[1]==="dwa"))}},function(w,I,n){var o=n(16).iterator,a=n(31),l=n(149),f=n(57),t=n(20),s=n(14),i=n(21),r=n(32),c=Array.isArray,h=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},g=Object.defineProperty;w.exports=function(T){var x,y,_,b,u,S,v,R,M,D,O=arguments[1],P=arguments[2];if(T=Object(s(T)),i(O)&&t(O),this&&this!==Array&&l(this))x=this;else{if(!O){if(a(T))return(u=T.length)!==1?Array.apply(null,T):((b=new Array(1))[0]=T[0],b);if(c(T)){for(b=new Array(u=T.length),y=0;y<u;++y)b[y]=T[y];return b}}b=[]}if(!c(T)){if((M=T[o])!==void 0){for(v=t(M).call(T),x&&(b=new x),R=v.next(),y=0;!R.done;)D=O?h.call(O,P,R.value,y):R.value,x?(d.value=D,g(b,y,d)):b[y]=D,R=v.next(),++y;u=y}else if(r(T)){for(u=T.length,x&&(b=new x),y=0,_=0;y<u;++y)D=T[y],y+1<u&&(S=D.charCodeAt(0))>=55296&&S<=56319&&(D+=T[++y]),D=O?h.call(O,P,D,_):D,x?(d.value=D,g(b,_,d)):b[_]=D,++_;u=_}}if(u===void 0)for(u=f(T.length),x&&(b=new x(u)),y=0;y<u;++y)D=O?h.call(O,P,T[y],y):T[y],x?(d.value=D,g(b,y,d)):b[y]=D;return x&&(d.value=null,b.length=u),b}},function(w,I,n){var o=Object.prototype.toString,a=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);w.exports=function(l){return typeof l=="function"&&a(o.call(l))}},function(w,I,n){var o=n(20),a=n(151),l=Function.prototype.call;w.exports=function(f,t){var s={},i=arguments[2];return o(t),a(f,function(r,c,h,d){s[c]=l.call(t,i,r,c,h,d)}),s}},function(w,I,n){w.exports=n(152)("forEach")},function(w,I,n){var o=n(20),a=n(14),l=Function.prototype.bind,f=Function.prototype.call,t=Object.keys,s=Object.prototype.propertyIsEnumerable;w.exports=function(i,r){return function(c,h){var d,g=arguments[2],T=arguments[3];return c=Object(a(c)),o(h),d=t(c),T&&d.sort(typeof T=="function"?l.call(T,c):void 0),typeof i!="function"&&(i=d[i]),f.call(i,d,function(x,y){return s.call(c,x)?f.call(h,g,c[x],x,c,y):r})}}},function(w,I,n){var o,a=n(29),l=n(11),f=n(16),t=n(40),s=Object.defineProperty;o=w.exports=function(i){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");i=String(i),t.call(this,i),s(this,"__length__",l("",i.length))},a&&a(o,t),delete o.prototype.constructor,o.prototype=Object.create(t.prototype,{_next:l(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:l(function(i){var r,c=this.__list__[i];return this.__nextIndex__===this.__length__?c:(r=c.charCodeAt(0))>=55296&&r<=56319?c+this.__list__[this.__nextIndex__++]:c})}),s(o.prototype,f.toStringTag,l("c","String Iterator"))},function(w,I,n){var o,a=n(29),l=n(11),f=n(40),t=n(16).toStringTag,s=n(155),i=Object.defineProperties,r=f.prototype._unBind;o=w.exports=function(c,h){if(!(this instanceof o))return new o(c,h);f.call(this,c.__mapKeysData__,c),h&&s[h]||(h="key+value"),i(this,{__kind__:l("",h),__values__:l("w",c.__mapValuesData__)})},a&&a(o,f),o.prototype=Object.create(f.prototype,{constructor:l(o),_resolve:l(function(c){return this.__kind__==="value"?this.__values__[c]:this.__kind__==="key"?this.__list__[c]:[this.__list__[c],this.__values__[c]]}),_unBind:l(function(){this.__values__=null,r.call(this)}),toString:l(function(){return"[object Map Iterator]"})}),Object.defineProperty(o.prototype,t,l("c","Map Iterator"))},function(w,I,n){w.exports=n(156)("key","value","key+value")},function(w,I,n){var o=Array.prototype.forEach,a=Object.create;w.exports=function(l){var f=a(null);return o.call(arguments,function(t){f[t]=!0}),f}},function(w,I,n){w.exports=typeof Map<"u"&&Object.prototype.toString.call(new Map)==="[object Map]"},function(w,I,n){var o=n(159);function a(f){var t=function(){return t.called?t.value:(t.called=!0,t.value=f.apply(this,arguments))};return t.called=!1,t}function l(f){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=f.apply(this,arguments)},s=f.name||"Function wrapped with `once`";return t.onceError=s+" shouldn't be called more than once",t.called=!1,t}w.exports=o(a),w.exports.strict=o(l),a.proto=a(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return l(this)},configurable:!0})})},function(w,I){w.exports=function n(o,a){if(o&&a)return n(o)(a);if(typeof o!="function")throw new TypeError("need wrapper function");return Object.keys(o).forEach(function(f){l[f]=o[f]}),l;function l(){for(var f=new Array(arguments.length),t=0;t<f.length;t++)f[t]=arguments[t];var s=o.apply(this,f),i=f[f.length-1];return typeof s=="function"&&s!==i&&Object.keys(i).forEach(function(r){s[r]=i[r]}),s}}},function(w,I,n){I.parser=n(161),I.generate=n(165),I.writeToStream=n(68)},function(w,I,n){var o=n(162),a=n(13),l=n(15).EventEmitter,f=n(164),t=n(67);function s(){if(!(this instanceof s))return new s;this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}a(s,l),s.prototype._resetState=function(){this.packet=new f,this.error=null,this._list=o(),this._stateCounter=0},s.prototype.parse=function(i){for(this.error&&this._resetState(),this._list.append(i);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},s.prototype._parseHeader=function(){var i=this._list.readUInt8(0);return this.packet.cmd=t.types[i>>t.CMD_SHIFT],this.packet.retain=(i&t.RETAIN_MASK)!=0,this.packet.qos=i>>t.QOS_SHIFT&t.QOS_MASK,this.packet.dup=(i&t.DUP_MASK)!=0,this._list.consume(1),!0},s.prototype._parseLength=function(){for(var i,r=0,c=1,h=0,d=!0;r<5&&(h+=c*((i=this._list.readUInt8(r++))&t.LENGTH_MASK),c*=128,(i&t.LENGTH_FIN_MASK)!=0);)if(this._list.length<=r){d=!1;break}return d&&(this.packet.length=h,this._list.consume(r)),d},s.prototype._parsePayload=function(){var i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}i=!0}return i},s.prototype._parseConnect=function(){var i,r,c,h,d,g,T={},x=this.packet;if((i=this._parseString())===null)return this._emitError(new Error("Cannot parse protocolId"));if(i!=="MQTT"&&i!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(x.protocolId=i,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(x.protocolVersion=this._list.readUInt8(this._pos),x.protocolVersion!==3&&x.protocolVersion!==4)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(T.username=this._list.readUInt8(this._pos)&t.USERNAME_MASK,T.password=this._list.readUInt8(this._pos)&t.PASSWORD_MASK,T.will=this._list.readUInt8(this._pos)&t.WILL_FLAG_MASK,T.will&&(x.will={},x.will.retain=(this._list.readUInt8(this._pos)&t.WILL_RETAIN_MASK)!=0,x.will.qos=(this._list.readUInt8(this._pos)&t.WILL_QOS_MASK)>>t.WILL_QOS_SHIFT),x.clean=(this._list.readUInt8(this._pos)&t.CLEAN_SESSION_MASK)!=0,this._pos++,x.keepalive=this._parseNum(),x.keepalive===-1)return this._emitError(new Error("Packet too short"));if((r=this._parseString())===null)return this._emitError(new Error("Packet too short"));if(x.clientId=r,T.will){if((c=this._parseString())===null)return this._emitError(new Error("Cannot parse will topic"));if(x.will.topic=c,(h=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse will payload"));x.will.payload=h}if(T.username){if((g=this._parseString())===null)return this._emitError(new Error("Cannot parse username"));x.username=g}if(T.password){if((d=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse password"));x.password=d}return x},s.prototype._parseConnack=function(){var i=this.packet;return this._list.length<2?null:(i.sessionPresent=!!(this._list.readUInt8(this._pos++)&t.SESSIONPRESENT_MASK),i.returnCode=this._list.readUInt8(this._pos),i.returnCode===-1?this._emitError(new Error("Cannot parse return code")):void 0)},s.prototype._parsePublish=function(){var i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));i.qos>0&&!this._parseMessageId()||(i.payload=this._list.slice(this._pos,i.length))},s.prototype._parseSubscribe=function(){var i,r,c=this.packet;if(c.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(c.subscriptions=[],this._parseMessageId())for(;this._pos<c.length;){if((i=this._parseString())===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._list.readUInt8(this._pos++),c.subscriptions.push({topic:i,qos:r})}},s.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},s.prototype._parseUnsubscribe=function(){var i=this.packet;if(i.unsubscriptions=[],this._parseMessageId())for(;this._pos<i.length;){var r;if((r=this._parseString())===null)return this._emitError(new Error("Cannot parse topic"));i.unsubscriptions.push(r)}},s.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},s.prototype._parseMessageId=function(){var i=this.packet;return i.messageId=this._parseNum(),i.messageId!==null||(this._emitError(new Error("Cannot parse messageId")),!1)},s.prototype._parseString=function(i){var r,c=this._parseNum(),h=c+this._pos;return c===-1||h>this._list.length||h>this.packet.length?null:(r=this._list.toString("utf8",this._pos,h),this._pos+=c,r)},s.prototype._parseBuffer=function(){var i,r=this._parseNum(),c=r+this._pos;return r===-1||c>this._list.length||c>this.packet.length?null:(i=this._list.slice(this._pos,c),this._pos+=r,i)},s.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var i=this._list.readUInt16BE(this._pos);return this._pos+=2,i},s.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new f,!0},s.prototype._emitError=function(i){this.error=i,this.emit("error",i)},w.exports=s},function(w,I,n){var o=n(163),a=n(27),l=n(19).Buffer;function f(t){if(!(this instanceof f))return new f(t);if(this._bufs=[],this.length=0,typeof t=="function"){this._callback=t;var s=(function(i){this._callback&&(this._callback(i),this._callback=null)}).bind(this);this.on("pipe",function(i){i.on("error",s)}),this.on("unpipe",function(i){i.removeListener("error",s)})}else this.append(t);o.call(this)}a.inherits(f,o),f.prototype._offset=function(t){var s,i=0,r=0;if(t===0)return[0,0];for(;r<this._bufs.length;r++){if(t<(s=i+this._bufs[r].length)||r==this._bufs.length-1)return[r,t-i];i=s}},f.prototype.append=function(t){var s=0;if(l.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;s<t.length;s++)this.append(t[s]);else if(t instanceof f)for(;s<t._bufs.length;s++)this.append(t._bufs[s]);else t!=null&&(typeof t=="number"&&(t=t.toString()),this._appendBuffer(l.from(t)));return this},f.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},f.prototype._write=function(t,s,i){this._appendBuffer(t),typeof i=="function"&&i()},f.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},f.prototype.end=function(t){o.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},f.prototype.get=function(t){return this.slice(t,t+1)[0]},f.prototype.slice=function(t,s){return typeof t=="number"&&t<0&&(t+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,t,s)},f.prototype.copy=function(t,s,i,r){if((typeof i!="number"||i<0)&&(i=0),(typeof r!="number"||r>this.length)&&(r=this.length),i>=this.length||r<=0)return t||l.alloc(0);var c,h,d=!!t,g=this._offset(i),T=r-i,x=T,y=d&&s||0,_=g[1];if(i===0&&r==this.length){if(!d)return this._bufs.length===1?this._bufs[0]:l.concat(this._bufs,this.length);for(h=0;h<this._bufs.length;h++)this._bufs[h].copy(t,y),y+=this._bufs[h].length;return t}if(x<=this._bufs[g[0]].length-_)return d?this._bufs[g[0]].copy(t,s,_,_+x):this._bufs[g[0]].slice(_,_+x);for(d||(t=l.allocUnsafe(T)),h=g[0];h<this._bufs.length;h++){if(!(x>(c=this._bufs[h].length-_))){this._bufs[h].copy(t,y,_,_+x),y+=c;break}this._bufs[h].copy(t,y,_),y+=c,x-=c,_&&(_=0)}return t.length>y?t.slice(0,y):t},f.prototype.shallowSlice=function(t,s){t=t||0,s=s||this.length,t<0&&(t+=this.length),s<0&&(s+=this.length);var i=this._offset(t),r=this._offset(s),c=this._bufs.slice(i[0],r[0]+1);return r[1]==0?c.pop():c[c.length-1]=c[c.length-1].slice(0,r[1]),i[1]!=0&&(c[0]=c[0].slice(i[1])),new f(c)},f.prototype.toString=function(t,s,i){return this.slice(s,i).toString(t)},f.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},f.prototype.duplicate=function(){for(var t=0,s=new f;t<this._bufs.length;t++)s.append(this._bufs[t]);return s},f.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var s in t)(function(i){f.prototype[i]=function(r){return this.slice(r,r+t[i])[i](0)}})(s)}(),w.exports=f},function(w,I,n){w.exports=n(18)},function(w,I){w.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},function(w,I,n){var o=n(19).Buffer,a=n(68),l=n(15).EventEmitter;function f(){this._array=new Array(20),this._i=0}n(13)(f,l),f.prototype.write=function(t){return this._array[this._i++]=t,!0},f.prototype.concat=function(){var t,s,i=0,r=new Array(this._array.length),c=this._array,h=0;for(t=0;t<c.length&&c[t]!==void 0;t++)typeof c[t]!="string"?r[t]=c[t].length:r[t]=o.byteLength(c[t]),i+=r[t];for(s=o.allocUnsafe(i),t=0;t<c.length&&c[t]!==void 0;t++)typeof c[t]!="string"?(c[t].copy(s,h),h+=r[t]):(s.write(c[t],h),h+=r[t]);return s},w.exports=function(t){var s=new f;return a(t,s),s.concat()}},function(w,I,n){var o=n(19).Buffer,a={};function l(f){var t=o.allocUnsafe(2);return t.writeUInt8(f>>8,0),t.writeUInt8(255&f,1),t}w.exports={cache:a,generateCache:function(){for(var f=0;f<65536;f++)a[f]=l(f)},generateNumber:l}},function(w,I,n){function o(a,l,f){var t=this;this._callback=a,this._args=f,this._interval=setInterval(a,l,this._args),this.reschedule=function(s){s||(s=t._interval),t._interval&&clearInterval(t._interval),t._interval=setInterval(t._callback,s,t._args)},this.clear=function(){t._interval&&(clearInterval(t._interval),t._interval=void 0)},this.destroy=function(){t._interval&&clearInterval(t._interval),t._callback=void 0,t._interval=void 0,t._args=void 0}}w.exports=function(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var a;if(arguments.length>0){a=new Array(arguments.length-2);for(var l=0;l<a.length;l++)a[l]=arguments[l+2]}return new o(arguments[0],arguments[1],a)}},function(w,I,n){function o(a){for(var l=a.split("/"),f=0;f<l.length;f++)if(l[f]!=="+"){if(l[f]==="#")return f===l.length-1;if(l[f].indexOf("+")!==-1||l[f].indexOf("#")!==-1)return!1}return!0}w.exports={validateTopics:function(a){if(a.length===0)return"empty_topic_list";for(var l=0;l<a.length;l++)if(!o(a[l]))return a[l];return null}}},function(w,I,n){(function(o,a){var l;(function(f){I&&I.nodeType,o&&o.nodeType;var t=typeof a=="object"&&a;t.global!==t&&t.window!==t&&t.self;var s,i=2147483647,r=36,c=/^xn--/,h=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=Math.floor,x=String.fromCharCode;function y(O){throw new RangeError(g[O])}function _(O,P){for(var B=O.length,H=[];B--;)H[B]=P(O[B]);return H}function b(O,P){var B=O.split("@"),H="";return B.length>1&&(H=B[0]+"@",O=B[1]),H+_((O=O.replace(d,".")).split("."),P).join(".")}function u(O){for(var P,B,H=[],X=0,K=O.length;X<K;)(P=O.charCodeAt(X++))>=55296&&P<=56319&&X<K?(64512&(B=O.charCodeAt(X++)))==56320?H.push(((1023&P)<<10)+(1023&B)+65536):(H.push(P),X--):H.push(P);return H}function S(O){return _(O,function(P){var B="";return P>65535&&(B+=x((P-=65536)>>>10&1023|55296),P=56320|1023&P),B+=x(P)}).join("")}function v(O,P){return O+22+75*(O<26)-((P!=0)<<5)}function R(O,P,B){var H=0;for(O=B?T(O/700):O>>1,O+=T(O/P);O>455;H+=r)O=T(O/35);return T(H+36*O/(O+38))}function M(O){var P,B,H,X,K,N,q,F,z,A,C,U=[],L=O.length,rt=0,lt=128,ft=72;for((B=O.lastIndexOf("-"))<0&&(B=0),H=0;H<B;++H)O.charCodeAt(H)>=128&&y("not-basic"),U.push(O.charCodeAt(H));for(X=B>0?B+1:0;X<L;){for(K=rt,N=1,q=r;X>=L&&y("invalid-input"),((F=(C=O.charCodeAt(X++))-48<10?C-22:C-65<26?C-65:C-97<26?C-97:r)>=r||F>T((i-rt)/N))&&y("overflow"),rt+=F*N,!(F<(z=q<=ft?1:q>=ft+26?26:q-ft));q+=r)N>T(i/(A=r-z))&&y("overflow"),N*=A;ft=R(rt-K,P=U.length+1,K==0),T(rt/P)>i-lt&&y("overflow"),lt+=T(rt/P),rt%=P,U.splice(rt++,0,lt)}return S(U)}function D(O){var P,B,H,X,K,N,q,F,z,A,C,U,L,rt,lt,ft=[];for(U=(O=u(O)).length,P=128,B=0,K=72,N=0;N<U;++N)(C=O[N])<128&&ft.push(x(C));for(H=X=ft.length,X&&ft.push("-");H<U;){for(q=i,N=0;N<U;++N)(C=O[N])>=P&&C<q&&(q=C);for(q-P>T((i-B)/(L=H+1))&&y("overflow"),B+=(q-P)*L,P=q,N=0;N<U;++N)if((C=O[N])<P&&++B>i&&y("overflow"),C==P){for(F=B,z=r;!(F<(A=z<=K?1:z>=K+26?26:z-K));z+=r)lt=F-A,rt=r-A,ft.push(x(v(A+lt%rt,0))),F=T(lt/rt);ft.push(x(v(F,0))),K=R(B,L,H==X),B=0,++H}++B,++P}return ft.join("")}s={version:"1.4.1",ucs2:{decode:u,encode:S},decode:M,encode:D,toASCII:function(O){return b(O,function(P){return h.test(P)?"xn--"+D(P):P})},toUnicode:function(O){return b(O,function(P){return c.test(P)?M(P.slice(4).toLowerCase()):P})}},(l=(function(){return s}).call(I,n,I,o))===void 0||(o.exports=l)})()}).call(this,n(170)(w),n(12))},function(w,I){w.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(w,I,n){w.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},function(w,I,n){I.decode=I.parse=n(173),I.encode=I.stringify=n(174)},function(w,I,n){function o(l,f){return Object.prototype.hasOwnProperty.call(l,f)}w.exports=function(l,f,t,s){f=f||"&",t=t||"=";var i={};if(typeof l!="string"||l.length===0)return i;var r=/\+/g;l=l.split(f);var c=1e3;s&&typeof s.maxKeys=="number"&&(c=s.maxKeys);var h=l.length;c>0&&h>c&&(h=c);for(var d=0;d<h;++d){var g,T,x,y,_=l[d].replace(r,"%20"),b=_.indexOf(t);b>=0?(g=_.substr(0,b),T=_.substr(b+1)):(g=_,T=""),x=decodeURIComponent(g),y=decodeURIComponent(T),o(i,x)?a(i[x])?i[x].push(y):i[x]=[i[x],y]:i[x]=y}return i};var a=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},function(w,I,n){var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};w.exports=function(t,s,i,r){return s=s||"&",i=i||"=",t===null&&(t=void 0),typeof t=="object"?l(f(t),function(c){var h=encodeURIComponent(o(c))+i;return a(t[c])?l(t[c],function(d){return h+encodeURIComponent(o(d))}).join(s):h+encodeURIComponent(o(t[c]))}).join(s):r?encodeURIComponent(o(r))+i+encodeURIComponent(o(t)):""};var a=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function l(t,s){if(t.map)return t.map(s);for(var i=[],r=0;r<t.length;r++)i.push(s(t[r],r));return i}var f=Object.keys||function(t){var s=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&s.push(i);return s}},function(w,I){},function(w,I){},function(w,I,n){(function(o,a){var l=n(28),f=n(66),t=n(13),s=n(178),i=o.from&&o.from!==Uint8Array.from?o.from([0]):new o([0]),r=function(d,g){d._corked?d.once("uncork",g):g()},c=function(d,g){return function(T){T?function(x,y){x._autoDestroy&&x.destroy(y)}(d,T.message==="premature close"?null:T):g&&!d._ended&&d.end()}},h=function(d,g,T){if(!(this instanceof h))return new h(d,g,T);l.Duplex.call(this,T),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!T||T.autoDestroy!==!1,this._forwardDestroy=!T||T.destroy!==!1,this._forwardEnd=!T||T.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,d&&this.setWritable(d),g&&this.setReadable(g)};t(h,l.Duplex),h.obj=function(d,g,T){return T||(T={}),T.objectMode=!0,T.highWaterMark=16,new h(d,g,T)},h.prototype.cork=function(){++this._corked==1&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&--this._corked==0&&this.emit("uncork")},h.prototype.setWritable=function(d){if(this._unwrite&&this._unwrite(),this.destroyed)d&&d.destroy&&d.destroy();else if(d!==null&&d!==!1){var g=this,T=f(d,{writable:!0,readable:!1},c(this,this._forwardEnd)),x=function(){var y=g._ondrain;g._ondrain=null,y&&y()};this._unwrite&&a.nextTick(x),this._writable=d,this._writable.on("drain",x),this._unwrite=function(){g._writable.removeListener("drain",x),T()},this.uncork()}else this.end()},h.prototype.setReadable=function(d){if(this._unread&&this._unread(),this.destroyed)d&&d.destroy&&d.destroy();else{if(d===null||d===!1)return this.push(null),void this.resume();var g,T=this,x=f(d,{writable:!1,readable:!0},c(this)),y=function(){T._forward()},_=function(){T.push(null)};this._drained=!0,this._readable=d,this._readable2=d._readableState?d:(g=d,new l.Readable({objectMode:!0,highWaterMark:16}).wrap(g)),this._readable2.on("readable",y),this._readable2.on("end",_),this._unread=function(){T._readable2.removeListener("readable",y),T._readable2.removeListener("end",_),x()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var d;for(this._forwarding=!0;this._drained&&(d=s(this._readable2))!==null;)this.destroyed||(this._drained=this.push(d));this._forwarding=!1}},h.prototype.destroy=function(d){if(!this.destroyed){this.destroyed=!0;var g=this;a.nextTick(function(){g._destroy(d)})}},h.prototype._destroy=function(d){if(d){var g=this._ondrain;this._ondrain=null,g?g(d):this.emit("error",d)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(d,g,T){return this.destroyed?T():this._corked?r(this,this._write.bind(this,d,g,T)):d===i?this._finish(T):this._writable?void(this._writable.write(d)===!1?this._ondrain=T:T()):T()},h.prototype._finish=function(d){var g=this;this.emit("preend"),r(this,function(){var T,x;T=g._forwardEnd&&g._writable,x=function(){g._writableState.prefinished===!1&&(g._writableState.prefinished=!0),g.emit("prefinish"),r(g,d)},T?T._writableState&&T._writableState.finished?x():T._writableState?T.end(x):(T.end(),x()):x()})},h.prototype.end=function(d,g,T){return typeof d=="function"?this.end(null,null,d):typeof g=="function"?this.end(d,null,g):(this._ended=!0,d&&this.write(d),this._writableState.ending||this.write(i),l.Writable.prototype.end.call(this,T))},w.exports=h}).call(this,n(24).Buffer,n(9))},function(w,I){w.exports=function(n){var o=n._readableState;return o?o.objectMode||typeof n._duplexState=="number"?n.read():n.read(function(a){return a.buffer.length?a.buffer.head?a.buffer.head.data.length:a.buffer[0].length:a.length}(o)):null}},function(w,I){var n=null;typeof WebSocket<"u"?n=WebSocket:typeof MozWebSocket<"u"?n=MozWebSocket:typeof window<"u"&&(n=window.WebSocket||window.MozWebSocket),w.exports=n},function(w,I,n){var o;w.exports=(o=n(43),n(73),n(181),o.HmacSHA256)},function(w,I,n){var o,a,l,f;w.exports=(o=n(43),l=(a=o).lib.Base,f=a.enc.Utf8,void(a.algo.HMAC=l.extend({init:function(t,s){t=this._hasher=new t.init,typeof s=="string"&&(s=f.parse(s));var i=t.blockSize,r=4*i;s.sigBytes>r&&(s=t.finalize(s)),s.clamp();for(var c=this._oKey=s.clone(),h=this._iKey=s.clone(),d=c.words,g=h.words,T=0;T<i;T++)d[T]^=1549556828,g[T]^=909522486;c.sigBytes=h.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var s=this._hasher,i=s.finalize(t);return s.reset(),s.finalize(this._oKey.clone().concat(i))}})))},function(w,I){w.exports={INVALID_CONNECT_OPTIONS:"Invalid connect options supplied.",INVALID_CLIENT_ID_OPTION:'Invalid "clientId" (mqtt client id) option supplied.',INVALID_RECONNECT_TIMING:"Invalid reconnect timing options supplied.",INVALID_OFFLINE_QUEUEING_PARAMETERS:"Invalid offline queueing options supplied."}},function(w,I,n){(function(o){var a=n(44),l=n(33),f=n(184);w.exports=function(t){if(l(t.keyPath)&&l(t.privateKey))throw new Error(f.NO_KEY_OPTION);if(l(t.certPath)&&l(t.clientCert))throw new Error(f.NO_CERT_OPTION);if(l(t.caPath)&&l(t.caCert))throw new Error(f.NO_CA_OPTION);if(!l(t.caCert))if(o.isBuffer(t.caCert))t.ca=t.caCert;else{if(!a.existsSync(t.caCert))throw new Error(f.INVALID_CA_CERT_OPTION);t.ca=a.readFileSync(t.caCert)}if(!l(t.privateKey))if(o.isBuffer(t.privateKey))t.key=t.privateKey;else{if(!a.existsSync(t.privateKey))throw new Error(f.INVALID_PRIVATE_KEY_OPTION);t.key=a.readFileSync(t.privateKey)}if(!l(t.clientCert))if(o.isBuffer(t.clientCert))t.cert=t.clientCert;else{if(!a.existsSync(t.clientCert))throw new Error(f.INVALID_CLIENT_CERT_OPTION);t.cert=a.readFileSync(t.clientCert)}if(a.existsSync(t.keyPath))t.key=a.readFileSync(t.keyPath);else if(!l(t.keyPath))throw new Error(f.INVALID_KEY_PATH_OPTION);if(a.existsSync(t.certPath))t.cert=a.readFileSync(t.certPath);else if(!l(t.certPath))throw new Error(f.INVALID_CERT_PATH_OPTION);if(a.existsSync(t.caPath))t.ca=a.readFileSync(t.caPath);else if(!l(t.caPath))throw new Error(f.INVALID_CA_PATH_OPTION);t.requestCert=!0,t.rejectUnauthorized=!0}}).call(this,n(24).Buffer)},function(w,I){w.exports={NO_KEY_OPTION:'No "keyPath" or "privateKey" option supplied.',NO_CERT_OPTION:'No "certPath" or "clientCert" option supplied.',NO_CA_OPTION:'No "caPath" or "caCert" option supplied.',INVALID_KEY_PATH_OPTION:'Invalid "keyPath" option supplied.',INVALID_CERT_PATH_OPTION:'Invalid "certPath" option supplied.',INVALID_CA_PATH_OPTION:'Invalid "caPath" option supplied.',INVALID_CLIENT_CERT_OPTION:'Invalid "clientCert" option supplied.',INVALID_PRIVATE_KEY_OPTION:'Invalid "privateKey" option supplied.',INVALID_CA_CERT_OPTION:'Invalid "caCert" option supplied.'}},function(w,I,n){(function(o){function a(t,s){for(var i=0,r=t.length-1;r>=0;r--){var c=t[r];c==="."?t.splice(r,1):c===".."?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(s)for(;i--;i)t.unshift("..");return t}function l(t,s){if(t.filter)return t.filter(s);for(var i=[],r=0;r<t.length;r++)s(t[r],r,t)&&i.push(t[r]);return i}I.resolve=function(){for(var t="",s=!1,i=arguments.length-1;i>=-1&&!s;i--){var r=i>=0?arguments[i]:o.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,s=r.charAt(0)==="/")}return(s?"/":"")+(t=a(l(t.split("/"),function(c){return!!c}),!s).join("/"))||"."},I.normalize=function(t){var s=I.isAbsolute(t),i=f(t,-1)==="/";return(t=a(l(t.split("/"),function(r){return!!r}),!s).join("/"))||s||(t="."),t&&i&&(t+="/"),(s?"/":"")+t},I.isAbsolute=function(t){return t.charAt(0)==="/"},I.join=function(){var t=Array.prototype.slice.call(arguments,0);return I.normalize(l(t,function(s,i){if(typeof s!="string")throw new TypeError("Arguments to path.join must be strings");return s}).join("/"))},I.relative=function(t,s){function i(x){for(var y=0;y<x.length&&x[y]==="";y++);for(var _=x.length-1;_>=0&&x[_]==="";_--);return y>_?[]:x.slice(y,_-y+1)}t=I.resolve(t).substr(1),s=I.resolve(s).substr(1);for(var r=i(t.split("/")),c=i(s.split("/")),h=Math.min(r.length,c.length),d=h,g=0;g<h;g++)if(r[g]!==c[g]){d=g;break}var T=[];for(g=d;g<r.length;g++)T.push("..");return(T=T.concat(c.slice(d))).join("/")},I.sep="/",I.delimiter=":",I.dirname=function(t){if(typeof t!="string"&&(t+=""),t.length===0)return".";for(var s=t.charCodeAt(0),i=s===47,r=-1,c=!0,h=t.length-1;h>=1;--h)if((s=t.charCodeAt(h))===47){if(!c){r=h;break}}else c=!1;return r===-1?i?"/":".":i&&r===1?"/":t.slice(0,r)},I.basename=function(t,s){var i=function(r){typeof r!="string"&&(r+="");var c,h=0,d=-1,g=!0;for(c=r.length-1;c>=0;--c)if(r.charCodeAt(c)===47){if(!g){h=c+1;break}}else d===-1&&(g=!1,d=c+1);return d===-1?"":r.slice(h,d)}(t);return s&&i.substr(-1*s.length)===s&&(i=i.substr(0,i.length-s.length)),i},I.extname=function(t){typeof t!="string"&&(t+="");for(var s=-1,i=0,r=-1,c=!0,h=0,d=t.length-1;d>=0;--d){var g=t.charCodeAt(d);if(g!==47)r===-1&&(c=!1,r=d+1),g===46?s===-1?s=d:h!==1&&(h=1):s!==-1&&(h=-1);else if(!c){i=d+1;break}}return s===-1||r===-1||h===0||h===1&&s===r-1&&s===i+1?"":t.slice(s,r)};var f="ab".substr(-1)==="b"?function(t,s,i){return t.substr(s,i)}:function(t,s,i){return s<0&&(s=t.length+s),t.substr(s,i)}}).call(this,n(9))},function(w){w.exports=JSON.parse('{"name":"aws-iot-device-sdk","description":"AWS IoT Node.js SDK for Embedded Devices","version":"2.2.6","author":{"name":"Amazon Web Services","email":"","url":"http://aws.amazon.com"},"homepage":"https://github.com/aws/aws-iot-device-sdk-js","main":"index.js","engines":{"node":">=4.0.0"},"repository":{"type":"git","url":"git://github.com/aws/aws-iot-device-sdk-js"},"bugs":{"url":"http://github.com/aws/aws-iot-device-sdk-js/issues"},"license":"Apache-2.0","keywords":["api","amazon","aws","iot","mqtt"],"dependencies":{"mqtt":"2.18.8","minimist":"1.2.5","websocket-stream":"^5.0.1","crypto-js":"3.1.6"},"devDependencies":{"gulp":"^3.9.0","gulp-concat":"^2.6.0","gulp-jscs":"^4.0.0","gulp-jshint":"^2.0.0","gulp-mocha":"^3.0.1","jshint":"^2.9.1","jshint-stylish":"^2.2.1","gulp-coverage":"^0.3.38","gulp-beautify":"^2.0.0","sinon":"^1.17.3","rewire":"^2.5.1"},"scripts":{"test":"node ./node_modules/gulp/bin/gulp.js test --verbose","browserize":"./scripts/browserize.sh","beautify":"node ./node_modules/gulp/bin/gulp.js beautify"}}')},function(w,I,n){var o=n(44);w.exports=function(a,l){var f;function t(s){a.emit("error",s),f.end()}return(f=o.connect(l)).on("secureConnect",function(){f.authorized?f.removeListener("error",t):f.emit("error",new Error("TLS not authorized"))}),f.on("error",t),f}},function(w,I,n){const o=n(42);w.exports=function(a,l){return o(l.url,["mqttv3.1"],l.websocketOptions)}},function(w,I,n){var o=n(15),a=n(27).inherits,l=n(35),f=n(33);function t(r,c,h){return f(h)?"$aws/things/"+r+"/shadow/"+c:"$aws/things/"+r+"/shadow/"+c+"/"+h}function s(r){return r.substring(0,12)==="$aws/things/"}function i(r,c){if(!(this instanceof i))return new i(r,c);var h=this,d=[{}],g=0,T=1e4,x=!0,y=l.DeviceClient(r);f(c)||f(c.operationTimeout)||(T=c.operationTimeout),this._handleSubscriptions=function(_,b,u,S){for(var v=[],R=0,M=b.length;R<M;R++)for(var D=0,O=b[R].operations.length;D<O;D++)for(var P=0,B=b[R].statii.length;P<B;P++)v.push(t(_,b[R].operations[D],b[R].statii[P]));d[_].debug===!0&&console.log(u+" on "+v);var H=[];H.push(v),u==="subscribe"?(H.push({qos:d[_].qos}),H.push(function(X,K){if(!f(S)){if(X)return void S(X);for(var N=[],q=0,F=K.length;q<F;q++)K[q].qos===128&&N.push(K[q]);if(N.length>0)return void S("Not all subscriptions were granted",N);S()}})):f(S)||H.push(S),y[u].apply(y,H)},this._handleMessages=function(_,b,u,S){var v={};try{v=JSON.parse(S.toString())}catch(D){return void(r.debug===!0&&console.error("failed parsing JSON '"+S.toString()+"', "+D))}var R=v.clientToken,M=v.version;if(delete v.clientToken,!f(M)&&u!=="rejected"){if(f(d[_].version)||M>=d[_].version)d[_].version=M;else if(b!=="delete"&&d[_].discardStale===!0)return void(r.debug===!0&&console.warn("out-of-date version '"+M+"' on '"+_+"' (local version '"+d[_].version+"')"))}u!=="delta"?f(d[_].clientToken)||d[_].clientToken!==R?u==="accepted"&&b!=="get"&&this.emit("foreignStateChange",_,b,v):(clearTimeout(d[_].timeout),delete d[_].timeout,delete d[_].clientToken,d[_].pending=!1,d[_].persistentSubscribe===!1&&this._handleSubscriptions(_,[{operations:[b],statii:["accepted","rejected"]}],"unsubscribe"),this.emit("status",_,u,R,v)):this.emit("delta",_,v)},y.on("connect",function(){h.emit("connect")}),y.on("close",function(){h.emit("close")}),y.on("reconnect",function(){h.emit("reconnect")}),y.on("offline",function(){h.emit("offline")}),y.on("error",function(_){h.emit("error",_)}),y.on("packetsend",function(_){h.emit("packetsend",_)}),y.on("packetreceive",function(_){h.emit("packetreceive",_)}),y.on("message",function(_,b){if(x===!0){var u=_.split("/");(function(S,v){var R=!1;return S[0]==="$aws"&&(S[1]!=="things"||S[3]!=="shadow"||S[4]!=="update"&&S[4]!=="get"&&S[4]!=="delete"||S[5]!=="accepted"&&S[5]!=="rejected"&&S[5]!=="delta"||S.length!==6||(R=!0)),R})(u)?d.hasOwnProperty(u[2])&&h._handleMessages(u[2],u[4],u[5],b):h.emit("message",_,b)}}),this._thingOperation=function(_,b,u){var S=null;if(d.hasOwnProperty(_))if(d[_].pending===!1){var v;if(d[_].pending=!0,f(u.clientToken)){var R=r.clientId.length;v=R>48?r.clientId.substr(R-48)+"-"+g++:r.clientId+"-"+g++}else v=u.clientToken;d[_].clientToken=v;var M=t(_,b);d[_].timeout=setTimeout(function(D,O){d[D].persistentSubscribe===!1&&h._handleSubscriptions(D,[{operations:[b],statii:["accepted","rejected"]}],"unsubscribe"),d[D].pending=!1,delete d[D].timeout,delete d[D].clientToken,h.emit("timeout",D,O)},T,_,v),d[_].persistentSubscribe===!1?this._handleSubscriptions(_,[{operations:[b],statii:["accepted","rejected"]}],"subscribe",function(D,O){f(D)&&f(O)?f(u)||(!f(d[_].version)&&d[_].enableVersioning&&(u.version=d[_].version),u.clientToken=v,y.publish(M,JSON.stringify(u),{qos:d[_].qos}),f(d[_])||d[_].debug!==!0||console.log("publishing '"+JSON.stringify(u)+" on '"+M+"'")):console.warn("failed subscription to accepted/rejected topics")}):(!f(d[_].version)&&d[_].enableVersioning&&(u.version=d[_].version),u.clientToken=v,y.publish(M,JSON.stringify(u),{qos:d[_].qos}),d[_].debug===!0&&console.log("publishing '"+JSON.stringify(u)+" on '"+M+"'")),S=v}else r.debug===!0&&console.error(b+" still in progress on thing: ",_);else r.debug===!0&&console.error("attempting to "+b+" unknown thing: ",_);return S},this.register=function(_,b,u){if(d.hasOwnProperty(_))r.debug===!0&&console.error("thing already registered: ",_);else{var S=!1,v=[];d[_]={persistentSubscribe:!0,debug:!1,discardStale:!0,enableVersioning:!0,qos:0,pending:!0},typeof b=="function"&&(u=b,b=null),f(b)||(f(b.ignoreDeltas)||(S=b.ignoreDeltas),f(b.persistentSubscribe)||(d[_].persistentSubscribe=b.persistentSubscribe),f(b.debug)||(d[_].debug=b.debug),f(b.discardStale)||(d[_].discardStale=b.discardStale),f(b.enableVersioning)||(d[_].enableVersioning=b.enableVersioning),f(b.qos)||(d[_].qos=b.qos)),S===!1&&v.push({operations:["update"],statii:["delta"]}),d[_].persistentSubscribe===!0&&v.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),v.length>0?this._handleSubscriptions(_,v,"subscribe",function(R,M){f(R)&&f(M)&&(d[_].pending=!1),f(u)||u(R,M)}):(d[_].pending=!1,f(u)||u())}},this.unregister=function(_){if(d.hasOwnProperty(_)){var b=[];b.push({operations:["update"],statii:["delta"]}),d[_].persistentSubscribe===!0&&b.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),this._handleSubscriptions(_,b,"unsubscribe"),f(d[_].timeout)||clearTimeout(d[_].timeout),delete d[_]}else r.debug===!0&&console.error("attempting to unregister unknown thing: ",_)},this.update=function(_,b){var u=null;return f(b.version)?u=h._thingOperation(_,"update",b):console.error("message can't contain 'version' property"),u},this.get=function(_,b){var u={};return f(b)||(u.clientToken=b),h._thingOperation(_,"get",u)},this.delete=function(_,b){var u={};return f(b)||(u.clientToken=b),h._thingOperation(_,"delete",u)},this.publish=function(_,b,u,S){if(s(_))throw"cannot publish to reserved topic '"+_+"'";y.publish(_,b,u,S)},this.subscribe=function(_,b,u){var S=[];typeof _=="string"?S.push(_):typeof _=="object"&&_.length&&(S=_);for(var v=0;v<S.length;v++)if(s(S[v]))throw"cannot subscribe to topic array since one of them is a reserved topic '"+S[v]+"'";y.subscribe(S,b,u)},this.unsubscribe=function(_,b){var u=[];typeof _=="string"?u.push(_):typeof _=="object"&&_.length&&(u=_);for(var S=0;S<u.length;S++)if(s(u[S]))throw"cannot unsubscribe from topic array since one of them is a reserved topic '"+u[S]+"'";y.unsubscribe(u,b)},this.end=function(_,b){y.end(_,b)},this.updateWebSocketCredentials=function(_,b,u,S){y.updateWebSocketCredentials(_,b,u,S)},this.updateCustomAuthHeaders=function(_){y.updateCustomAuthHeaders(_)},this.setConnectionStatus=function(_){x=_},o.EventEmitter.call(this)}a(i,o.EventEmitter),w.exports=i},function(w,I,n){var o=n(15),a=n(27).inherits,l=n(35),f=n(33);function t(i,r,c){var h="$aws/things/"+i+"/jobs/";return f(c)?c=r:h+=r.toString()+"/",h+=c}function s(i){if(!(this instanceof s))return new s(i);var r=this,c=[],h=l.DeviceClient(i);this._updateJobStatus=function(d,g,T,x,y){typeof x=="function"&&(y=x,x=void 0),f(i)||i.debug!==!0||console.log("updateJobStatus:",{thingName:d,jobId:g.id,status:T,statusDetails:x}),h.publish(t(d,g.id,"update"),JSON.stringify({status:T,statusDetails:x}),null,function(_){f(_)&&(g.status={status:T,statusDetails:x}),f(y)||y(_)})},this._buildJobObject=function(d,g){if(f(g)||f(g.jobId))return null;var T={};return T.id=g.jobId,T.document=g.jobDocument,T.operation=T.document.operation,T.status={status:g.status,statusDetails:g.statusDetails},T.inProgress=function(x,y){r._updateJobStatus(d,T,"IN_PROGRESS",x,y)},T.failed=function(x,y){r._updateJobStatus(d,T,"FAILED",x,y)},T.succeeded=function(x,y){r._updateJobStatus(d,T,"SUCCEEDED",x,y)},T},this._handleMessages=function(d,g){var T=d.split("/");if(function(S){return S[0]==="$aws"&&S[1]==="things"&&S[3]==="jobs"}(T)){var x=T[2],y=c.find(function(S){return S.thingName===x});if(!f(y)){var _={};try{_=JSON.parse(g.toString())}catch(S){return void(i.debug===!0&&console.error("failed parsing JSON '"+g.toString()+"', "+S))}if(!(f(_.execution)||f(_.execution.jobId)||f(_.execution.jobDocument))){var b=_.execution.jobDocument.operation,u=y.operations.find(function(S){return f(b)?f(S.operationName):b===S.operationName});f(u)&&(u=y.operations.find(function(S){return f(S.operationName)}),f(u))||u.callback(null,r._buildJobObject(x,_.execution))}}}else r.emit("message",d,g)},this.subscribeToJobs=function(d,g,T){f(T)&&(T=g,g=null),f(i)||i.debug!==!0||console.log("subscribeToJobs:",{thingName:d,operationName:g});var x=c.find(function(_){return _.thingName===d});f(x)&&(x={thingName:d,operations:[]},c.push(x),h.subscribe([t(d,"$next/get/accepted"),t(d,"notify-next")],function(_,b){f(_)||T(_)}));var y=x.operations.find(function(_){return f(g)?f(_.operationName):g===_.operationName});f(y)?(y={operationName:g,callback:T},x.operations.push(y)):y.callback=T},this.unsubscribeFromJobs=function(d,g,T){f(T)&&(T=g,g=null),f(i)||i.debug!==!0||console.log("unsubscribeFromJobs:",{thingName:d,operationName:g});var x=c.findIndex(function(b){return b.thingName===d}),y=new Error("subscription not found for given thing");if(x<0)T(y);else{var _=c[x].operations.findIndex(function(b){return f(g)?f(b.operationName):g===b.operationName});if(_<0)T(y);else{if(c[x].operations.splice(_,1),c[x].operations.length===0)return c.splice(x,1),void h.unsubscribe([t(d,"$next/get/accepted"),t(d,"notify-next")],T);T()}}},this.startJobNotifications=function(d,g){f(i)||i.debug!==!0||console.log("startJobNotifications:",{thingName:d}),h.publish(t(d,"$next","get"),"{}",g)},h.on("connect",function(){r.emit("connect")}),h.on("close",function(){r.emit("close")}),h.on("reconnect",function(){r.emit("reconnect")}),h.on("offline",function(){r.emit("offline")}),h.on("error",function(d){r.emit("error",d)}),h.on("message",r._handleMessages),this.publish=h.publish,this.subscribe=h.subscribe,this.unsubscribe=h.unsubscribe,this.end=h.end,this.handleMessage=h.handleMessage,this.updateWebSocketCredentials=h.updateWebSocketCredentials,this.simulateNetworkFailure=h.simulateNetworkFailure}a(s,o.EventEmitter),w.exports=s},function(w,I,n){var o=n(10),a=n(74),l=n(192),f=n(80);function t(i){var r=new l(i),c=a(l.prototype.request,r);return o.extend(c,l.prototype,r),o.extend(c,r),c}var s=t(n(45));s.Axios=l,s.create=function(i){return t(f(s.defaults,i))},s.Cancel=n(81),s.CancelToken=n(206),s.isCancel=n(79),s.all=function(i){return Promise.all(i)},s.spread=n(207),s.isAxiosError=n(208),w.exports=s,w.exports.default=s},function(w,I,n){var o=n(10),a=n(75),l=n(193),f=n(194),t=n(80),s=n(204),i=s.validators;function r(c){this.defaults=c,this.interceptors={request:new l,response:new l}}r.prototype.request=function(c){typeof c=="string"?(c=arguments[1]||{}).url=arguments[0]:c=c||{},(c=t(this.defaults,c)).method?c.method=c.method.toLowerCase():this.defaults.method?c.method=this.defaults.method.toLowerCase():c.method="get";var h=c.transitional;h!==void 0&&s.assertOptions(h,{silentJSONParsing:i.transitional(i.boolean,"1.0.0"),forcedJSONParsing:i.transitional(i.boolean,"1.0.0"),clarifyTimeoutError:i.transitional(i.boolean,"1.0.0")},!1);var d=[],g=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(c)===!1||(g=g&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});var T,x=[];if(this.interceptors.response.forEach(function(S){x.push(S.fulfilled,S.rejected)}),!g){var y=[f,void 0];for(Array.prototype.unshift.apply(y,d),y.concat(x),T=Promise.resolve(c);y.length;)T=T.then(y.shift(),y.shift());return T}for(var _=c;d.length;){var b=d.shift(),u=d.shift();try{_=b(_)}catch(S){u(S);break}}try{T=f(_)}catch(S){return Promise.reject(S)}for(;x.length;)T=T.then(x.shift(),x.shift());return T},r.prototype.getUri=function(c){return c=t(this.defaults,c),a(c.url,c.params,c.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(c){r.prototype[c]=function(h,d){return this.request(t(d||{},{method:c,url:h,data:(d||{}).data}))}}),o.forEach(["post","put","patch"],function(c){r.prototype[c]=function(h,d,g){return this.request(t(g||{},{method:c,url:h,data:d}))}}),w.exports=r},function(w,I,n){var o=n(10);function a(){this.handlers=[]}a.prototype.use=function(l,f,t){return this.handlers.push({fulfilled:l,rejected:f,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(l){this.handlers[l]&&(this.handlers[l]=null)},a.prototype.forEach=function(l){o.forEach(this.handlers,function(f){f!==null&&l(f)})},w.exports=a},function(w,I,n){var o=n(10),a=n(195),l=n(79),f=n(45);function t(s){s.cancelToken&&s.cancelToken.throwIfRequested()}w.exports=function(s){return t(s),s.headers=s.headers||{},s.data=a.call(s,s.data,s.headers,s.transformRequest),s.headers=o.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(i){delete s.headers[i]}),(s.adapter||f.adapter)(s).then(function(i){return t(s),i.data=a.call(s,i.data,i.headers,s.transformResponse),i},function(i){return l(i)||(t(s),i&&i.response&&(i.response.data=a.call(s,i.response.data,i.response.headers,s.transformResponse))),Promise.reject(i)})}},function(w,I,n){var o=n(10),a=n(45);w.exports=function(l,f,t){var s=this||a;return o.forEach(t,function(i){l=i.call(s,l,f)}),l}},function(w,I,n){var o=n(10);w.exports=function(a,l){o.forEach(a,function(f,t){t!==l&&t.toUpperCase()===l.toUpperCase()&&(a[l]=f,delete a[t])})}},function(w,I,n){var o=n(78);w.exports=function(a,l,f){var t=f.config.validateStatus;f.status&&t&&!t(f.status)?l(o("Request failed with status code "+f.status,f.config,null,f.request,f)):a(f)}},function(w,I,n){var o=n(10);w.exports=o.isStandardBrowserEnv()?{write:function(a,l,f,t,s,i){var r=[];r.push(a+"="+encodeURIComponent(l)),o.isNumber(f)&&r.push("expires="+new Date(f).toGMTString()),o.isString(t)&&r.push("path="+t),o.isString(s)&&r.push("domain="+s),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read:function(a){var l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(w,I,n){var o=n(200),a=n(201);w.exports=function(l,f){return l&&!o(f)?a(l,f):f}},function(w,I,n){w.exports=function(o){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(o)}},function(w,I,n){w.exports=function(o,a){return a?o.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):o}},function(w,I,n){var o=n(10),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];w.exports=function(l){var f,t,s,i={};return l&&o.forEach(l.split(`
`),function(r){if(s=r.indexOf(":"),f=o.trim(r.substr(0,s)).toLowerCase(),t=o.trim(r.substr(s+1)),f){if(i[f]&&a.indexOf(f)>=0)return;i[f]=f==="set-cookie"?(i[f]?i[f]:[]).concat([t]):i[f]?i[f]+", "+t:t}}),i}},function(w,I,n){var o=n(10);w.exports=o.isStandardBrowserEnv()?function(){var a,l=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");function t(s){var i=s;return l&&(f.setAttribute("href",i),i=f.href),f.setAttribute("href",i),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return a=t(window.location.href),function(s){var i=o.isString(s)?t(s):s;return i.protocol===a.protocol&&i.host===a.host}}():function(){return!0}},function(w,I,n){var o=n(205),a={};["object","boolean","number","function","string","symbol"].forEach(function(s,i){a[s]=function(r){return typeof r===s||"a"+(i<1?"n ":" ")+s}});var l={},f=o.version.split(".");function t(s,i){for(var r=i?i.split("."):f,c=s.split("."),h=0;h<3;h++){if(r[h]>c[h])return!0;if(r[h]<c[h])return!1}return!1}a.transitional=function(s,i,r){var c=i&&t(i);function h(d,g){return"[Axios v"+o.version+"] Transitional option '"+d+"'"+g+(r?". "+r:"")}return function(d,g,T){if(s===!1)throw new Error(h(g," has been removed in "+i));return c&&!l[g]&&(l[g]=!0,console.warn(h(g," has been deprecated since v"+i+" and will be removed in the near future"))),!s||s(d,g,T)}},w.exports={isOlderVersion:t,assertOptions:function(s,i,r){if(typeof s!="object")throw new TypeError("options must be an object");for(var c=Object.keys(s),h=c.length;h-- >0;){var d=c[h],g=i[d];if(g){var T=s[d],x=T===void 0||g(T,d,s);if(x!==!0)throw new TypeError("option "+d+" must be "+x)}else if(r!==!0)throw Error("Unknown option "+d)}},validators:a}},function(w){w.exports=JSON.parse('{"name":"axios","version":"0.21.2","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(w,I,n){var o=n(81);function a(l){if(typeof l!="function")throw new TypeError("executor must be a function.");var f;this.promise=new Promise(function(s){f=s});var t=this;l(function(s){t.reason||(t.reason=new o(s),f(t.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var l;return{token:new a(function(f){l=f}),cancel:l}},w.exports=a},function(w,I,n){w.exports=function(o){return function(a){return o.apply(null,a)}}},function(w,I,n){w.exports=function(o){return typeof o=="object"&&o.isAxiosError===!0}},function(w,I,n){n.r(I),n.d(I,"InPlayer",function(){return qe});var o=n(4),a=n.n(o),l=n(6),f=n.n(l),t=n(2),s=n.n(t),i=n(0),r=n.n(i),c=n(1),h=n.n(c),d=n(17),g=n.n(d),T=n(7),x=n.n(T),y=n(8),_=n.n(y),b=n(5),u=n.n(b),S=n(3),v=n.n(S);function R(V,Z){var Y=Object.keys(V);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(V);Z&&(J=J.filter(function(ut){return Object.getOwnPropertyDescriptor(V,ut).enumerable})),Y.push.apply(Y,J)}return Y}function M(V){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?R(Object(Y),!0).forEach(function(J){s()(V,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Y)):R(Object(Y)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(Y,J))})}return V}var D={INPLAYER_TOKEN_KEY:"inplayer_token",INPLAYER_IOT_KEY:"inplayer_iot",INPLAYER_ACCESS_CODE_NAME:function(V){return"access_code_".concat(V)},IOT_NOTIF_URL:"a3gkl64duktvc4-ats.iot.eu-west-1.amazonaws.com"},O=M(M({},D),{},{BASE_URL:"https://services-daily.inplayer.com",AWS_IOT_URL:"https://daily-notifications.inplayer.com/iot/keys"}),P={development:M(M({},D),{},{BASE_URL:"https://staging-v2.inplayer.com",AWS_IOT_URL:"https://staging-notifications.inplayer.com/iot/keys"}),production:M(M({},D),{},{BASE_URL:"https://services.inplayer.com",AWS_IOT_URL:"https://notifications.inplayer.com/iot/keys"}),daily:O},B=function V(Z,Y){var J=this;a()(this,V),s()(this,"config",void 0),s()(this,"request",void 0),s()(this,"setConfig",function(ut){J.config=P[ut]}),this.config=Z,this.request=Y},H="/accounts",X="v2/accounts",K="/accounts/authenticate",N="/v2/accounts/authenticate",q="/accounts/logout",F="/accounts/change-password",z="/accounts/forgot-password",A=function(V){return"/accounts/forgot-password/".concat(V)},C="/accounts",U="/accounts",L="/accounts/export",rt="/accounts/erase",lt=function(V){return"/accounts/social?state=".concat(V)},ft=function(V){return"/accounts/register-fields/".concat(V)},vt=function(V){return"".concat(V,"/sso/cookie")},it="/v2/accounts/pin-codes/send",p="/v2/accounts/pin-codes/validate",m="/v2/accounts/customers/data-capture",e=function(V){return"/v2/accounts/external/".concat(V)},k="/v2/accounts/media/favorites",E=function(V){return"/v2/accounts/media/favorites/".concat(V)},j="/v2/accounts/media/watch-history",G=function(V){return"/v2/accounts/media/watch-history/".concat(V)},W="/v2/accounts/profiles",ot=function(V){return"/v2/accounts/profiles/".concat(V)},yt=function(V){return"/restrictions/settings/".concat(V)},nt=function(V,Z){return"/items/".concat(Z?"".concat(Z,"/"):"").concat(V)},dt=function(V,Z,Y){var J="/items/assets/external/".concat(V,"/").concat(Z);return Y&&(J+="?merchant_uuid=".concat(Y)),J},ht=function(V){return"/items/".concat(V,"/access")},Jt=function(V){return"/items/used-trial-period/".concat(V)},Qt=function(V){return"/items/packages/".concat(V)},te=function(V){return"items/packages/".concat(V,"/items")},ce=function(V){return"v2/items/".concat(V,"/access-fees")},Se=function(V,Z){return"/items/".concat(V,"/access/cloudfront?url=").concat(Z)},ge=function(V,Z,Y){return"/items/access/customers?status=".concat(V,"&page=").concat(Z,"&size=").concat(Y)},fe=function(){return"/v2/accounting/payment-history"},Te=function(V){return"/v2/accounting/transactions/".concat(V,"/receipt")},Vt="/items/access/codes/entry",$t=function(V){return"items/access/codes/".concat(V,"/sessions")},ee=function(V,Z){return"items/access/codes/".concat(V,"/").concat(Z)},oe=function(V){return"v2/items/".concat(V,"/donations")},le=function(V,Z){return"v2/items/jw-media/token?app_config_id=".concat(V,"&media_id=").concat(Z)},Ee=function(V){return"/v3/sites/".concat(V,"/entitlements")},me="/payments/methods",Ce="/payments",ye="/v2/payments",Pe="/v2/payments/cards/default",je="/v2/payments/cards/default",ze="/external-payments",He="/v2/payments/direct-debit/mandate",We="/v2/payments/direct-debit/mandate",Ve="/v2/payments/donation",Ge="/v2/payments/donation:confirm",Ke=function(V){return"v2/external-payments/".concat(V,"/validate")},Ye=function(V,Z,Y,J,ut){var Tt="/payments/transactions?exclude=store-payment&size=".concat(V,"&page=").concat(Z);return Y&&(Tt+="&startDate=".concat(Y)),J&&(Tt+="&endDate=".concat(J)),ut&&(Tt+="&type=".concat(ut)),Tt},Je=function(V,Z){return"/v3/sites/".concat(V,"/plans").concat(Z?"?".concat(Z):"")},Xe=function(V,Z){return"/v3/sites/".concat(V,"/plans/").concat(Z,"/prices")},Qe=function(V,Z,Y){var J="/subscriptions?limit=".concat(V,"&page=").concat(Z);return Y&&(J+="&status=".concat(Y)),J},$e=function(V){return"/subscriptions/".concat(V)},Ze=function(V){return"".concat(V)},tr="/subscriptions",ve="/v2/subscriptions",er="/v2/subscriptions/stripe:switch",rr="/vouchers/discount",nr=function(V,Z){return"/branding/paywall/".concat(V,"/").concat(Z)},ir=function(V){return"/v2/nfts/marketplaces/".concat(V)},or=function(V,Z,Y,J){return"/v2/nfts/".concat(V,"?filter=").concat(J,"&page=").concat(Z,"&size=").concat(Y)},ar=function(V,Z){return"/v2/nfts/".concat(V,"/").concat(Z)},sr=function(V,Z){return"/v2/nfts/exchange-rate/".concat(V).concat(Z?"?invert=true":"")},ur=function(V,Z){return"/v2/nfts?page=".concat(V,"&size=").concat(Z)},cr=function(V,Z){return"/v2/nfts/".concat(V,"/").concat(Z,"/reserve")},fr="/v2/features",ie=new function V(){var Z=this;a()(this,V),s()(this,"storage",{}),s()(this,"setItem",function(Y,J){return Z.overrides.setItem(Y,J)}),s()(this,"getItem",function(Y){return Z.overrides.getItem(Y)}),s()(this,"removeItem",function(Y){return Z.overrides.removeItem(Y)}),s()(this,"overrides",{setItem:function(Y,J){var ut;(ut=localStorage)!==null&&ut!==void 0&&ut.setItem?localStorage.setItem(Y,J):Z.storage[Y]=J},getItem:function(Y){var J;return(J=localStorage)!==null&&J!==void 0&&J.getItem?localStorage.getItem(Y):Z.storage[Y]||null},removeItem:function(Y){var J;(J=localStorage)!==null&&J!==void 0&&J.removeItem?localStorage.removeItem(Y):delete Z.storage[Y]}})};function lr(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var hr=function(V){x()(ae,V);var Z,Y,J,ut,Tt,qt,Dt,Ut,Rt,Ht,Mt,Et,ct,At,Lt,Xt,Gt,Ft,xt,kt,gt,bt,It,Kt,mt,Q,st,_t,St,Pt,Bt,Nt,Ct,zt,Wt,pe,ke=lr(ae);function ae(at,et){var $;return a()(this,ae),$=ke.call(this,at,et),s()(g()($),"isAuthenticated",$.request.isAuthenticated),s()(g()($),"getToken",$.request.getToken),s()(g()($),"setToken",$.request.setToken),s()(g()($),"removeToken",$.request.removeToken),$}return f()(ae,[{key:"signIn",value:(pe=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot,Yt,re;return r.a.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return $=et.email,tt=et.clientId,pt=et.clientSecret,wt=et.refreshToken,jt=et.referrer,Ot=et.password,Yt={client_id:tt,grant_type:"password",referrer:jt},pt&&(Yt.client_secret=pt,Yt.grant_type="client_credentials"),wt?(Yt.refresh_token=wt,Yt.grant_type="refresh_token"):(Yt.username=$,Yt.password=Ot),Zt.next=6,this.request.post(K,v.a.stringify(Yt),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:return re=Zt.sent,Zt.next=9,this.request.setToken(re.data.access_token,re.data.refresh_token,re.data.expires);case 9:return Zt.abrupt("return",re);case 10:case"end":return Zt.stop()}},at,this)})),function(at){return pe.apply(this,arguments)})},{key:"signInV2",value:(Wt=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot;return r.a.wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return $=et.email,tt=et.clientId,pt=et.referrer,wt=et.password,jt={client_id:tt,grant_type:"password",referrer:pt,username:$,password:wt},Yt.next=4,this.request.post(N,v.a.stringify(jt),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 4:return Ot=Yt.sent,Yt.next=7,this.request.setToken(Ot.data.access_token,Ot.data.refresh_token,Ot.data.expires);case 7:return Yt.abrupt("return",Ot);case 8:case"end":return Yt.stop()}},at,this)})),function(at){return Wt.apply(this,arguments)})},{key:"signUp",value:(zt=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot,Yt,re,Zt,de,se;return r.a.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return $=et.fullName,tt=et.email,pt=et.password,wt=et.passwordConfirmation,jt=et.type,Ot=et.clientId,Yt=et.referrer,re=et.metadata,Zt=et.brandingId,de={full_name:$,username:tt,password:pt,password_confirmation:wt,client_id:Ot,type:jt,referrer:Yt,grant_type:"password",metadata:re,branding_id:Zt},ne.next=4,this.request.post(H,v.a.stringify(de),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 4:return se=ne.sent,ne.next=7,this.request.setToken(se.data.access_token,se.data.refresh_token,se.data.expires);case 7:return ne.abrupt("return",se);case 8:case"end":return ne.stop()}},at,this)})),function(at){return zt.apply(this,arguments)})},{key:"signUpV2",value:(Ct=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot,Yt,re,Zt,de,se,ne;return r.a.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return $=et.fullName,tt=et.email,pt=et.password,wt=et.passwordConfirmation,jt=et.clientId,Ot=et.type,Yt=Ot===void 0?"consumer":Ot,re=et.referrer,Zt=et.metadata,de=et.brandingId,se={full_name:$,username:tt,password:pt,password_confirmation:wt,client_id:jt,type:Yt,referrer:re,grant_type:"password",metadata:Zt,branding_id:de},ue.next=4,this.request.post(X,v.a.stringify(se),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 4:return ne=ue.sent,ue.next=7,this.request.setToken(ne.data.access_token,ne.data.refresh_token,ne.data.expires);case 7:return ue.abrupt("return",ne);case 8:case"end":return ue.stop()}},at,this)})),function(at){return Ct.apply(this,arguments)})},{key:"signOut",value:(Nt=h()(r.a.mark(function at(){var et,$;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return et=tt.sent,tt.next=5,this.request.get(q,{headers:{Authorization:"Bearer ".concat(et.token)}});case 5:return $=tt.sent,tt.next=8,this.request.removeToken();case 8:return tt.abrupt("return",$);case 9:case"end":return tt.stop()}},at,this)})),function(){return Nt.apply(this,arguments)})},{key:"refreshToken",value:(Bt=h()(r.a.mark(function at(et){var $,tt,pt;return r.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.next=2,this.request.getToken();case 2:if(($=wt.sent).refreshToken){wt.next=6;break}throw{response:{status:401,data:{code:401,message:"The refresh token is not present"}}};case 6:return tt={refresh_token:$.refreshToken,client_id:et,grant_type:"refresh_token"},wt.next=9,this.request.post(K,v.a.stringify(tt),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:return pt=wt.sent,wt.abrupt("return",pt);case 11:case"end":return wt.stop()}},at,this)})),function(at){return Bt.apply(this,arguments)})},{key:"reportSSOtoken",value:(Pt=h()(r.a.mark(function at(et,$){var tt,pt,wt=arguments;return r.a.wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return tt=wt.length>2&&wt[2]!==void 0&&wt[2],(pt=new FormData).append("token",$),pt.append("delete",tt?"1":"0"),jt.abrupt("return",this.request.post(vt(et),pt,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}));case 5:case"end":return jt.stop()}},at,this)})),function(at,et){return Pt.apply(this,arguments)})},{key:"requestNewPassword",value:(St=h()(r.a.mark(function at(et){var $,tt,pt,wt;return r.a.wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return $=et.email,tt=et.merchantUuid,pt=et.brandingId,wt={email:$,merchant_uuid:tt,branding_id:pt},jt.abrupt("return",this.request.post(z,v.a.stringify(wt),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 3:case"end":return jt.stop()}},at,this)})),function(at){return St.apply(this,arguments)})},{key:"setNewPassword",value:(_t=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot,Yt,re=arguments;return r.a.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return $=et.password,tt=et.passwordConfirmation,pt=et.brandingId,wt=re.length>1&&re[1]!==void 0?re[1]:"",jt=encodeURIComponent($),Ot=encodeURIComponent(tt),Yt="password=".concat(jt,"&password_confirmation=").concat(Ot,"&branding_id=").concat(pt),Zt.abrupt("return",this.request.put(A(wt),Yt,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Zt.stop()}},at,this)})),function(at){return _t.apply(this,arguments)})},{key:"syncWithExternalAccount",value:(st=h()(r.a.mark(function at(et,$){var tt,pt;return r.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return tt={item_id:$},wt.next=3,this.request.getToken();case 3:return pt=wt.sent,wt.abrupt("return",this.request.post(e(et),v.a.stringify(tt),{headers:{Authorization:"Bearer ".concat(pt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return wt.stop()}},at,this)})),function(at,et){return st.apply(this,arguments)})},{key:"updateExternalAccount",value:(Q=h()(r.a.mark(function at(et,$){var tt;return r.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,this.request.getToken();case 2:return tt=pt.sent,pt.abrupt("return",this.request.patch(e(et),v.a.stringify($),{headers:{Authorization:"Bearer ".concat(tt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return pt.stop()}},at,this)})),function(at,et){return Q.apply(this,arguments)})},{key:"getAccountInfo",value:(mt=h()(r.a.mark(function at(){var et;return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.request.getToken();case 2:return et=$.sent,$.abrupt("return",this.request.get(C,{headers:{Authorization:"Bearer ".concat(et.token)}}));case 4:case"end":return $.stop()}},at,this)})),function(){return mt.apply(this,arguments)})},{key:"getSocialLoginUrls",value:(Kt=h()(r.a.mark(function at(et){return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",this.request.get(lt(et)));case 1:case"end":return $.stop()}},at,this)})),function(at){return Kt.apply(this,arguments)})},{key:"updateAccount",value:(It=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt;return r.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return $=et.fullName,tt=et.metadata,pt=et.dateOfBirth,wt={full_name:$},tt&&(wt.metadata=tt),pt&&(wt.date_of_birth=pt),Ot.next=6,this.request.getToken();case 6:return jt=Ot.sent,Ot.abrupt("return",this.request.put(U,v.a.stringify(wt),{headers:{Authorization:"Bearer ".concat(jt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return Ot.stop()}},at,this)})),function(at){return It.apply(this,arguments)})},{key:"changePassword",value:(bt=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt,Ot;return r.a.wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return $=et.password,tt=et.passwordConfirmation,pt=et.oldPassword,wt=et.brandingId,jt={old_password:pt,password:$,password_confirmation:tt,branding_id:wt},Yt.next=4,this.request.getToken();case 4:return Ot=Yt.sent,Yt.abrupt("return",this.request.post(F,v.a.stringify(jt),{headers:{Authorization:"Bearer ".concat(Ot.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Yt.stop()}},at,this)})),function(at){return bt.apply(this,arguments)})},{key:"getRegisterFields",value:(gt=h()(r.a.mark(function at(){var et,$=arguments;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return et=$.length>0&&$[0]!==void 0?$[0]:"",tt.abrupt("return",this.request.get(ft(et)));case 2:case"end":return tt.stop()}},at,this)})),function(){return gt.apply(this,arguments)})},{key:"deleteAccount",value:(kt=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt;return r.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return $=et.password,tt=et.brandingId,pt={password:$,branding_id:tt},Ot.next=4,this.request.getToken();case 4:return wt=Ot.sent,Ot.next=7,this.request.delete(rt,{headers:{Authorization:"Bearer ".concat(wt.token),"Content-Type":"application/x-www-form-urlencoded"},data:v.a.stringify(pt)});case 7:return jt=Ot.sent,Ot.next=10,Promise.all([ie.removeItem(this.config.INPLAYER_TOKEN_KEY),ie.removeItem(this.config.INPLAYER_IOT_KEY)]);case 10:return Ot.abrupt("return",jt);case 11:case"end":return Ot.stop()}},at,this)})),function(at){return kt.apply(this,arguments)})},{key:"exportData",value:(xt=h()(r.a.mark(function at(et){var $,tt,pt,wt;return r.a.wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return $=et.password,tt=et.brandingId,pt={password:$,branding_id:tt},jt.next=4,this.request.getToken();case 4:return wt=jt.sent,jt.abrupt("return",this.request.post(L,v.a.stringify(pt),{headers:{Authorization:"Bearer ".concat(wt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return jt.stop()}},at,this)})),function(at){return xt.apply(this,arguments)})},{key:"sendPinCode",value:(Ft=h()(r.a.mark(function at(et){var $,tt;return r.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return $={branding_id:et},pt.next=3,this.request.getToken();case 3:return tt=pt.sent,pt.abrupt("return",this.request.post(it,v.a.stringify($),{headers:{Authorization:"Bearer ".concat(tt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return pt.stop()}},at,this)})),function(at){return Ft.apply(this,arguments)})},{key:"validatePinCode",value:(Gt=h()(r.a.mark(function at(et){var $,tt;return r.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return $={pin_code:et},pt.next=3,this.request.getToken();case 3:return tt=pt.sent,pt.abrupt("return",this.request.post(p,v.a.stringify($),{headers:{Authorization:"Bearer ".concat(tt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return pt.stop()}},at,this)})),function(at){return Gt.apply(this,arguments)})},{key:"loadMerchantRestrictionSettings",value:(Xt=h()(r.a.mark(function at(et){return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",this.request.get(yt(et)));case 1:case"end":return $.stop()}},at,this)})),function(at){return Xt.apply(this,arguments)})},{key:"getFavorites",value:(Lt=h()(r.a.mark(function at(){var et;return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.request.getToken();case 2:return et=$.sent,$.abrupt("return",this.request.get(k,{headers:{Authorization:"Bearer ".concat(et.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return $.stop()}},at,this)})),function(){return Lt.apply(this,arguments)})},{key:"getFavorite",value:(At=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.get(E(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return At.apply(this,arguments)})},{key:"addToFavorites",value:(ct=h()(r.a.mark(function at(et){var $,tt;return r.a.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return $={media_id:et},pt.next=3,this.request.getToken();case 3:return tt=pt.sent,pt.abrupt("return",this.request.post(k,v.a.stringify($),{headers:{Authorization:"Bearer ".concat(tt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return pt.stop()}},at,this)})),function(at){return ct.apply(this,arguments)})},{key:"deleteFromFavorites",value:(Et=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.delete(E(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return Et.apply(this,arguments)})},{key:"getWatchHistory",value:(Mt=h()(r.a.mark(function at(et){var $,tt,pt,wt,jt;return r.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return $=et.filter,tt=$===void 0?"currently_watching":$,pt=et.cursor,wt=pt===void 0?"":pt,Ot.next=3,this.request.getToken();case 3:return jt=Ot.sent,Ot.abrupt("return",this.request.get("".concat(j,"?filter=").concat(tt,"&cursor=").concat(wt),{headers:{Authorization:"Bearer ".concat(jt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return Ot.stop()}},at,this)})),function(at){return Mt.apply(this,arguments)})},{key:"getWatchHistoryForItem",value:(Ht=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.get(G(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return Ht.apply(this,arguments)})},{key:"updateWatchHistory",value:(Rt=h()(r.a.mark(function at(et,$){var tt,pt;return r.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return tt={media_id:et,progress:$},wt.next=3,this.request.getToken();case 3:return pt=wt.sent,wt.abrupt("return",this.request.patch(j,v.a.stringify(tt),{headers:{Authorization:"Bearer ".concat(pt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return wt.stop()}},at,this)})),function(at,et){return Rt.apply(this,arguments)})},{key:"deleteWatchHistoryForItem",value:(Ut=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.delete(G(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return Ut.apply(this,arguments)})},{key:"getProfiles",value:(Dt=h()(r.a.mark(function at(){var et;return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.request.getToken();case 2:return et=$.sent,$.abrupt("return",this.request.get(W,{headers:{Authorization:"Bearer ".concat(et.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return $.stop()}},at,this)})),function(){return Dt.apply(this,arguments)})},{key:"enterProfile",value:(qt=h()(r.a.mark(function at(et,$){var tt,pt;return r.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return tt={pin:$},wt.next=3,this.request.getToken();case 3:return pt=wt.sent,wt.abrupt("return",this.request.post("".concat(ot(et),"/token"),v.a.stringify(tt),{headers:{Authorization:"Bearer ".concat(pt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return wt.stop()}},at,this)})),function(at,et){return qt.apply(this,arguments)})},{key:"createProfile",value:(Tt=h()(r.a.mark(function at(et,$,tt,pt){var wt,jt;return r.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return wt={name:et,adult:$,avatar_url:tt,pin:pt},Ot.next=3,this.request.getToken();case 3:return jt=Ot.sent,Ot.abrupt("return",this.request.post(W,v.a.stringify(wt),{headers:{Authorization:"Bearer ".concat(jt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return Ot.stop()}},at,this)})),function(at,et,$,tt){return Tt.apply(this,arguments)})},{key:"getProfileDetails",value:(ut=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.get(ot(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return ut.apply(this,arguments)})},{key:"updateProfile",value:(J=h()(r.a.mark(function at(et,$,tt,pt){var wt,jt;return r.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return wt={name:$,avatar_url:tt,adult:pt},Ot.next=3,this.request.getToken();case 3:return jt=Ot.sent,Ot.abrupt("return",this.request.put(ot(et),v.a.stringify(wt),{headers:{Authorization:"Bearer ".concat(jt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return Ot.stop()}},at,this)})),function(at,et,$,tt){return J.apply(this,arguments)})},{key:"deleteProfile",value:(Y=h()(r.a.mark(function at(et){var $;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.request.getToken();case 2:return $=tt.sent,tt.abrupt("return",this.request.delete(ot(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return tt.stop()}},at,this)})),function(at){return Y.apply(this,arguments)})},{key:"getFeatureFlags",value:(Z=h()(r.a.mark(function at(){var et;return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.request.getToken();case 2:return et=$.sent,$.abrupt("return",this.request.get(fr,{headers:{Authorization:"Bearer ".concat(et.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 4:case"end":return $.stop()}},at,this)})),function(){return Z.apply(this,arguments)})}]),ae}(B),pr=n(46),Ne=n.n(pr),dr=n(82),gr=n.n(dr),Oe=function(){function V(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=Z.token,J=Y===void 0?"":Y,ut=Z.refreshToken,Tt=ut===void 0?"":ut,qt=Z.expires,Dt=qt===void 0?0:qt;a()(this,V),s()(this,"token",void 0),s()(this,"refreshToken",void 0),s()(this,"expires",void 0),this.token=J,this.refreshToken=Tt,this.expires=Dt}return f()(V,[{key:"isExpired",value:function(){return mr()>this.expires}},{key:"toObject",value:function(){return{token:this.token,refreshToken:this.refreshToken,expires:this.expires}}}]),V}(),he=function(V,Z){var Y={url:new URL(V)},J=Y.url,ut=Y.url.searchParams;return Object.keys(Z).forEach(function(Tt){ut.set(Tt,Z[Tt])}),J.href},be=function(V){if(Promise&&Promise.resolve)return Promise.resolve(V)===V;throw"Promise not supported in your environment"},Re=function(V){return V?new Oe(JSON.parse(V)):new Oe},mr=function(){return Math.floor(Date.now()/1e3)};function yr(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var we,Ae,vr=function(V){x()(Ft,V);var Z,Y,J,ut,Tt,qt,Dt,Ut,Rt,Ht,Mt,Et,ct,At,Lt,Xt,Gt=yr(Ft);function Ft(xt,kt){return a()(this,Ft),Gt.call(this,xt,kt)}return f()(Ft,[{key:"checkAccessForAsset",value:(Xt=h()(r.a.mark(function xt(kt){var gt;return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.next=2,this.request.getToken();case 2:return gt=bt.sent,bt.abrupt("return",this.request.authenticatedGet(ht(kt),{headers:{Authorization:"Bearer ".concat(gt.token)}}));case 4:case"end":return bt.stop()}},xt,this)})),function(xt){return Xt.apply(this,arguments)})},{key:"isFreeTrialUsed",value:(Lt=h()(r.a.mark(function xt(kt){var gt;return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.next=2,this.request.getToken();case 2:return gt=bt.sent,bt.abrupt("return",this.request.authenticatedGet(Jt(kt),{headers:{Authorization:"Bearer ".concat(gt.token)}}));case 4:case"end":return bt.stop()}},xt,this)})),function(xt){return Lt.apply(this,arguments)})},{key:"getAsset",value:(At=h()(r.a.mark(function xt(kt,gt){return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.abrupt("return",this.request.get(nt(kt,gt)));case 1:case"end":return bt.stop()}},xt,this)})),function(xt,kt){return At.apply(this,arguments)})},{key:"getExternalAsset",value:(ct=h()(r.a.mark(function xt(kt,gt){var bt,It=arguments;return r.a.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return bt=It.length>2&&It[2]!==void 0?It[2]:"",Kt.abrupt("return",this.request.get(dt(kt,gt,bt)));case 2:case"end":return Kt.stop()}},xt,this)})),function(xt,kt){return ct.apply(this,arguments)})},{key:"getPackage",value:(Et=h()(r.a.mark(function xt(kt){return r.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.abrupt("return",this.request.get(Qt(kt)));case 1:case"end":return gt.stop()}},xt,this)})),function(xt){return Et.apply(this,arguments)})},{key:"getAssetsInPackage",value:(Mt=h()(r.a.mark(function xt(kt){return r.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.abrupt("return",this.request.get(te(kt)));case 1:case"end":return gt.stop()}},xt,this)})),function(xt){return Mt.apply(this,arguments)})},{key:"getAssetAccessFees",value:(Ht=h()(r.a.mark(function xt(kt){return r.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.abrupt("return",this.request.get(ce(kt)));case 1:case"end":return gt.stop()}},xt,this)})),function(xt){return Ht.apply(this,arguments)})},{key:"getAssetsHistory",value:(Rt=h()(r.a.mark(function xt(){var kt,gt,bt,It,Kt,mt,Q=arguments;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return kt=Q.length>0&&Q[0]!==void 0?Q[0]:10,gt=Q.length>1&&Q[1]!==void 0?Q[1]:0,bt=Q.length>2?Q[2]:void 0,It=Q.length>3?Q[3]:void 0,Kt=Q.length>4?Q[4]:void 0,st.next=7,this.request.getToken();case 7:return mt=st.sent,st.abrupt("return",this.request.authenticatedGet(Ye(kt,gt,bt,It,Kt),{headers:{Authorization:"Bearer ".concat(mt.token)}}));case 9:case"end":return st.stop()}},xt,this)})),function(){return Rt.apply(this,arguments)})},{key:"requestCodeAccess",value:(Ut=h()(r.a.mark(function xt(kt){var gt,bt,It,Kt,mt,Q,st;return r.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return gt=kt.item_id,bt=kt.code,It=new FormData,_t.next=4,Ne.a.getPromise();case 4:return Kt=_t.sent,mt=Ne.a.x64hash128(gr()(Kt,function(St,Pt){return"".concat(St).concat(Pt.value)},""),31),It.set("item_id",String(gt)),It.set("code",String(bt)),It.set("browser_fingerprint",mt),_t.next=11,this.request.post(Vt,It);case 11:return Q=_t.sent,st={item_id:gt,code:bt,browser_fingerprint:mt,code_id:Q.data.code_id},_t.next=15,ie.setItem(this.config.INPLAYER_ACCESS_CODE_NAME(gt),JSON.stringify(st));case 15:return _t.abrupt("return",Q);case 16:case"end":return _t.stop()}},xt,this)})),function(xt){return Ut.apply(this,arguments)})},{key:"getAccessCode",value:function(xt){var kt=ie.getItem(this.config.INPLAYER_ACCESS_CODE_NAME(xt));return be(kt)?kt.then(function(gt){return gt?JSON.parse(gt):null}):kt?JSON.parse(kt):null}},{key:"getAccesCodeSessions",value:(Dt=h()(r.a.mark(function xt(kt){return r.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.abrupt("return",this.request.get($t(kt)));case 1:case"end":return gt.stop()}},xt,this)})),function(xt){return Dt.apply(this,arguments)})},{key:"terminateSession",value:(qt=h()(r.a.mark(function xt(kt){var gt,bt;return r.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return It.next=2,this.getAccessCode(kt);case 2:if(gt=It.sent){It.next=5;break}return It.abrupt("return",null);case 5:return It.next=7,this.request.delete(ee(gt.code_id,gt.browser_fingerprint));case 7:return bt=It.sent,It.next=10,ie.removeItem(this.config.INPLAYER_ACCESS_CODE_NAME(kt));case 10:return It.abrupt("return",bt);case 11:case"end":return It.stop()}},xt,this)})),function(xt){return qt.apply(this,arguments)})},{key:"requestDataCaptureNoAuthAccess",value:(Tt=h()(r.a.mark(function xt(kt){var gt,bt,It,Kt,mt,Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return gt=kt.email,bt=kt.full_name,It=kt.company,Kt=kt.merchant_uuid,mt={email:gt,full_name:bt,company:It,merchant_uuid:Kt},Q={"Content-Type":"application/x-www-form-urlencoded"},st.abrupt("return",this.request.post(m,v.a.stringify(mt),{headers:Q}));case 4:case"end":return st.stop()}},xt,this)})),function(xt){return Tt.apply(this,arguments)})},{key:"getCloudfrontURL",value:(ut=h()(r.a.mark(function xt(kt,gt){var bt;return r.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return It.next=2,this.request.getToken();case 2:return bt=It.sent,It.abrupt("return",this.request.get(Se(kt,gt),{headers:{Authorization:"Bearer ".concat(bt.token)}}));case 4:case"end":return It.stop()}},xt,this)})),function(xt,kt){return ut.apply(this,arguments)})},{key:"getDonationOptions",value:(J=h()(r.a.mark(function xt(kt){var gt;return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.next=2,this.request.getToken();case 2:return gt=bt.sent,bt.abrupt("return",this.request.get(oe(kt),{headers:{Authorization:"Bearer ".concat(gt.token)}}));case 4:case"end":return bt.stop()}},xt,this)})),function(xt){return J.apply(this,arguments)})},{key:"getSignedMediaToken",value:(Y=h()(r.a.mark(function xt(kt,gt){var bt,It;return r.a.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return Kt.next=2,this.request.getToken();case 2:return bt=Kt.sent,It={},bt.token&&(It.Authorization="Bearer ".concat(bt.token)),Kt.abrupt("return",this.request.get(le(kt,gt),{headers:It}));case 6:case"end":return Kt.stop()}},xt,this)})),function(xt,kt){return Y.apply(this,arguments)})},{key:"getSiteEntitlements",value:(Z=h()(r.a.mark(function xt(kt){var gt,bt;return r.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return It.next=2,this.request.getToken();case 2:return gt=It.sent,bt={},gt.token&&(bt.Authorization="Bearer ".concat(gt.token)),It.abrupt("return",this.request.get(Ee(kt),{headers:bt}));case 6:case"end":return It.stop()}},xt,this)})),function(xt){return Z.apply(this,arguments)})}]),Ft}(B);function Be(V,Z){var Y=Object.keys(V);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(V);Z&&(J=J.filter(function(ut){return Object.getOwnPropertyDescriptor(V,ut).enumerable})),Y.push.apply(Y,J)}return Y}function Ie(V){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?Be(Object(Y),!0).forEach(function(J){s()(V,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Y)):Be(Object(Y)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(Y,J))})}return V}function br(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}(function(V){V.APPLE_PAY_ON_WEB="apple pay on web",V.GOOGLE_PAY_ON_WEB="google pay on web"})(we||(we={})),function(V){V.AMAZON="amazon",V.APPLE="apple",V.GOOGLE_PLAY="google-play",V.ROKU="roku"}(Ae||(Ae={}));var wr=function(V){x()(Kt,V);var Z,Y,J,ut,Tt,qt,Dt,Ut,Rt,Ht,Mt,Et,ct,At,Lt,Xt,Gt,Ft,xt,kt,gt,bt,It=br(Kt);function Kt(mt,Q){return a()(this,Kt),It.call(this,mt,Q)}return f()(Kt,[{key:"getPaymentMethods",value:(bt=h()(r.a.mark(function mt(){var Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,this.request.getToken();case 2:return Q=st.sent,st.abrupt("return",this.request.authenticatedGet(me,{headers:{Authorization:"Bearer ".concat(Q.token)}}));case 4:case"end":return st.stop()}},mt,this)})),function(){return bt.apply(this,arguments)})},{key:"createPayment",value:(gt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct,zt,Wt,pe,ke,ae,at,et,$;return r.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return st=Q.number,_t=Q.cardName,St=Q.expMonth,Pt=Q.expYear,Bt=Q.cvv,Nt=Q.accessFee,Ct=Q.paymentMethod,zt=Q.referrer,Wt=Q.voucherCode,pe=Q.brandingId,ke=Q.returnUrl,ae=Q.receiverEmail,at=Q.isGift,et={number:st,card_name:_t,exp_month:St,exp_year:Pt,cvv:Bt,access_fee:Nt,payment_method:Ct,referrer:zt,branding_id:pe,return_url:he(ke,{ippwat:"ppv"})},Wt&&(et.voucher_code=Wt),at&&(et.is_gift=at,et.receiver_email=ae),tt.next=6,this.request.getToken();case 6:return $=tt.sent,tt.abrupt("return",this.request.authenticatedPost(Ce,v.a.stringify(et),{headers:{Authorization:"Bearer ".concat($.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return tt.stop()}},mt,this)})),function(mt){return gt.apply(this,arguments)})},{key:"createDonationPayment",value:(kt=h()(r.a.mark(function mt(Q){var st,_t;return r.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:return st={number:Q.number,card_name:Q.cardName,exp_month:Q.expMonth,exp_year:Q.expYear,cvv:Q.cvv,payment_method:Q.paymentMethod,referrer:Q.referrer,branding_id:Q.brandingId,currency_iso:Q.currency,amount:Q.amount,item_id:Q.assetId,donation_id:Q.donationId,return_url:he(Q.returnUrl,{ippwat:"ppv"})},St.next=3,this.request.getToken();case 3:return _t=St.sent,St.abrupt("return",this.request.authenticatedPost(Ve,v.a.stringify(st),{headers:{Authorization:"Bearer ".concat(_t.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 5:case"end":return St.stop()}},mt,this)})),function(mt){return kt.apply(this,arguments)})},{key:"confirmPayment",value:(xt=h()(r.a.mark(function mt(Q){var st,_t;return r.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:if(Q){St.next=3;break}throw{response:{status:400,data:{code:400,message:"Payment Intend Id is a required parameter!"}}};case 3:return st={pi_id:Q},St.next=6,this.request.getToken();case 6:return _t=St.sent,St.abrupt("return",this.request.authenticatedPost(Ce,v.a.stringify(st),{headers:{Authorization:"Bearer ".concat(_t.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return St.stop()}},mt,this)})),function(mt){return xt.apply(this,arguments)})},{key:"confirmDonationPayment",value:(Ft=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt;return r.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(st=Q.paymentIntentId,_t=Q.brandingId,St=Q.paymentMethod,Pt=Q.donationId,st){Ct.next=4;break}throw{response:{status:400,data:{code:400,message:"Payment Intend Id is a required parameter!"}}};case 4:return Bt={pi_id:st,branding_id:_t,payment_method:St,donation_id:Pt},Ct.next=7,this.request.getToken();case 7:return Nt=Ct.sent,Ct.abrupt("return",this.request.authenticatedPost(Ge,v.a.stringify(Bt),{headers:{Authorization:"Bearer ".concat(Nt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 9:case"end":return Ct.stop()}},mt,this)})),function(mt){return Ft.apply(this,arguments)})},{key:"getPayPalParams",value:(Gt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct;return r.a.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return st=Q.origin,_t=Q.accessFeeId,St=Q.paymentMethod,Pt=Q.voucherCode,Bt=Q.brandingId,(Nt=new FormData).append("origin",st),Nt.append("access_fee",String(_t)),Nt.append("payment_method",String(St)),Nt.append("branding_id",String(Bt)),Pt&&Nt.append("voucher_code",Pt),zt.next=9,this.request.getToken();case 9:return Ct=zt.sent,zt.abrupt("return",this.request.authenticatedPost(ze,Nt,{headers:{Authorization:"Bearer ".concat(Ct.token)}}));case 11:case"end":return zt.stop()}},mt,this)})),function(mt){return Gt.apply(this,arguments)})},{key:"getPurchaseHistory",value:(Xt=h()(r.a.mark(function mt(){var Q,st,_t,St,Pt=arguments;return r.a.wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Q=Pt.length>0&&Pt[0]!==void 0?Pt[0]:"active",st=Pt.length>1&&Pt[1]!==void 0?Pt[1]:0,_t=Pt.length>2&&Pt[2]!==void 0?Pt[2]:5,Bt.next=5,this.request.getToken();case 5:return St=Bt.sent,Bt.abrupt("return",this.request.authenticatedGet(ge(Q,st,_t),{headers:{Authorization:"Bearer ".concat(St.token)}}));case 7:case"end":return Bt.stop()}},mt,this)})),function(){return Xt.apply(this,arguments)})},{key:"getPaymentHistory",value:(Lt=h()(r.a.mark(function mt(){var Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,this.request.getToken();case 2:return Q=st.sent,st.abrupt("return",this.request.authenticatedGet(fe(),{headers:{Authorization:"Bearer ".concat(Q.token)}}));case 4:case"end":return st.stop()}},mt,this)})),function(){return Lt.apply(this,arguments)})},{key:"getBillingReceipt",value:(At=h()(r.a.mark(function mt(Q){var st,_t;return r.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:return st=Q.trxToken,St.next=3,this.request.getToken();case 3:return _t=St.sent,St.abrupt("return",this.request.authenticatedGet(Te(st),{responseType:"blob",headers:{Authorization:"Bearer ".concat(_t.token)}}));case 5:case"end":return St.stop()}},mt,this)})),function(mt){return At.apply(this,arguments)})},{key:"getDefaultCreditCard",value:(ct=h()(r.a.mark(function mt(){var Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,this.request.getToken();case 2:return Q=st.sent,st.abrupt("return",this.request.authenticatedGet(Pe,{headers:{Authorization:"Bearer ".concat(Q.token)}}));case 4:case"end":return st.stop()}},mt,this)})),function(){return ct.apply(this,arguments)})},{key:"setDefaultCreditCard",value:(Et=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct,zt;return r.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return st=Q.cardNumber,_t=Q.cardName,St=Q.cvc,Pt=Q.expMonth,Bt=Q.expYear,Nt=Q.currency,Ct={number:st,card_name:_t,cvv:St,exp_month:Pt,exp_year:Bt,currency_iso:Nt},Wt.next=4,this.request.getToken();case 4:return zt=Wt.sent,Wt.abrupt("return",this.request.authenticatedPut(je,v.a.stringify(Ct),{headers:{Authorization:"Bearer ".concat(zt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Wt.stop()}},mt,this)})),function(mt){return Et.apply(this,arguments)})},{key:"getDirectDebitMandate",value:(Mt=h()(r.a.mark(function mt(){var Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,this.request.getToken();case 2:return Q=st.sent,st.abrupt("return",this.request.authenticatedGet(He,{headers:{Authorization:"Bearer ".concat(Q.token)}}));case 4:case"end":return st.stop()}},mt,this)})),function(){return Mt.apply(this,arguments)})},{key:"createDirectDebitMandate",value:(Ht=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt;return r.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return st=Q.name,_t=Q.iban,St=Q.address,Pt=Ie({name:st,iban:_t},St&&{address:St}),Nt.next=4,this.request.getToken();case 4:return Bt=Nt.sent,Nt.abrupt("return",this.request.authenticatedPost(We,v.a.stringify(Pt),{headers:{Authorization:"Bearer ".concat(Bt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Nt.stop()}},mt,this)})),function(mt){return Ht.apply(this,arguments)})},{key:"directDebitCharge",value:(Rt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct;return r.a.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return st=Q.accessFeeId,_t=Q.assetId,St=Q.voucherCode,Pt=Q.brandingId,Bt=Q.referrer,Nt={access_fee_id:st,item_id:_t,voucher_code:St,payment_method:"Direct Debit",branding_id:Pt,referrer:Bt},zt.next=4,this.request.getToken();case 4:return Ct=zt.sent,zt.abrupt("return",this.request.authenticatedPost(ye,v.a.stringify(Nt),{headers:{Authorization:"Bearer ".concat(Ct.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return zt.stop()}},mt,this)})),function(mt){return Rt.apply(this,arguments)})},{key:"directDebitSubscribe",value:(Ut=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct;return r.a.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return st=Q.accessFeeId,_t=Q.assetId,St=Q.voucherCode,Pt=Q.brandingId,Bt=Q.referrer,Nt={item_id:_t,access_fee_id:st,voucher_code:St,payment_method:"Direct Debit",branding_id:Pt,referrer:Bt},zt.next=4,this.request.getToken();case 4:return Ct=zt.sent,zt.abrupt("return",this.request.authenticatedPost(ve,v.a.stringify(Nt),{headers:{Authorization:"Bearer ".concat(Ct.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return zt.stop()}},mt,this)})),function(mt){return Ut.apply(this,arguments)})},{key:"idealPayment",value:(Dt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct,zt;return r.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return st=Q.accessFeeId,_t=Q.bank,St=Q.returnUrl,Pt=Q.referrer,Bt=Q.brandingId,Nt=Q.voucherCode,Ct={payment_method:"ideal",access_fee_id:st,bank:_t,return_url:he(St,{ippwat:"ppv"}),referrer:Pt},Bt&&(Ct.branding_id=Bt),Nt&&(Ct.voucher_code=Nt),Wt.next=6,this.request.getToken();case 6:return zt=Wt.sent,Wt.abrupt("return",this.request.authenticatedPost(ye,v.a.stringify(Ct),{headers:{Authorization:"Bearer ".concat(zt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return Wt.stop()}},mt,this)})),function(mt){return Dt.apply(this,arguments)})},{key:"idealSubscribe",value:(qt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct,zt;return r.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return st=Q.accessFeeId,_t=Q.bank,St=Q.returnUrl,Pt=Q.referrer,Bt=Q.brandingId,Nt=Q.voucherCode,Ct={payment_method:"ideal",access_fee_id:st,bank:_t,return_url:he(St,{ippwat:"subscription"}),referrer:Pt},Bt&&(Ct.branding_id=Bt),Nt&&(Ct.voucher_code=Nt),Wt.next=6,this.request.getToken();case 6:return zt=Wt.sent,Wt.abrupt("return",this.request.authenticatedPost(ve,v.a.stringify(Ct),{headers:{Authorization:"Bearer ".concat(zt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return Wt.stop()}},mt,this)})),function(mt){return qt.apply(this,arguments)})},{key:"googlePayPayment",value:(Tt=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt;return r.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return st=Q.accessFeeId,_t=Q.referrer,St=Q.brandingId,Pt=Q.voucherCode,Bt={payment_method:we.GOOGLE_PAY_ON_WEB,access_fee_id:st,voucher_code:Pt,branding_id:St,referrer:_t},Ct.next=4,this.request.getToken();case 4:return Nt=Ct.sent,Ct.abrupt("return",this.request.authenticatedPost(ye,v.a.stringify(Bt),{headers:{Authorization:"Bearer ".concat(Nt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Ct.stop()}},mt,this)})),function(mt){return Tt.apply(this,arguments)})},{key:"applePayPayment",value:(ut=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt;return r.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return st=Q.accessFeeId,_t=Q.referrer,St=Q.brandingId,Pt=Q.voucherCode,Bt={payment_method:we.APPLE_PAY_ON_WEB,access_fee_id:st,voucher_code:Pt,branding_id:St,referrer:_t},Ct.next=4,this.request.getToken();case 4:return Nt=Ct.sent,Ct.abrupt("return",this.request.authenticatedPost(ye,v.a.stringify(Bt),{headers:{Authorization:"Bearer ".concat(Nt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Ct.stop()}},mt,this)})),function(mt){return ut.apply(this,arguments)})},{key:"validateReceipt",value:(J=h()(r.a.mark(function mt(Q){var st,_t,St,Pt,Bt,Nt,Ct,zt;return r.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return st=Q.platform,_t=Q.receipt,St=Q.productName,Pt=Q.itemId,Bt=Q.accessFeeId,Nt=Q.amazonUserId,Ct=Ie(Ie({receipt:_t},St?{product_name:St}:{item_id:Pt,access_fee_id:Bt}),st===Ae.AMAZON?{amazon_user_id:Nt}:{}),Wt.next=4,this.request.getToken();case 4:return zt=Wt.sent,Wt.abrupt("return",this.request.authenticatedPost(Ke(String(st)),v.a.stringify(Ct),{headers:{Authorization:"Bearer ".concat(zt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Wt.stop()}},mt,this)})),function(mt){return J.apply(this,arguments)})},{key:"getSitePlans",value:(Y=h()(r.a.mark(function mt(Q,st){return r.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.abrupt("return",this.request.get(Je(Q,st),{headers:{Accept:"application/json","Content-Type":"application/json"}}));case 1:case"end":return _t.stop()}},mt,this)})),function(mt,Q){return Y.apply(this,arguments)})},{key:"getSitePlanPrices",value:(Z=h()(r.a.mark(function mt(Q,st){return r.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.abrupt("return",this.request.get(Xe(Q,st),{headers:{Accept:"application/json","Content-Type":"application/json"}}));case 1:case"end":return _t.stop()}},mt,this)})),function(mt,Q){return Z.apply(this,arguments)})}]),Kt}(B);function _r(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var xr=function(V){x()(Mt,V);var Z,Y,J,ut,Tt,qt,Dt,Ut,Rt,Ht=_r(Mt);function Mt(Et,ct){return a()(this,Mt),Ht.call(this,Et,ct)}return f()(Mt,[{key:"getSubscriptions",value:(Rt=h()(r.a.mark(function Et(){var ct,At,Lt,Xt,Gt=arguments;return r.a.wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return ct=Gt.length>0&&Gt[0]!==void 0?Gt[0]:0,At=Gt.length>1&&Gt[1]!==void 0?Gt[1]:15,Lt=Gt.length>2&&Gt[2]!==void 0?Gt[2]:"",Ft.next=5,this.request.getToken();case 5:return Xt=Ft.sent,Ft.abrupt("return",this.request.authenticatedGet(Qe(At,ct,Lt),{headers:{Authorization:"Bearer ".concat(Xt.token)}}));case 7:case"end":return Ft.stop()}},Et,this)})),function(){return Rt.apply(this,arguments)})},{key:"getSubscription",value:(Ut=h()(r.a.mark(function Et(ct){var At;return r.a.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,this.request.getToken();case 2:return At=Lt.sent,Lt.abrupt("return",this.request.authenticatedGet($e(ct),{headers:{Authorization:"Bearer ".concat(At.token)}}));case 4:case"end":return Lt.stop()}},Et,this)})),function(Et){return Ut.apply(this,arguments)})},{key:"cancelSubscription",value:(Dt=h()(r.a.mark(function Et(ct){var At;return r.a.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,this.request.getToken();case 2:return At=Lt.sent,Lt.abrupt("return",this.request.authenticatedGet(Ze(ct),{headers:{Authorization:"Bearer ".concat(At.token)}}));case 4:case"end":return Lt.stop()}},Et,this)})),function(Et){return Dt.apply(this,arguments)})},{key:"createSubscription",value:(qt=h()(r.a.mark(function Et(ct){var At,Lt,Xt,Gt,Ft,xt,kt,gt,bt,It,Kt,mt,Q;return r.a.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return At=ct.number,Lt=ct.cardName,Xt=ct.expMonth,Gt=ct.expYear,Ft=ct.cvv,xt=ct.accessFee,kt=ct.paymentMethod,gt=ct.referrer,bt=ct.voucherCode,It=ct.brandingId,Kt=ct.returnUrl,mt={number:At,card_name:Lt,exp_month:Xt,exp_year:Gt,cvv:Ft,access_fee:xt,payment_method:kt,referrer:gt,branding_id:It,return_url:Kt},bt&&(mt.voucher_code=bt),st.next=5,this.request.getToken();case 5:return Q=st.sent,st.abrupt("return",this.request.authenticatedPost(tr,v.a.stringify(mt),{headers:{Authorization:"Bearer ".concat(Q.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 7:case"end":return st.stop()}},Et,this)})),function(Et){return qt.apply(this,arguments)})},{key:"changeSubscriptionPlan",value:(Tt=h()(r.a.mark(function Et(ct){var At,Lt,Xt,Gt;return r.a.wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return At=ct.access_fee_id,Lt=ct.inplayer_token,Xt={access_fee_id:At,inplayer_token:Lt},Ft.next=4,this.request.getToken();case 4:return Gt=Ft.sent,Ft.abrupt("return",this.request.authenticatedPost(er,v.a.stringify(Xt),{headers:{Authorization:"Bearer ".concat(Gt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return Ft.stop()}},Et,this)})),function(Et){return Tt.apply(this,arguments)})},{key:"directDebitSubscribe",value:(ut=h()(r.a.mark(function Et(ct){var At,Lt,Xt,Gt,Ft,xt,kt;return r.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return At=ct.accessFeeId,Lt=ct.assetId,Xt=ct.voucherCode,Gt=ct.brandingId,Ft=ct.referrer,xt={item_id:Lt,access_fee_id:At,voucher_code:Xt,payment_method:"Direct Debit",branding_id:Gt,referrer:Ft},gt.next=4,this.request.getToken();case 4:return kt=gt.sent,gt.abrupt("return",this.request.authenticatedPost(ve,v.a.stringify(xt),{headers:{Authorization:"Bearer ".concat(kt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return gt.stop()}},Et,this)})),function(Et){return ut.apply(this,arguments)})},{key:"idealSubscribe",value:(J=h()(r.a.mark(function Et(ct){var At,Lt,Xt,Gt,Ft,xt,kt,gt;return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return At=ct.accessFeeId,Lt=ct.bank,Xt=ct.returnUrl,Gt=ct.referrer,Ft=ct.brandingId,xt=ct.voucherCode,kt={payment_method:"ideal",access_fee_id:At,bank:Lt,return_url:he(Xt,{ippwat:"subscription"}),referrer:Gt},Ft&&(kt.branding_id=Ft),xt&&(kt.voucher_code=xt),bt.next=6,this.request.getToken();case 6:return gt=bt.sent,bt.abrupt("return",this.request.authenticatedPost(ve,v.a.stringify(kt),{headers:{Authorization:"Bearer ".concat(gt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return bt.stop()}},Et,this)})),function(Et){return J.apply(this,arguments)})},{key:"getDefaultCreditCard",value:(Y=h()(r.a.mark(function Et(){var ct;return r.a.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,this.request.getToken();case 2:return ct=At.sent,At.abrupt("return",this.request.authenticatedGet(Pe,{headers:{Authorization:"Bearer ".concat(ct.token)}}));case 4:case"end":return At.stop()}},Et,this)})),function(){return Y.apply(this,arguments)})},{key:"setDefaultCreditCard",value:(Z=h()(r.a.mark(function Et(ct){var At,Lt,Xt,Gt,Ft,xt,kt,gt;return r.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return At=ct.cardNumber,Lt=ct.cardName,Xt=ct.cvc,Gt=ct.expMonth,Ft=ct.expYear,xt=ct.currency,kt={number:At,card_name:Lt,cvv:Xt,exp_month:Gt,exp_year:Ft,currency_iso:xt},bt.next=4,this.request.getToken();case 4:return gt=bt.sent,bt.abrupt("return",this.request.authenticatedPut(je,v.a.stringify(kt),{headers:{Authorization:"Bearer ".concat(gt.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 6:case"end":return bt.stop()}},Et,this)})),function(Et){return Z.apply(this,arguments)})}]),Mt}(B);function kr(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var Sr=function(V){x()(J,V);var Z,Y=kr(J);function J(ut,Tt){return a()(this,J),Y.call(this,ut,Tt)}return f()(J,[{key:"getBranding",value:(Z=h()(r.a.mark(function ut(Tt){var qt,Dt=arguments;return r.a.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return qt=Dt.length>1&&Dt[1]!==void 0?Dt[1]:"default",Ut.abrupt("return",this.request.get(nr(Tt,qt)));case 2:case"end":return Ut.stop()}},ut,this)})),function(ut){return Z.apply(this,arguments)})}]),J}(B);function Tr(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var Er=function(V){x()(J,V);var Z,Y=Tr(J);function J(ut,Tt){return a()(this,J),Y.call(this,ut,Tt)}return f()(J,[{key:"getDiscount",value:(Z=h()(r.a.mark(function ut(Tt){var qt,Dt,Ut,Rt,Ht;return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return qt=Tt.voucherCode,Dt=Tt.accessFeeId,Ut=Tt.itemId,Rt={voucher_code:qt},Dt&&(Rt.access_fee_id=Dt),Ut&&(Rt.item_id=Ut),Mt.next=6,this.request.getToken();case 6:return Ht=Mt.sent,Mt.abrupt("return",this.request.authenticatedPost(rr,v.a.stringify(Rt),{headers:{Authorization:"Bearer ".concat(Ht.token),"Content-Type":"application/x-www-form-urlencoded"}}));case 8:case"end":return Mt.stop()}},ut,this)})),function(ut){return Z.apply(this,arguments)})}]),J}(B);function Or(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var Ar=function(V){x()(Ut,V);var Z,Y,J,ut,Tt,qt,Dt=Or(Ut);function Ut(Rt,Ht){return a()(this,Ut),Dt.call(this,Rt,Ht)}return f()(Ut,[{key:"getMerchantMarketplace",value:(qt=h()(r.a.mark(function Rt(Ht){return r.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.abrupt("return",this.request.get(ir(Ht)));case 1:case"end":return Mt.stop()}},Rt,this)})),function(Rt){return qt.apply(this,arguments)})},{key:"getMerchantNFTList",value:(Tt=h()(r.a.mark(function Rt(Ht){var Mt,Et,ct,At=arguments;return r.a.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Mt=At.length>1&&At[1]!==void 0?At[1]:1,Et=At.length>2&&At[2]!==void 0?At[2]:50,ct=At.length>3&&At[3]!==void 0?At[3]:"published",Lt.abrupt("return",this.request.get(or(Ht,Mt,Et,ct)));case 4:case"end":return Lt.stop()}},Rt,this)})),function(Rt){return Tt.apply(this,arguments)})},{key:"getMerchantNFT",value:(ut=h()(r.a.mark(function Rt(Ht,Mt){return r.a.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return Et.abrupt("return",this.request.get(ar(Ht,Mt)));case 1:case"end":return Et.stop()}},Rt,this)})),function(Rt,Ht){return ut.apply(this,arguments)})},{key:"getExchangeRates",value:(J=h()(r.a.mark(function Rt(Ht){var Mt,Et=arguments;return r.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return Mt=Et.length>1&&Et[1]!==void 0&&Et[1],ct.abrupt("return",this.request.get(sr(Ht,Mt)));case 2:case"end":return ct.stop()}},Rt,this)})),function(Rt){return J.apply(this,arguments)})},{key:"getUserBoughtNFTs",value:(Y=h()(r.a.mark(function Rt(){var Ht,Mt,Et,ct=arguments;return r.a.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return Ht=ct.length>0&&ct[0]!==void 0?ct[0]:1,Mt=ct.length>1&&ct[1]!==void 0?ct[1]:50,At.next=4,this.request.getToken();case 4:return Et=At.sent,At.abrupt("return",this.request.authenticatedGet(ur(Ht,Mt),{headers:{Authorization:"Bearer ".concat(Et.token)}}));case 6:case"end":return At.stop()}},Rt,this)})),function(){return Y.apply(this,arguments)})},{key:"makeReservation",value:(Z=h()(r.a.mark(function Rt(Ht,Mt){var Et;return r.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return ct.next=2,this.request.getToken();case 2:return Et=ct.sent,ct.abrupt("return",this.request.authenticatedPost(cr(Ht,Mt),{headers:{Authorization:"Bearer ".concat(Et.token)}}));case 4:case"end":return ct.stop()}},Rt,this)})),function(Rt,Ht){return Z.apply(this,arguments)})}]),Ut}(B),Ir=n(83),Cr=n.n(Ir);function Me(V,Z){var Y=Object.keys(V);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(V);Z&&(J=J.filter(function(ut){return Object.getOwnPropertyDescriptor(V,ut).enumerable})),Y.push.apply(Y,J)}return Y}function _e(V){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?Me(Object(Y),!0).forEach(function(J){s()(V,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Y)):Me(Object(Y)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(Y,J))})}return V}function Pr(V){var Z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Y,J=u()(V);if(Z){var ut=u()(this).constructor;Y=Reflect.construct(J,arguments,ut)}else Y=J.apply(this,arguments);return _()(this,Y)}}var jr=18e5,Nr=function(V){x()(ut,V);var Z,Y,J=Pr(ut);function ut(Tt,qt){var Dt;return a()(this,ut),Dt=J.call(this,Tt,qt),s()(g()(Dt),"subscription",void 0),Dt.subscription=null,Dt}return f()(ut,[{key:"getIotToken",value:(Y=h()(r.a.mark(function Tt(){var qt,Dt;return r.a.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.next=2,this.request.getToken();case 2:return qt=Ut.sent,Ut.next=5,this.request.authenticatedGet(this.config.AWS_IOT_URL,{headers:{Authorization:"Bearer ".concat(qt.token)}});case 5:return Dt=Ut.sent,Ut.abrupt("return",_e(_e({},Dt.data),{},{iotEndpoint:this.config.IOT_NOTIF_URL}));case 7:case"end":return Ut.stop()}},Tt,this)})),function(){return Y.apply(this,arguments)})},{key:"subscribe",value:(Z=h()(r.a.mark(function Tt(){var qt,Dt,Ut,Rt,Ht,Mt,Et=arguments;return r.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(qt=Et.length>0&&Et[0]!==void 0?Et[0]:"",Dt=Et.length>1?Et[1]:void 0,qt||qt!==""){ct.next=4;break}return ct.abrupt("return",!1);case 4:if(!Dt||!Dt.onMessage){ct.next=10;break}if(typeof Dt.onMessage=="function"){ct.next=8;break}return console.warn("[InPlayer Notifications] onMessage not defined"),ct.abrupt("return",!1);case 8:ct.next=11;break;case 10:Dt.onMessage=function(At){return console.log("Received message:",At)};case 11:if(!Dt||!Dt.onOpen){ct.next=15;break}if(typeof Dt.onOpen=="function"){ct.next=15;break}return console.warn("[InPlayer Notifications] onOpen not defined"),ct.abrupt("return",!1);case 15:return ct.next=17,ie.getItem(this.config.INPLAYER_IOT_KEY);case 17:if((Ut=ct.sent)||console.warn("[InPlayer Notifications] Unable to fetch iot credentials"),Rt=JSON.parse(Ut),Ht=new Date().getTime(),!(Rt!=null&&Rt.expiresAt&&Ht<Rt.expiresAt)){ct.next=24;break}return this.handleSubscribe(Rt,Dt,qt),ct.abrupt("return",!0);case 24:return ct.next=26,this.getIotToken();case 26:return Mt=ct.sent,ct.next=29,ie.setItem(this.config.INPLAYER_IOT_KEY,JSON.stringify(_e(_e({},Mt),{},{expiresAt:new Date().getTime()+jr})));case 29:return this.handleSubscribe(Mt,Dt,qt),ct.abrupt("return",!0);case 31:case"end":return ct.stop()}},Tt,this)})),function(){return Z.apply(this,arguments)})},{key:"handleSubscribe",value:function(Tt,qt,Dt){var Ut={region:Tt.region,protocol:"wss",accessKeyId:Tt.accessKey,secretKey:Tt.secretKey,sessionToken:Tt.sessionToken,port:443,host:Tt.iotEndpoint},Rt=new Cr.a.device(Ut);Rt.on("connect",function(){Rt.subscribe(Dt),qt.onOpen()}),Rt.on("message",function(Ht,Mt){qt.onMessage(Mt.toString())}),Rt.on("close",function(){qt.onClose==="function"&&qt.onClose()}),this.setClient(Rt)}},{key:"setClient",value:function(Tt){this.subscription=Tt}},{key:"isSubscribed",value:function(){return this.subscription!==null}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.end(),this.subscription=null)}}]),ut}(B),Rr=n(26),xe=n.n(Rr);function Le(V,Z){var Y=Object.keys(V);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(V);Z&&(J=J.filter(function(ut){return Object.getOwnPropertyDescriptor(V,ut).enumerable})),Y.push.apply(Y,J)}return Y}function De(V){for(var Z=1;Z<arguments.length;Z++){var Y=arguments[Z]!=null?arguments[Z]:{};Z%2?Le(Object(Y),!0).forEach(function(J){s()(V,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Y)):Le(Object(Y)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(Y,J))})}return V}var Br=function V(Z){var Y=this;a()(this,V),s()(this,"config",void 0),s()(this,"basicInstance",void 0),s()(this,"authenticatedInstance",void 0),s()(this,"setInstanceConfig",function(J,ut){Y.config=P[J],Y.basicInstance=xe.a.create(De({baseURL:Y.config.BASE_URL},ut)),Y.authenticatedInstance=xe.a.create(De({baseURL:Y.config.BASE_URL},ut)),Y.authenticatedInstance.interceptors.request.use(Y.createAuthInterceptor)}),s()(this,"getToken",function(){var J=ie.getItem(Y.config.INPLAYER_TOKEN_KEY);return be(J)?J.then(function(ut){return Re(ut)}):Re(J)}),s()(this,"setToken",function(J,ut,Tt){var qt=new Oe({token:J,refreshToken:ut,expires:Tt});return ie.setItem(Y.config.INPLAYER_TOKEN_KEY,JSON.stringify(qt))}),s()(this,"removeToken",function(){var J=[ie.removeItem(Y.config.INPLAYER_TOKEN_KEY),ie.removeItem(Y.config.INPLAYER_IOT_KEY)];if(J.some(be))return Promise.all(J).then(function(){})}),s()(this,"isAuthenticated",function(){var J=Y.getToken();if(be(J))return J.then(function(Tt){return!Tt.isExpired()&&!!Tt.token});var ut=J;return!ut.isExpired()&&!!ut.token}),s()(this,"get",function(J,ut){return Y.basicInstance.get(J,ut||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"post",function(J,ut,Tt){return Y.basicInstance.post(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"put",function(J,ut,Tt){return Y.basicInstance.put(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"patch",function(J,ut,Tt){return Y.basicInstance.patch(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"delete",function(J,ut){return Y.basicInstance.delete(J,ut||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"authenticatedGet",function(J,ut){return Y.authenticatedInstance.get(J,ut||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"authenticatedPatch",function(J,ut,Tt){return Y.authenticatedInstance.patch(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"authenticatedPost",function(J,ut,Tt){return Y.authenticatedInstance.post(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"authenticatedPut",function(J,ut,Tt){return Y.authenticatedInstance.put(J,ut,Tt||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"authenticatedDelete",function(J,ut){return Y.authenticatedInstance.delete(J,ut||{headers:{Accept:"application/json","Content-Type":"application/json"}})}),s()(this,"createAuthInterceptor",function(J){if(!Y.isAuthenticated())throw{response:{status:401,data:{code:401,message:"The user is not authenticated."}}};return J}),this.config=Z,this.basicInstance=xe.a.create({baseURL:this.config.BASE_URL}),this.authenticatedInstance=xe.a.create({baseURL:this.config.BASE_URL}),this.authenticatedInstance.interceptors.request.use(this.createAuthInterceptor)},qe=function(){function V(){a()(this,V),s()(this,"config",void 0),s()(this,"Account",void 0),s()(this,"Asset",void 0),s()(this,"Payment",void 0),s()(this,"Subscription",void 0),s()(this,"Voucher",void 0),s()(this,"NFTs",void 0),s()(this,"Branding",void 0),s()(this,"Notifications",void 0),s()(this,"request",void 0),s()(this,"tokenStorage",ie),this.config=P.production,this.request=new Br(this.config),this.Account=new hr(this.config,this.request),this.Asset=new vr(this.config,this.request),this.Payment=new wr(this.config,this.request),this.Subscription=new xr(this.config,this.request),this.Voucher=new Er(this.config,this.request),this.Branding=new Sr(this.config,this.request),this.Notifications=new Nr(this.config,this.request),this.NFTs=new Ar(this.config,this.request)}return f()(V,[{key:"subscribe",value:function(Z,Y){this.request.isAuthenticated()&&this.Notifications.subscribe(Z,Y).then(function(J){J||console.error("An error has occured while subscribing.")}).catch(function(J){J.response&&console.warn(J.response)})}},{key:"isSubscribed",value:function(){return this.Notifications.isSubscribed()}},{key:"unsubscribe",value:function(){this.Notifications.unsubscribe()}},{key:"setConfig",value:function(Z,Y){this.config=P[Z],this.request.setInstanceConfig(Z,Y),this.Account.setConfig(Z),this.Asset.setConfig(Z),this.Branding.setConfig(Z),this.Notifications.setConfig(Z),this.Payment.setConfig(Z),this.Subscription.setConfig(Z),this.Voucher.setConfig(Z)}}]),V}();I.default=new qe}]).default})})(Ue);var Lr=Ue.exports;const Ur=Mr(Lr);export{Ur as I};
//# sourceMappingURL=inplayer-Dfyh36rh.js.map
